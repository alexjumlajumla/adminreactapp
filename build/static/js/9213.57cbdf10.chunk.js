"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[9213],{99213:(t,e,i)=>{i.r(e),i.d(e,{default:()=>_});var a=i(47313),n=i(97890),s=i(23560),l=i(83999),c=i(10976),d=i(77181),o=i(2717),r=i(90954),u=i(24511),v=i(73431),m=i(14241),g=i(65436),p=i(46417);const{Step:h}=l.Z,_=()=>{var t,e,i;const{t:_}=(0,u.$)(),{activeMenu:x}=(0,o.v9)((t=>t.menu),o.wU),S=(0,o.I0)(),[f]=c.Z.useForm(),k=(0,n.s0)(),[j,y]=(0,a.useState)(null!==(t=x.data)&&void 0!==t&&t.image?[null===(e=x.data)||void 0===e?void 0:e.image]:[]),[Z,b]=(0,a.useState)((null===(i=x.data)||void 0===i?void 0:i.step)||0),w=()=>{b(Z+1)},F=()=>{b(Z-1)},[$,q]=(0,a.useState)(!1);(0,a.useEffect)((()=>()=>{const t=f.getFieldsValue(!0);S((0,r.nc)({activeMenu:x,data:t}))}),[]);return(0,p.jsx)(d.Z,{title:_("add.recepe"),extra:(0,p.jsx)(v.Z,{}),children:(0,p.jsxs)(c.Z,{layout:"vertical",onFinish:t=>{var e,i;f.validateFields();const a={...t,total_time:t.total_time.toString(),active_time:t.active_time.toString(),images:null===j||void 0===j?void 0:j.map((t=>t.name)),category_id:t.category_id.value,stocks:null===(e=t.stocks)||void 0===e?void 0:e.map((t=>({min_quantity:t.min_quantity,stock_id:t.stock_id.value}))),nutrition:null===(i=t.nutrition)||void 0===i?void 0:i.map((t=>({...t,percentage:t.percentage.toString(),weight:t.weight.toString()})))};q(!0);const n="seller/recept";m.Z.create(a).then((()=>{s.Am.success(_("successfully.created")),k(`/${n}`),S((0,r.ph)({...x,nextUrl:n}))})).finally((()=>q(!1)))},form:f,initialValues:{active:!0,...x.data},children:[(0,p.jsx)(l.Z,{current:Z,children:g.S.map((t=>(0,p.jsx)(h,{title:_(t.title)},t.title)))}),g.S.map((t=>{const e=t.content;return(0,p.jsx)("div",{className:`steps-content ${t.step!==Z+1&&"hidden"}`,children:(0,p.jsx)(e,{next:w,prev:F,loading:$,image:j,setImage:y})},t.title)}))]})})}}}]);