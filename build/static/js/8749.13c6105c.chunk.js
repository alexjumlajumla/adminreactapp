"use strict";(self.webpackChunkjumlajumla_dashboard=self.webpackChunkjumlajumla_dashboard||[]).push([[8749],{31281:(e,l,t)=>{function a(e,l){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"title";const a=null===e||void 0===e?void 0:e.map((e=>({[null===e||void 0===e?void 0:e.locale]:l[`${t}[${null===e||void 0===e?void 0:e.locale}]`]?l[`${t}[${null===e||void 0===e?void 0:e.locale}]`]:void 0})));return Object.assign({},...a)}t.d(l,{A:()=>a})},98749:(e,l,t)=>{t.r(l),t.d(l,{default:()=>A});var a=t(9950),i=t(13564),s=t(12449),n=t(3969),o=t(23263),c=t(90650),d=t(91854),u=t(74623),r=t(12044),v=t(58920),f=t(71999),m=t(31281),g=t(62466),h=t(70030),b=t(62428),p=t(44414);function A(){const{t:e}=(0,h.B)(),{activeMenu:l}=(0,d.d4)((e=>e.menu),d.bN),{languages:t}=(0,d.d4)((e=>e.formLang),d.bN),A=(0,d.wA)(),[j]=n.A.useForm(),k=(0,i.Zp)(),{uuid:x}=(0,i.g)(),[$,y]=(0,a.useState)(!1);(0,a.useEffect)((()=>()=>{const e=j.getFieldsValue(!0);A((0,u.Ok)({activeMenu:l,data:e}))}),[]);function _(e){if(!e)return{};const{translations:l}=e,a=t.map((e=>{var t,a,i;return{[`title[${e.locale}]`]:null===(t=l.find((l=>l.locale===e.locale)))||void 0===t?void 0:t.title,[`description[${e.locale}]`]:null===(a=l.find((l=>l.locale===e.locale)))||void 0===a?void 0:a.description,[`short_desc[${e.locale}]`]:null===(i=l.find((l=>l.locale===e.locale)))||void 0===i?void 0:i.short_desc}}));return Object.assign({},...a)}return(0,a.useEffect)((()=>{l.refetch&&(e=>{y(!0),v.A.getById(e).then((e=>{let t=e.data;const a={...t,..._(t),image:[(0,g.A)(t.img)]};j.setFieldsValue(a),A((0,u.Ok)({activeMenu:l,data:a}))})).finally((()=>{y(!1),A((0,u.km)(l))}))})(x)}),[l.refetch]),(0,p.jsx)(o.A,{title:e("clone.blog"),extra:(0,p.jsx)(f.A,{}),children:$?(0,p.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,p.jsx)(c.A,{size:"large",className:"py-5"})}):(0,p.jsx)(b.A,{form:j,handleSubmit:(a,i)=>{var n;const o="blogs",c={status:"published",type:"blog"},f={type:"blog",active:a.active?1:0,images:[null===(n=i[0])||void 0===n?void 0:n.name],title:(0,m.A)(t,a),description:(0,m.A)(t,a,"description"),short_desc:(0,m.A)(t,a,"short_desc")};return v.A.create(f).then((()=>{s.oR.success(e("successfully.cloned")),(0,d.vA)((()=>{A((0,u.EK)({...l,nextUrl:o})),A((0,r.k)(c))})),k(`/${o}`)}))}})})}}}]);