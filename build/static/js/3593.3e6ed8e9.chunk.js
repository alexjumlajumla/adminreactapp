"use strict";(self.webpackChunkjumlajumla_dashboard=self.webpackChunkjumlajumla_dashboard||[]).push([[3593],{8168:(e,o,d)=>{function r(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}d.d(o,{A:()=>r})},53774:(e,o,d)=>{d.d(o,{A:()=>i});var r=d(83291);function i(){var e,o;let d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1?arguments[1]:void 0,l=arguments.length>2?arguments[2]:void 0;const n=null===(e=r.M.getState())||void 0===e||null===(o=e.currency)||void 0===o?void 0:o.defaultCurrency,t=Number(d).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),a=i||(null===n||void 0===n?void 0:n.symbol)||"$";return"after"===(l||(null===n||void 0===n?void 0:n.position)||"before")?`${t} ${a}`:`${a} ${t}`}},93593:(e,o,d)=>{d.r(o),d.d(o,{default:()=>Y});var r=d(9950),i=d(87864),l=d(23263),n=d(80737),t=d(12203),a=d(13564),u=d(91854),v=d(74623),s=d(70030),c=d(88986),_=d(8168),p=d(53774),y=d(59051),m=d.n(y),f=d(43430),h=d(44414);const{RangePicker:g}=i.A;function Y(){var e,o,d,i,y,Y,x;const{type:b}=(0,a.g)(),A=(0,u.wA)(),{t:w}=(0,s.B)(),{defaultCurrency:k}=(0,u.d4)((e=>e.currency),u.bN),M=[{title:w("order.id"),is_show:!0,dataIndex:"order_id",key:"order_id",sorter:!0,render:e=>(0,h.jsxs)("span",{className:"text-hover",children:["#",e]})},{title:w("order.total_price"),is_show:!0,dataIndex:"transaction",key:"transaction",render:(e,o)=>{var d;return(0,h.jsx)("span",{children:(0,p.A)(null===o||void 0===o||null===(d=o.order)||void 0===d?void 0:d.total_price,null===k||void 0===k?void 0:k.symbol,null===k||void 0===k?void 0:k.currency)})}},{title:w("coupon.price"),is_show:!0,dataIndex:"coupon_sum_price",key:"coupon_sum_price",render:(e,o)=>{var d;return(0,p.A)(null===o||void 0===o||null===(d=o.order)||void 0===d?void 0:d.coupon_sum_price,null===k||void 0===k?void 0:k.symbol,null===k||void 0===k?void 0:k.currency)}},{title:w("total.cashback"),is_show:!0,dataIndex:"point_history_sum_price",key:"point_history_sum_price",render:(e,o)=>{var d;return(0,p.A)(null===o||void 0===o||null===(d=o.order)||void 0===d?void 0:d.point_history_sum_price,null===k||void 0===k?void 0:k.symbol,null===k||void 0===k?void 0:k.currency)}},{title:w("delivery.fee"),is_show:!0,dataIndex:"delivery_fee",key:"delivery_fee",render:(e,o)=>{var d;return(0,p.A)(null===o||void 0===o||null===(d=o.order)||void 0===d?void 0:d.delivery_fee,null===k||void 0===k?void 0:k.symbol,null===k||void 0===k?void 0:k.currency)}},{title:w("service.fee"),is_show:!0,dataIndex:"service_fee",key:"service_fee",render:(e,o)=>{var d;return(0,p.A)(((null===o||void 0===o||null===(d=o.order)||void 0===d?void 0:d.service_fee)||0)+((null===o||void 0===o?void 0:o.order.commission_fee)||0),null===k||void 0===k?void 0:k.symbol,null===k||void 0===k?void 0:k.currency)}},{title:w("seller.fee"),is_show:!0,dataIndex:"seller_fee",key:"seller_fee",render:(e,o)=>{var d;return(0,p.A)(null===o||void 0===o||null===(d=o.order)||void 0===d?void 0:d.seller_fee,null===k||void 0===k?void 0:k.symbol,null===k||void 0===k?void 0:k.currency)}},{title:w("payment.type"),is_show:!0,dataIndex:"transaction",key:"transaction",render:e=>{var o;return w(null===e||void 0===e||null===(o=e.payment_system)||void 0===o?void 0:o.tag)||"-"}}],{activeMenu:j}=(0,u.d4)((e=>e.menu),u.bN),[D,I]=(0,r.useState)(m()().subtract(1,"month"),m()()),{list:C,loading:N,params:P,meta:$}=(0,u.d4)((e=>e.paymentToPartners),u.bN),S=j.data,O={search:null===S||void 0===S?void 0:S.search,sort:null===S||void 0===S?void 0:S.sort,column:null===S||void 0===S?void 0:S.column,perPage:null===S||void 0===S?void 0:S.perPage,page:null===S||void 0===S?void 0:S.page,user_id:null===S||void 0===S?void 0:S.user_id,shop_id:null!==(null===(e=j.data)||void 0===e?void 0:e.shop_id)?null===(o=j.data)||void 0===o?void 0:o.shop_id:null,date_from:Array.isArray(D)?null===(d=D[0])||void 0===d?void 0:d.format("YYYY-MM-DD"):m()().subtract(1,"month").format("YYYY-MM-DD"),date_to:Array.isArray(D)?null===(i=D[1])||void 0===i?void 0:i.format("YYYY-MM-DD"):m()().format("YYYY-MM-DD"),type:b};(0,c.A)((()=>{A((0,f.IV)(O))}),[S,D,b]);return(0,r.useEffect)((()=>{null!==j&&void 0!==j&&j.refetch&&(A((0,f.IV)(O)),A((0,v.km)(j)))}),[null===j||void 0===j?void 0:j.refetch]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(l.A,{children:(0,h.jsx)("div",{className:"flex justify-content-space-between",children:(0,h.jsx)(n.A,{wrap:!0,className:"order-filter",style:{flex:1,width:"100%"},children:(0,h.jsx)(g,{value:D,onChange:e=>{var o,d;o=o=>{var d,r;return{...o,date_from:null===e||void 0===e||null===(d=e[0])||void 0===d?void 0:d.format("YYYY-MM-DD"),date_to:null===e||void 0===e||null===(r=e[1])||void 0===r?void 0:r.format("YYYY-MM-DD")}},A((0,v.Ok)({activeMenu:j,data:{...S,[d]:o}})),I(e)},disabledDate:e=>e&&e>m()().endOf("day"),style:{width:"100%"}})})})}),(0,h.jsx)(l.A,{children:(0,h.jsx)(t.A,{scroll:{x:!0},columns:null===M||void 0===M?void 0:M.filter((e=>e.is_show)),dataSource:C,loading:N,pagination:{pageSize:P.perPage,page:(null===(y=j.data)||void 0===y?void 0:y.page)||1,total:null===$||void 0===$?void 0:$.total,defaultCurrent:null===(Y=j.data)||void 0===Y?void 0:Y.page,current:null===(x=j.data)||void 0===x?void 0:x.page},rowKey:e=>e.id,onChange:function(e,o,d){const{pageSize:r,current:i}=e,{field:l,order:n}=d,t=(0,_.A)(n);A((0,v.Ok)({activeMenu:j,data:{...S,perPage:r,page:i,column:l,sort:t}}))}})})]})}}}]);