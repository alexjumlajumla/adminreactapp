"use strict";(self.webpackChunkjumlajumla_dashboard=self.webpackChunkjumlajumla_dashboard||[]).push([[1759],{44140:(e,t,a)=>{a.r(t),a.d(t,{default:()=>b});var l=a(9950),n=a(91854),i=a(71999),d=a(70030),o=a(55529),r=a(86366),s=a(23263),u=a(96351),c=a(65820),v=a(74623),m=a(58547),p=a(13564),g=a(81446),f=a(14932),_=a(90419),j=a(84393),x=a(44414);const{Step:h}=r.A,b=()=>{var e;const{t:t}=(0,d.B)(),{activeMenu:a}=(0,n.d4)((e=>e.menu),n.bN),b=(0,c.s)(),y=Number((null===(e=b.values)||void 0===e?void 0:e.step)||0),[k,A]=(0,l.useState)(a.refetch),C=(0,n.wA)(),{uuid:N}=(0,p.g)(),{languages:w}=(0,n.d4)((e=>e.formLang),n.bN),M=()=>{const e=y+1;b.set("step",e)},O=()=>{const e=y-1;b.set("step",e)},S=e=>({items:e,uid:e,url:e,name:e});function $(e){if(null===e||void 0===e||!e.translations)return{};const{translations:t}=e,a=w.map((e=>{var a,l,n;return{[`title[${e.locale}]`]:null===(a=t.find((t=>t.locale===e.locale)))||void 0===a?void 0:a.title,[`description[${e.locale}]`]:null===(l=t.find((t=>t.locale===e.locale)))||void 0===l?void 0:l.description,[`address[${e.locale}]`]:null===(n=t.find((t=>t.locale===e.locale)))||void 0===n?void 0:n.address}}));return Object.assign({},...a)}return(0,l.useEffect)((()=>{a.refetch&&N&&(e=>{A(!0),m.A.getById(e).then((e=>{var t,l,n,i,d,o;const r={...e.data,...$(e.data),logo_img:S(e.data.logo_img),background_img:S(e.data.background_img),user:{label:e.data.seller.firstname+" "+e.data.seller.lastname,value:e.data.seller.id},delivery_time_from:null===(t=e.data)||void 0===t?void 0:t.delivery_time.from,delivery_time_to:null===(l=e.data)||void 0===l?void 0:l.delivery_time.to,delivery_time_type:null===(n=e.data)||void 0===n?void 0:n.delivery_time.type,recommended:"recommended"===e.data.mark,categories:null===(i=e.data)||void 0===i||null===(d=i.categories)||void 0===d?void 0:d.map((e=>{var t;return{label:null===e||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title,value:e.id,key:e.id}})),tags:null===(o=e.data)||void 0===o?void 0:o.tags.map((e=>{var t;return{label:null===e||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title,value:e.id,key:e.id}}))};C((0,v.Ok)({activeMenu:a,data:r}))})).finally((()=>{A(!1),C((0,v.km)(a))}))})(N)}),[a.refetch]),(0,x.jsxs)(s.A,{title:t("restaurant.edit"),extra:(0,x.jsx)(i.A,{}),children:[(0,x.jsx)(r.A,{current:y,onChange:e=>{C((0,v.Ok)({activeMenu:a,data:{...a.data,step:e}})),b.set("step",e)},children:o.C.map((e=>(0,x.jsx)(h,{title:t(e.title)},e.title)))}),k?(0,x.jsx)(g.A,{}):(0,x.jsxs)("div",{className:"steps-content",children:["First-content"===o.C[y].content&&(0,x.jsx)(f.A,{next:M,loading:k,action_type:"edit",user:!0}),"Second-content"===o.C[y].content&&(0,x.jsx)(j.A,{next:M,prev:O}),"Third-content"===o.C[y].content&&(0,x.jsx)(_.A,{next:M,prev:O}),"Four-content"===o.C[y].content&&(0,x.jsx)(u.A,{next:M,prev:O})]})]})}}}]);