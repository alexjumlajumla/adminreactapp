"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[4972],{73431:(e,l,t)=>{t.d(l,{Z:()=>r});var n=t(47313),o=t(39180),a=t(2717),i=t(28830),s=t(60535),d=t(46417);const r=()=>{const e=(0,a.I0)(),{languages:l,defaultLang:t}=(0,a.v9)((e=>e.formLang),a.wU);(0,n.useEffect)((()=>{s.Z.getAllActive().then((l=>{let{data:t}=l;e((0,i.dc)(t)),e((0,i.mh)(t.find((e=>!(null===e||void 0===e||!e.default))).locale))}))}),[]);return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(o.ZP.Group,{value:t,onChange:l=>{let{target:{value:t}}=l;e((0,i.mh)(t))},className:"float-right",buttonStyle:"solid",children:null===l||void 0===l?void 0:l.map((e=>(0,d.jsx)(o.ZP.Button,{value:e.locale,children:e.title},e.id)))})})}},97388:(e,l,t)=>{t.d(l,{Z:()=>f});var n=t(47313),o=t(16609);const a=t.p+"static/media/pin.0e41858db80c699cd8a2.png";var i=t(31881),s=t.n(i),d=t(97421);async function r(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.kr,t={latlng:`${null===e||void 0===e?void 0:e.lat},${null===e||void 0===e?void 0:e.lng}`,key:l};return s().get("https://maps.googleapis.com/maps/api/geocode/json",{params:t}).then((e=>{var l;let{data:t}=e;return null===(l=t.results[0])||void 0===l?void 0:l.formatted_address})).catch((e=>"not found"))}var c=t(59392),u=t(23560),g=t(24511),v=t(307),m=t(46417);const h=(0,v.Z)();const f=(0,o.GoogleApiWrapper)({apiKey:h,libraries:["places","geometry"]})((function(e){var l,t;const[i,s]=(0,n.useState)(),{t:d}=(0,g.$)(),v=async()=>{await navigator.geolocation.getCurrentPosition((function(e){const l={lat:e.coords.latitude,lng:e.coords.longitude};s(l)}),(function(e){u.Am.warning(d("turn.on.gps"))}))};(0,n.useEffect)((()=>{v()}),[]);const f=[{lat:Number(null===e||void 0===e||null===(l=e.location)||void 0===l?void 0:l.lat)||0,lng:Number(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.lng)||0}];for(var p=new e.google.maps.LatLngBounds,x=0;x<f.length;x++)p.extend(f[x]);return(0,m.jsxs)("div",{className:"map-container",style:{height:400,width:"100%"},children:[(0,m.jsx)("button",{className:"map-button",type:"button",onClick:()=>{v(),i&&(async l=>{const t={lat:null===l||void 0===l?void 0:l.lat,lng:null===l||void 0===l?void 0:l.lng};e.setLocation(t);const n=await r(t,h);e.setAddress(n)})(i)},children:(0,m.jsx)(c.nDs,{})}),(0,m.jsx)(o.Map,{cursor:"pointer",onClick:async(l,t,n)=>{const{latLng:o}=n,a={lat:o.lat(),lng:o.lng()};e.setLocation(a);const i=await r(a,h);e.setAddress(i)},google:e.google,defaultZoom:12,zoom:10,className:"clickable",initialCenter:e.location,center:e.location,children:(0,m.jsx)(o.Marker,{position:e.location,icon:{url:a,scaledSize:new e.google.maps.Size(32,32)},className:"marker"})})]})}))},17649:(e,l,t)=>{t.d(l,{Z:()=>n});t(97421);function n(e){if(null===e||void 0===e||!e.location)return{lat:47.4143302506288,lng:8.532059477976883};const l=e.location.split(", ");return{lat:Number(null===l||void 0===l?void 0:l[0]),lng:Number(null===l||void 0===l?void 0:l[1])}}},307:(e,l,t)=>{t.d(l,{Z:()=>a});var n=t(67968),o=t(97421);const a=()=>{var e,l;const{google_map_key:t}=null===(e=n.h.getState())||void 0===e||null===(l=e.globalSettings)||void 0===l?void 0:l.settings;return t||o.kr}},75336:(e,l,t)=>{function n(e,l){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"title";const n=null===e||void 0===e?void 0:e.map((e=>({[null===e||void 0===e?void 0:e.locale]:l[`${t}[${null===e||void 0===e?void 0:e.locale}]`]?l[`${t}[${null===e||void 0===e?void 0:e.locale}]`]:void 0})));return Object.assign({},...n)}t.d(l,{Z:()=>n})},77020:(e,l,t)=>{t.r(l),t.d(l,{default:()=>p});var n=t(47313),o=t(97890),a=t(23560),i=t(10976),s=t(77181),d=t(2717),r=t(90954),c=t(24511),u=t(75336),g=t(73431),v=t(16611),m=t(44337),h=t(88551),f=t(46417);const p=()=>{const{t:e}=(0,c.$)(),{activeMenu:l}=(0,d.v9)((e=>e.menu),d.wU),t=(0,d.I0)(),[p]=i.Z.useForm(),x=(0,o.s0)(),{languages:b}=(0,d.v9)((e=>e.formLang),d.wU);(0,n.useEffect)((()=>()=>{const e=p.getFieldsValue(!0);e.open_time=JSON.stringify(null===e||void 0===e?void 0:e.open_time),e.close_time=JSON.stringify(null===e||void 0===e?void 0:e.close_time),t((0,r.nc)({activeMenu:l,data:e}))}),[]);return(0,f.jsx)(s.Z,{title:e("add.branch"),className:"h-100",extra:(0,f.jsx)(g.Z,{}),children:(0,f.jsx)(h.Z,{form:p,handleSubmit:n=>{const o={title:(0,u.Z)(b,n,"title"),address:{address:n.address,office:null,house:null,floor:null},location:{longitude:n.location.lng,latitude:n.location.lat}},i="seller/branch";return m.Z.create(o).then((()=>{a.Am.success(e("successfully.created")),(0,d.dC)((()=>{t((0,r.ph)({...l,nextUrl:i})),t((0,v._)({}))})),x(`/${i}`)}))}})})}},88551:(e,l,t)=>{t.d(l,{Z:()=>f});var n=t(47313),o=t(10976),a=t(68197),i=t(59624),s=t(66672),d=t(59491),r=t(97388),c=t(24511),u=t(2717),g=t(17649),v=t(47168),m=t(97421),h=t(46417);function f(e){var l,t;let{form:f,handleSubmit:p}=e;const{t:x}=(0,c.$)(),{activeMenu:b}=(0,u.v9)((e=>e.menu),u.wU),{languages:Z,defaultLang:j}=(0,u.v9)((e=>e.formLang),u.wU),{settings:y}=(0,u.v9)((e=>e.globalSettings),u.wU),{google_map_key:w}=(0,u.v9)((e=>e.globalSettings.settings),u.wU),{ref:N}=(0,v.usePlacesWidget)({apiKey:w||m.kr,onPlaceSelected:e=>{const l={lat:null===e||void 0===e?void 0:e.geometry.location.lat(),lng:null===e||void 0===e?void 0:e.geometry.location.lng()};$(l),f.setFieldsValue({[`address[${j}]`]:null===e||void 0===e?void 0:e.formatted_address})}}),[k,S]=(0,n.useState)(!1),[_,$]=(0,n.useState)(null!==(l=null===b||void 0===b||null===(t=b.data)||void 0===t?void 0:t.mapCoordinates)&&void 0!==l?l:(0,g.Z)(y));return(0,h.jsxs)(o.Z,{name:"branch-form",layout:"vertical",onFinish:e=>{S(!0);const l={...e,location:_};p(l).finally((()=>S(!1)))},form:f,initialValues:{...b.data},className:"d-flex flex-column h-100",children:[(0,h.jsxs)(a.Z,{gutter:12,children:[(0,h.jsx)(i.Z,{span:12,children:Z.map(((e,l)=>(0,h.jsx)(o.Z.Item,{label:x("title"),name:`title[${e.locale}]`,rules:[{required:e.locale===j,message:x("required")}],hidden:e.locale!==j,children:(0,h.jsx)(s.Z,{})},"title"+l)))}),(0,h.jsx)(i.Z,{span:12,children:(0,h.jsx)(o.Z.Item,{label:x("address"),name:"address",rules:[{required:!0,message:x("required")}],children:(0,h.jsx)("input",{className:"address-input",ref:N,placeholder:""})})}),(0,h.jsx)(i.Z,{span:24,children:(0,h.jsx)(r.Z,{location:_,setLocation:$,setAddress:e=>f.setFieldsValue({address:e})})})]}),(0,h.jsx)("div",{className:"flex-grow-1 d-flex flex-column justify-content-end",children:(0,h.jsx)("div",{className:"pb-5",children:(0,h.jsx)(d.Z,{type:"primary",htmlType:"submit",loading:k,children:x("submit")})})})]})}}}]);