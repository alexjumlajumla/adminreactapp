"use strict";(self.webpackChunkjumlajumla_dashboard=self.webpackChunkjumlajumla_dashboard||[]).push([[6967],{17696:(e,a,t)=>{t.d(a,{A:()=>h});var r=t(9950),s=t(3969),i=t(87094),l=t(41988),n=t(55902),d=t(25933),u=t(48538),c=t(16254),m=t(91854),o=t(70030),v=t(44414);function h(e){var a,t;let{form:h,handleSubmit:j}=e;const{t:b}=(0,o.B)(),{activeMenu:A}=(0,m.d4)((e=>e.menu),m.bN),[p,x]=(0,r.useState)(null!==(a=A.data)&&void 0!==a&&a.image?null===(t=A.data)||void 0===t?void 0:t.image:[]),[f,g]=(0,r.useState)(!1);return(0,v.jsxs)(s.A,{name:"basic",layout:"vertical",onFinish:e=>{g(!0),j(e,p).finally((()=>g(!1)))},form:h,initialValues:{active:!0,...A.data},children:[(0,v.jsxs)(i.A,{gutter:12,children:[(0,v.jsx)(l.A,{span:12,children:(0,v.jsx)(s.A.Item,{label:b("title"),name:"title",rules:[{validator:(e,a)=>a?a&&""===(null===a||void 0===a?void 0:a.trim())?Promise.reject(new Error(b("no.empty.space"))):a&&(null===a||void 0===a?void 0:a.trim().length)<2?Promise.reject(new Error(b("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(b("required")))}],children:(0,v.jsx)(n.A,{})})}),(0,v.jsx)(l.A,{span:6,children:(0,v.jsx)(s.A.Item,{label:b("image"),name:"images",rules:[{validator:()=>0===(null===p||void 0===p?void 0:p.length)?Promise.reject(new Error(b("required"))):Promise.resolve()}],children:(0,v.jsx)(c.A,{type:"brands",imageList:p,setImageList:x,form:h,multiple:!1})})}),(0,v.jsx)(l.A,{span:6,children:(0,v.jsx)("div",{className:"col-md-12 col-sm-6",children:(0,v.jsx)(s.A.Item,{label:b("active"),name:"active",valuePropName:"checked",children:(0,v.jsx)(d.A,{})})})})]}),(0,v.jsx)(u.A,{type:"primary",htmlType:"submit",loading:f,children:b("submit")})]})}},69348:(e,a,t)=>{t.r(a),t.d(a,{default:()=>j});var r=t(9950),s=t(3969),i=t(23263),l=t(12449),n=t(13564),d=t(91854),u=t(74623),c=t(70030),m=t(14056),o=t(59759),v=t(17696),h=t(44414);const j=()=>{const{t:e}=(0,c.B)(),{activeMenu:a}=(0,d.d4)((e=>e.menu),d.bN),t=(0,d.wA)(),[j]=s.A.useForm(),b=(0,n.Zp)();(0,r.useEffect)((()=>()=>{const e=j.getFieldsValue(!0);t((0,u.Ok)({activeMenu:a,data:e}))}),[]);return(0,h.jsx)(i.A,{title:e("add.brand"),children:(0,h.jsx)(v.A,{form:j,handleSubmit:(r,s)=>{var i;const n="seller/brands",c={status:"published"},v={...r,active:r.active?1:0,"images[0]":null===(i=s[0])||void 0===i?void 0:i.name};return m.A.create(v).then((()=>{l.oR.success(e("successfully.created")),(0,d.vA)((()=>{t((0,u.EK)({...a,nextUrl:n})),t((0,o.w1)(c))})),b(`/${n}`)}))}})})}}}]);