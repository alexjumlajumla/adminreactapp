"use strict";(self.webpackChunkjumlajumla_dashboard=self.webpackChunkjumlajumla_dashboard||[]).push([[7059],{80415:(e,s,r)=>{r.d(s,{Av:()=>m,HF:()=>l,HV:()=>o,LH:()=>a,No:()=>n,Qt:()=>d,fz:()=>t,g$:()=>i});const a={new:[1,2,3,4,5],accepted:[1,2,3,4,5],ready:[1,2,3,4,5],on_a_way:[1,2,3,4,5],delivered:[1,2,3,4,5],canceled:[1,2,3,4,5],cooking:[1,2,3,4,5]},l=["progress","paid","canceled","rejected","refund"],i=["before","after"],d=["blue","red","gold","volcano","cyan","lime"],n=["new","accepted","cooking","ready","ended"],o=["new","accepted","cooking","ready","on_a_way","delivered","canceled"],t=["dine_in","delivery","pickup"],m=["male","female"]},87059:(e,s,r)=>{r.r(s),r.d(s,{default:()=>I});var a=r(3969),l=r(23263),i=r(48538),d=r(70030),n=r(9950),o=r(59051),t=r.n(o),m=r(91854),u=r(13564),c=r(66209),v=r(74623),p=r(12449),h=r(87094),j=r(41988),A=r(55902),g=r(87864),x=r(99674),w=r(8724),y=r(80415),b=r(16254),f=r(44414);const q=e=>{let{avatar:s,setAvatar:r,form:l}=e;const{t:i}=(0,d.B)();return(0,f.jsxs)(h.A,{gutter:12,children:[(0,f.jsx)(j.A,{span:24,children:(0,f.jsx)(a.A.Item,{name:"images",label:i("avatar"),rules:[{required:!(null!==s&&void 0!==s&&s.length),message:i("required")}],children:(0,f.jsx)(b.A,{type:"users",imageList:s,setImageList:r,multiple:!1,form:l})})}),(0,f.jsx)(j.A,{span:12,children:(0,f.jsx)(a.A.Item,{name:"firstname",label:i("firstname"),rules:[{required:!0,message:i("required")},{type:"string",min:2,message:i("min.2.letters")}],children:(0,f.jsx)(A.A,{})})}),(0,f.jsx)(j.A,{span:12,children:(0,f.jsx)(a.A.Item,{name:"lastname",label:i("lastname"),rules:[{required:!0,message:i("required")},{type:"string",min:2,message:i("min.2.letters")}],children:(0,f.jsx)(A.A,{})})}),(0,f.jsx)(j.A,{span:12,children:(0,f.jsx)(a.A.Item,{name:"birthday",label:i("birthday"),rules:[{required:!0,message:i("required")}],children:(0,f.jsx)(g.A,{className:"w-100",disabledDate:e=>t()().add(-18,"years")<=e,defaultPickerValue:t()().add(-18,"years"),placeholder:""})})}),(0,f.jsx)(j.A,{span:12,children:(0,f.jsx)(a.A.Item,{name:"gender",label:i("gender"),rules:[{required:!0,message:i("required")}],children:(0,f.jsx)(x.A,{labelInValue:!0,options:y.Av.map((e=>({label:i(e),value:e,key:e})))})})}),(0,f.jsx)(j.A,{span:12,children:(0,f.jsx)(a.A.Item,{name:"phone",label:i("phone"),rules:[{required:!0,message:i("required")}],children:(0,f.jsx)(w.A,{min:0,className:"w-100"})})}),(0,f.jsx)(j.A,{span:12,children:(0,f.jsx)(a.A.Item,{name:"email",label:i("email"),rules:[{required:!0,message:i("required")},{type:"email",message:i("invalid.email")}],children:(0,f.jsx)(A.A,{})})}),(0,f.jsx)(j.A,{span:12,children:(0,f.jsx)(a.A.Item,{label:i("password"),name:"password",rules:[{required:!0,message:i("required")},{validator:(e,s)=>s&&(null===s||void 0===s?void 0:s.toString().length)<6?Promise.reject(new Error(i("min.6.letters"))):Promise.resolve()}],normalize:e=>""===(null===e||void 0===e?void 0:e.trim())?null===e||void 0===e?void 0:e.trim():e,children:(0,f.jsx)(A.A.Password,{type:"password",className:"w-100"})})}),(0,f.jsx)(j.A,{span:12,children:(0,f.jsx)(a.A.Item,{label:i("password.confirmation"),name:"password_confirmation",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:i("required")},e=>{let{getFieldValue:s}=e;return{validator:(e,r)=>r&&s("password")!==r?Promise.reject(i("two.passwords.dont.match")):Promise.resolve()}}],normalize:e=>""===(null===e||void 0===e?void 0:e.trim())?null===e||void 0===e?void 0:e.trim():e,children:(0,f.jsx)(A.A.Password,{type:"password"})})})]})},k=()=>{const e=(0,u.Zp)(),s=(0,m.wA)(),{t:r}=(0,d.B)(),o=(0,u.g)(),{activeMenu:h}=(0,m.d4)((e=>e.menu),m.bN),[j]=a.A.useForm(),[A,g]=(0,n.useState)([]),[x,w]=(0,n.useState)(!1);return(0,f.jsxs)(a.A,{form:j,layout:"vertical",onFinish:a=>{var l;const i={images:null!==A&&void 0!==A&&A.length?null===A||void 0===A?void 0:A.map((e=>null===e||void 0===e?void 0:e.name)):void 0,firstname:null===a||void 0===a?void 0:a.firstname,lastname:null===a||void 0===a?void 0:a.lastname,birthday:t()(null===a||void 0===a?void 0:a.birthday).format("YYYY-MM-DD"),gender:null===a||void 0===a||null===(l=a.gender)||void 0===l?void 0:l.value,phone:null===a||void 0===a?void 0:a.phone,email:null===a||void 0===a?void 0:a.email,password:null===a||void 0===a?void 0:a.password,password_confirmation:null===a||void 0===a?void 0:a.password_confirmation,role:null===o||void 0===o?void 0:o.role};w(!0),c.A.create(i).then((()=>{p.oR.success(r("user.successfully.added"));const a="seller/shop-users";s((0,v.EK)({...h,nextUrl:a})),e(`/${a}?role=${null===o||void 0===o?void 0:o.role}`)})).finally((()=>{w(!1)}))},children:[(0,f.jsx)(l.A,{children:(0,f.jsx)(q,{avatar:A,setAvatar:g,form:j})}),(0,f.jsx)(l.A,{children:(0,f.jsx)(i.A,{type:"primary",htmlType:"submit",loading:x,children:r("save")})})]})},I=()=>(0,f.jsx)(k,{})}}]);