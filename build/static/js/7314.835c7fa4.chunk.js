"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[7314],{98501:(e,s,r)=>{r.d(s,{CM:()=>i,Km:()=>t,OT:()=>n,Q1:()=>a,Sp:()=>o,a5:()=>m,gN:()=>l,qO:()=>d});const a={new:[1,2,3,4,5],accepted:[1,2,3,4,5],ready:[1,2,3,4,5],on_a_way:[1,2,3,4,5],delivered:[1,2,3,4,5],canceled:[1,2,3,4,5],cooking:[1,2,3,4,5]},l=["progress","paid","canceled","rejected","refund"],i=["before","after"],d=["blue","red","gold","volcano","cyan","lime"],n=["new","accepted","cooking","ready","ended"],o=["new","accepted","cooking","ready","on_a_way","delivered","canceled"],t=["dine_in","delivery","pickup"],m=["male","female"]},27314:(e,s,r)=>{r.r(s),r.d(s,{default:()=>k});var a=r(10976),l=r(77181),i=r(59491),d=r(24511),n=r(47313),o=r(70816),t=r.n(o),m=r(2717),u=r(97890),c=r(58328),v=r(90954),p=r(23560),h=r(68197),g=r(59624),j=r(66672),x=r(99096),Z=r(74294),w=r(16124),b=r(98501),y=r(75868),f=r(46417);const q=e=>{let{avatar:s,setAvatar:r,form:l}=e;const{t:i}=(0,d.$)();return(0,f.jsxs)(h.Z,{gutter:12,children:[(0,f.jsx)(g.Z,{span:24,children:(0,f.jsx)(a.Z.Item,{name:"images",label:i("avatar"),rules:[{required:!(null!==s&&void 0!==s&&s.length),message:i("required")}],children:(0,f.jsx)(y.Z,{type:"users",imageList:s,setImageList:r,multiple:!1,form:l})})}),(0,f.jsx)(g.Z,{span:12,children:(0,f.jsx)(a.Z.Item,{name:"firstname",label:i("firstname"),rules:[{required:!0,message:i("required")},{type:"string",min:2,message:i("min.2.letters")}],children:(0,f.jsx)(j.Z,{})})}),(0,f.jsx)(g.Z,{span:12,children:(0,f.jsx)(a.Z.Item,{name:"lastname",label:i("lastname"),rules:[{required:!0,message:i("required")},{type:"string",min:2,message:i("min.2.letters")}],children:(0,f.jsx)(j.Z,{})})}),(0,f.jsx)(g.Z,{span:12,children:(0,f.jsx)(a.Z.Item,{name:"birthday",label:i("birthday"),rules:[{required:!0,message:i("required")}],children:(0,f.jsx)(x.Z,{className:"w-100",disabledDate:e=>t()().add(-18,"years")<=e,defaultPickerValue:t()().add(-18,"years"),placeholder:""})})}),(0,f.jsx)(g.Z,{span:12,children:(0,f.jsx)(a.Z.Item,{name:"gender",label:i("gender"),rules:[{required:!0,message:i("required")}],children:(0,f.jsx)(Z.Z,{labelInValue:!0,options:b.a5.map((e=>({label:i(e),value:e,key:e})))})})}),(0,f.jsx)(g.Z,{span:12,children:(0,f.jsx)(a.Z.Item,{name:"phone",label:i("phone"),rules:[{required:!0,message:i("required")}],children:(0,f.jsx)(w.Z,{min:0,className:"w-100"})})}),(0,f.jsx)(g.Z,{span:12,children:(0,f.jsx)(a.Z.Item,{name:"email",label:i("email"),rules:[{required:!0,message:i("required")},{type:"email",message:i("invalid.email")}],children:(0,f.jsx)(j.Z,{})})}),(0,f.jsx)(g.Z,{span:12,children:(0,f.jsx)(a.Z.Item,{label:i("password"),name:"password",rules:[{required:!0,message:i("required")},{validator:(e,s)=>s&&(null===s||void 0===s?void 0:s.toString().length)<6?Promise.reject(new Error(i("min.6.letters"))):Promise.resolve()}],normalize:e=>""===(null===e||void 0===e?void 0:e.trim())?null===e||void 0===e?void 0:e.trim():e,children:(0,f.jsx)(j.Z.Password,{type:"password",className:"w-100"})})}),(0,f.jsx)(g.Z,{span:12,children:(0,f.jsx)(a.Z.Item,{label:i("password.confirmation"),name:"password_confirmation",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:i("required")},e=>{let{getFieldValue:s}=e;return{validator:(e,r)=>r&&s("password")!==r?Promise.reject(i("two.passwords.dont.match")):Promise.resolve()}}],normalize:e=>""===(null===e||void 0===e?void 0:e.trim())?null===e||void 0===e?void 0:e.trim():e,children:(0,f.jsx)(j.Z.Password,{type:"password"})})})]})},I=()=>{const e=(0,u.s0)(),s=(0,m.I0)(),{t:r}=(0,d.$)(),o=(0,u.UO)(),{activeMenu:h}=(0,m.v9)((e=>e.menu),m.wU),[g]=a.Z.useForm(),[j,x]=(0,n.useState)([]),[Z,w]=(0,n.useState)(!1);return(0,f.jsxs)(a.Z,{form:g,layout:"vertical",onFinish:a=>{var l;const i={images:null!==j&&void 0!==j&&j.length?null===j||void 0===j?void 0:j.map((e=>null===e||void 0===e?void 0:e.name)):void 0,firstname:null===a||void 0===a?void 0:a.firstname,lastname:null===a||void 0===a?void 0:a.lastname,birthday:t()(null===a||void 0===a?void 0:a.birthday).format("YYYY-MM-DD"),gender:null===a||void 0===a||null===(l=a.gender)||void 0===l?void 0:l.value,phone:null===a||void 0===a?void 0:a.phone,email:null===a||void 0===a?void 0:a.email,password:null===a||void 0===a?void 0:a.password,password_confirmation:null===a||void 0===a?void 0:a.password_confirmation,role:null===o||void 0===o?void 0:o.role};w(!0),c.Z.create(i).then((()=>{p.Am.success(r("user.successfully.added"));const a="seller/shop-users";s((0,v.ph)({...h,nextUrl:a})),e(`/${a}?role=${null===o||void 0===o?void 0:o.role}`)})).finally((()=>{w(!1)}))},children:[(0,f.jsx)(l.Z,{children:(0,f.jsx)(q,{avatar:j,setAvatar:x,form:g})}),(0,f.jsx)(l.Z,{children:(0,f.jsx)(i.Z,{type:"primary",htmlType:"submit",loading:Z,children:r("save")})})]})},k=()=>(0,f.jsx)(I,{})}}]);