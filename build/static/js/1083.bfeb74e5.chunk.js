"use strict";(self.webpackChunkjumlajumla_dashboard=self.webpackChunkjumlajumla_dashboard||[]).push([[1083],{8168:(e,a,t)=>{function n(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}t.d(a,{A:()=>n})},21083:(e,a,t)=>{t.r(a),t.d(a,{default:()=>C});var n=t(9950),d=t(81541),o=t(48538),r=t(23263),c=t(32312),i=t(12203),l=t(63620),s=t(91854),u=t(70030),p=t(40841),m=t(8168),h=t(74623),g=t(88986),f=t(28030),k=t(12449),v=t(96011),b=t.n(v),y=t(13311),w=t(59051),x=t.n(w),A=t(44414);function C(){const[e,a]=(0,n.useState)(!1),t=(0,s.wA)(),{t:v}=(0,u.B)(),w=localStorage.getItem("token"),C=[{title:v("id"),dataIndex:"id",key:"id",sorter:!0},{title:v("client"),dataIndex:"user",key:"user",render:e=>(0,A.jsxs)("div",{children:[e.firstname," ",e.lastname]})},{title:v("title"),dataIndex:"title",key:"title"},{title:v("created.at"),dataIndex:"created_at",key:"created_at",render:(e,a)=>x()(null===a||void 0===a?void 0:a.created_at).format("YYYY-MM-DD HH:mm")},{title:v("options"),dataIndex:"title",key:"title",render:e=>(0,A.jsx)(d.A,{title:v("download.backup"),children:(0,A.jsx)(o.A,{type:"primary",icon:(0,A.jsx)(p.A,{}),onClick:()=>D("/storage/laravel-backup/"+e)})})}],{activeMenu:j}=(0,s.d4)((e=>e.menu),s.bN),{history:I,meta:M,loading:S,params:z}=(0,s.d4)((e=>e.backup),s.bN),H=j.data,{isDemo:_}=(0,y.A)();(0,g.A)((()=>{if(_)return;const e={sort:null===H||void 0===H?void 0:H.sort,column:null===H||void 0===H?void 0:H.column,perPage:null===H||void 0===H?void 0:H.perPage,page:null===H||void 0===H?void 0:H.page};t((0,f.w)(e))}),[j.data]),(0,n.useEffect)((()=>{if(j.refetch){if(_)return;t((0,f.w)()),t((0,h.km)(j))}}),[j.refetch]);function D(e){const a=document.createElement("a");a.href=l.C1+e,document.body.appendChild(a),a.click(),document.body.removeChild(a)}return(0,A.jsxs)(r.A,{title:v("backup"),children:[(0,A.jsx)(c.Ay,{status:"warning",title:v("do.you.care.about.your.data"),subTitle:v("here.you.can.take.backup.from.database"),extra:(0,A.jsx)(o.A,{type:"primary",loading:e,onClick:()=>{k.oR.warning(_?null:v("backup.loading")),_?k.oR.warning(v("cannot.work.demo")):(a(!0),b().post(`${l.TT}dashboard/admin/backup/history`,{},{headers:{Authorization:`Bearer ${w}`,"content-type":"text/json"}}).then((e=>D(e.data.data.path))).finally((()=>a(!1))))},children:v("download.backup")})}),(0,A.jsx)(i.A,{scroll:{x:!0},columns:C,dataSource:I,loading:S,pagination:{pageSize:z.perPage,page:z.page,total:M.total,defaultCurrent:z.page},rowKey:e=>e.id,onChange:function(e,a,n){const{pageSize:d,current:o}=e,{field:r,order:c}=n,i=(0,m.A)(c);t((0,h.Ok)({activeMenu:j,data:{perPage:d,page:o,column:r,sort:i}}))}})]})}},40841:(e,a,t)=>{t.d(a,{A:()=>i});var n=t(89379),d=t(9950);const o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M624 706.3h-74.1V464c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v242.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.7a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-download",theme:"outlined"};var r=t(25085),c=function(e,a){return d.createElement(r.A,(0,n.A)((0,n.A)({},e),{},{ref:a,icon:o}))};c.displayName="CloudDownloadOutlined";const i=d.forwardRef(c)}}]);