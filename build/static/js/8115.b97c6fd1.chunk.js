"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[8115],{89281:(e,t,s)=>{s.d(t,{h:()=>o});var a=s(47313),n=s(12279),l=s.n(n),i=s(74294),r=s(72652),u=s(46417);const o=e=>{let{fetchOptions:t,debounceTimeout:s=400,onClear:n,...o}=e;const[c,d]=(0,a.useState)(!1),[m,h]=(0,a.useState)([]),p=(0,a.useMemo)((()=>l()((e=>{h([]),d(!0),t(e).then((e=>{h(e),d(!1)}))}),s)),[t,s]);return(0,u.jsx)(i.Z,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:p,onClear:()=>{p(""),n&&n()},notFoundContent:c?(0,u.jsx)(r.Z,{size:"small"}):"no results",...o,options:m,onFocus:()=>{p("")}})}},48115:(e,t,s)=>{s.r(t),s.d(t,{default:()=>f});var a=s(47313),n=s(97890),l=s(23560),i=s(10976),r=s(77181),u=s(2717),o=s(90954),c=s(24511),d=s(4446),m=s(84980),h=s(51051),p=s(46417);const f=()=>{const{t:e}=(0,c.$)(),{activeMenu:t}=(0,u.v9)((e=>e.menu),u.wU),s=(0,u.I0)(),[f]=i.Z.useForm(),v=(0,n.s0)(),{myShop:x}=(0,u.v9)((e=>e.myShop),u.wU);(0,a.useEffect)((()=>()=>{const e=f.getFieldsValue(!0);s((0,o.nc)({activeMenu:t,data:e}))}),[]);return(0,p.jsx)(r.Z,{title:e("add.story"),className:"h-100",children:(0,p.jsx)(h.Z,{form:f,handleSubmit:(a,n)=>{const i={...Object.assign({},...n.map(((e,t)=>({[`file_urls[${t}]`]:e.name})))),product_id:a.products.value},r="seller/stories";return d.Z.create(i).then((()=>{const a={shop_id:x.id};l.Am.success(e("successfully.created")),(0,u.dC)((()=>{s((0,o.ph)({...t,nextUrl:r})),s((0,m.U7)(a))})),v(`/${r}`)}))}})})}},51051:(e,t,s)=>{s.d(t,{Z:()=>p});var a=s(47313),n=s(10976),l=s(68197),i=s(59624),r=s(59491),u=s(89281),o=s(24511),c=s(2717),d=s(18333),m=s(75868),h=s(46417);function p(e){var t,s;let{form:p,handleSubmit:f}=e;const{t:v}=(0,o.$)(),{activeMenu:x}=(0,c.v9)((e=>e.menu),c.wU),{myShop:b}=(0,c.v9)((e=>e.myShop),c.wU),[g,j]=(0,a.useState)(null!==(t=null===(s=x.data)||void 0===s?void 0:s.image)&&void 0!==t?t:[]),[Z,y]=(0,a.useState)(!1);return(0,h.jsxs)(n.Z,{name:"story-form",layout:"vertical",onFinish:e=>{y(!0),f(e,g).finally((()=>y(!1)))},form:p,initialValues:{active:!0,...x.data},className:"d-flex flex-column h-100",children:[(0,h.jsxs)(l.Z,{gutter:12,children:[(0,h.jsx)(i.Z,{span:24,children:(0,h.jsx)(n.Z.Item,{label:v("image"),name:"images",rules:[{required:0===g.length,message:v("required")}],children:(0,h.jsx)(m.Z,{type:"categories",imageList:g,setImageList:j,form:p,multiple:!1})})}),(0,h.jsx)(i.Z,{span:24,children:(0,h.jsx)(n.Z.Item,{label:v("products"),name:"products",rules:[{required:!0,message:v("required")}],children:(0,h.jsx)(u.h,{fetchOptions:function(e){const t={search:e,shop_id:b.id,status:"published",active:1,rest:1};return d.Z.getAll(t).then((e=>e.data.map((e=>({label:e.translation.title,value:e.id,key:e.id})))))},debounceTimeout:200})})})]}),(0,h.jsx)("div",{className:"flex-grow-1 d-flex flex-column justify-content-end",children:(0,h.jsx)("div",{className:"pb-5",children:(0,h.jsx)(r.Z,{type:"primary",htmlType:"submit",loading:Z,children:v("submit")})})})]})}}}]);