"use strict";(self.webpackChunkjumlajumla_dashboard=self.webpackChunkjumlajumla_dashboard||[]).push([[1061],{61061:(t,e,a)=>{a.r(e),a.d(e,{default:()=>_});var i=a(9950),n=a(13564),s=a(12449),l=a(86366),d=a(3969),o=a(23263),c=a(91854),r=a(74623),u=a(70030),m=a(71999),v=a(69292),p=a(64986),g=a(44414);const{Step:h}=l.A,_=()=>{var t,e,a;const{t:_}=(0,u.B)(),{activeMenu:j}=(0,c.d4)((t=>t.menu),c.bN),x=(0,c.wA)(),[k]=d.A.useForm(),f=(0,n.Zp)(),[A,S]=(0,i.useState)(null!==(t=j.data)&&void 0!==t&&t.image?[null===(e=j.data)||void 0===e?void 0:e.image]:[]),[y,b]=(0,i.useState)((null===(a=j.data)||void 0===a?void 0:a.step)||0),w=()=>{b(y+1)},C=()=>{b(y-1)},[F,q]=(0,i.useState)(!1);(0,i.useEffect)((()=>()=>{const t=k.getFieldsValue(!0);x((0,r.Ok)({activeMenu:j,data:t}))}),[]);return(0,g.jsx)(o.A,{title:_("add.recepe"),extra:(0,g.jsx)(m.A,{}),children:(0,g.jsxs)(d.A,{layout:"vertical",onFinish:t=>{var e,a;k.validateFields();const i={...t,total_time:t.total_time.toString(),active_time:t.active_time.toString(),images:null===A||void 0===A?void 0:A.map((t=>t.name)),category_id:t.category_id.value,stocks:null===(e=t.stocks)||void 0===e?void 0:e.map((t=>({min_quantity:t.min_quantity,stock_id:t.stock_id.value}))),nutrition:null===(a=t.nutrition)||void 0===a?void 0:a.map((t=>({...t,percentage:t.percentage.toString(),weight:t.weight.toString()})))};q(!0);const n="seller/recept";v.A.create(i).then((()=>{s.oR.success(_("successfully.created")),f(`/${n}`),x((0,r.EK)({...j,nextUrl:n}))})).finally((()=>q(!1)))},form:k,initialValues:{active:!0,...j.data},children:[(0,g.jsx)(l.A,{current:y,children:p.C.map((t=>(0,g.jsx)(h,{title:_(t.title)},t.title)))}),p.C.map((t=>{const e=t.content;return(0,g.jsx)("div",{className:`steps-content ${t.step!==y+1&&"hidden"}`,children:(0,g.jsx)(e,{next:w,prev:C,loading:F,image:A,setImage:S})},t.title)}))]})})}}}]);