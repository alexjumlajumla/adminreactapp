"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[227],{48008:(e,t,l)=>{l.d(t,{Z:()=>d});l(47313);var s=l(9274),n=l(87569),r=l(59491),i=l(24511),a=l(46417);const d=e=>{let{open:t,handleCancel:l,text:d,click:o,loading:c,subTitle:u}=e;const{t:h}=(0,i.$)();return(0,a.jsxs)(s.Z,{closable:!1,visible:t,footer:null,centered:!0,children:[(0,a.jsx)(n.ZP,{status:"warning",title:d,subTitle:u}),(0,a.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,a.jsx)(r.Z,{type:"primary",className:"mr-2",onClick:o,loading:c,children:h("yes")}),(0,a.jsx)(r.Z,{onClick:()=>l(),children:h("no")})]})]})}},60227:(e,t,l)=>{l.r(t),l.d(t,{default:()=>I});var s=l(47313),n=l(31741),r=l(55613),i=l(45705),a=l(59491),d=l(77181),o=l(78508),c=l(23560),u=l(69658),h=l(74580),v=l(2717),x=l(90954),p=l(80314),m=l(13945),g=l(24511),f=l(28305),j=l(27290),Z=l(99361),y=l(70816),w=l.n(y),k=l(97890),b=(l(55940),l(53233)),C=l(48008),_=l(46417);function I(){const{t:e}=(0,g.$)(),t=(0,v.I0)(),l=(0,k.s0)(),[y,I]=(0,s.useState)([{title:e("order.id"),dataIndex:"order",key:"order",render:s=>(0,_.jsxs)("div",{className:"text-hover",onClick:()=>(s=>{t((0,x.bL)({id:"order_details",url:`seller/order/details/${s}`,name:e("order.details")})),l(`/seller/order/details/${s}`)})(null===s||void 0===s?void 0:s.id),children:["#",null===s||void 0===s?void 0:s.id]}),sorter:!0,is_show:!0},{title:e("user"),dataIndex:"user",key:"user",is_show:!0,render:e=>(0,_.jsxs)("div",{className:"text-hover",children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})},{title:e("shop"),dataIndex:"order",key:"shop",is_show:!0,render:e=>{var t,l;return(0,_.jsx)("div",{className:"text-hover",children:null===(t=e.shop)||void 0===t||null===(l=t.translation)||void 0===l?void 0:l.title})}},{title:e("rating"),dataIndex:"rating",key:"rating",is_show:!0,render:e=>(0,_.jsx)(r.Z,{disabled:!0,defaultValue:e})},{title:e("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0,render:e=>w()(e).format("YYYY-MM-DD HH:mm")},{title:e("options"),key:"options",dataIndex:"options",is_show:!0,render:(e,t)=>(0,_.jsx)(i.Z,{children:(0,_.jsx)(a.Z,{type:"primary",icon:(0,_.jsx)(n.Z,{}),onClick:()=>P(t.id)})})}]),{setIsModalVisible:S}=(0,s.useContext)(h._),[A,M]=(0,s.useState)(null),[N,P]=(0,s.useState)(null),[T,W]=(0,s.useState)(!1),[$,Y]=(0,s.useState)(null),[z,D]=(0,s.useState)(null),{activeMenu:H}=(0,v.v9)((e=>e.menu),v.wU),{reviews:U,meta:V,loading:E,params:K}=(0,v.v9)((e=>e.orderReview),v.wU);(0,s.useEffect)((()=>{H.refetch&&(t((0,j.WI)()),t((0,x.A_)(H)))}),[H.refetch]),(0,p.Z)((()=>{const e=H.data,l={sort:null===e||void 0===e?void 0:e.sort,column:null===e||void 0===e?void 0:e.column,perPage:null===e||void 0===e?void 0:e.perPage,page:null===e||void 0===e?void 0:e.page};t((0,j.WI)(l))}),[H.data]);const L={id:A,onChange:e=>{M(e)}};return(0,_.jsxs)(d.Z,{title:e("order.reviews"),extra:(0,_.jsx)(i.Z,{wrap:!0,children:(0,_.jsx)(b.Z,{columns:y,setColumns:I})}),children:[(0,_.jsx)(o.Z,{scroll:{x:!0},rowSelection:L,columns:null===y||void 0===y?void 0:y.filter((e=>e.is_show)),dataSource:U,pagination:{pageSize:K.perPage,page:K.page,total:V.total,defaultCurrent:K.page},rowKey:e=>e.id,onChange:function(e,l,s){const{pageSize:n,current:r}=e,{field:i,order:a}=s,d=(0,m.Z)(a);t((0,x.nc)({activeMenu:H,data:{perPage:n,page:r,column:i,sort:d}}))},loading:E}),(0,_.jsx)(u.Z,{click:()=>{W(!0);const l={...Object.assign({},...A.map(((e,t)=>({[`ids[${t}]`]:e}))))};f.Z.delete(l).then((()=>{c.Am.success(e("successfully.deleted")),t((0,j.WI)()),S(!1)})).finally((()=>W(!1)))},text:e($?"delete":"all.delete"),setText:M,loading:T}),N&&(0,_.jsx)(Z.Z,{id:N,handleCancel:()=>P(null)}),z&&(0,_.jsx)(C.Z,{open:z,handleCancel:()=>D(null),click:z.restore?()=>{W(!0),f.Z.restoreAll().then((()=>{c.Am.success(e("successfully.restored")),t((0,j.WI)()),D(null)})).finally((()=>W(!1)))}:()=>{W(!0),f.Z.dropAll().then((()=>{c.Am.success(e("successfully.deleted")),t((0,j.WI)()),D(null)})).finally((()=>W(!1)))},text:z.restore?e("restore.modal.text"):e("read.carefully"),subTitle:z.restore?"":e("confirm.deletion"),loading:T,setText:M})]})}}}]);