"use strict";(self.webpackChunkjumlajumla_dashboard=self.webpackChunkjumlajumla_dashboard||[]).push([[3858],{3858:(e,t,a)=>{a.r(t),a.d(t,{default:()=>k});var s=a(9950),o=a(13564),n=a(12449),l=a(3969),r=a(23263),u=a(91854),d=a(74623),i=a(60926),c=a(70030),p=a(71999),m=a(63620),g=a(96011),b=a.n(g),h=a(31281),v=a(37702),_=a(44414);const k=()=>{const{t:e}=(0,c.B)(),{activeMenu:t}=(0,u.d4)((e=>e.menu),u.bN),a=(0,u.wA)(),[g]=l.A.useForm(),k=(0,o.Zp)(),{languages:f}=(0,u.d4)((e=>e.formLang),u.bN);(0,s.useEffect)((()=>()=>{const e=g.getFieldsValue(!0);a((0,d.Ok)({activeMenu:t,data:e}))}),[]);return(0,_.jsx)(r.A,{title:e("add.pages"),className:"h-100",extra:(0,_.jsx)(p.A,{}),children:(0,_.jsx)(v.A,{form:g,handleSubmit:(s,o)=>{const l={images:o.map((e=>e.name)),active:Number(s.active),type:s.type,title:(0,h.A)(f,s,"title"),description:(0,h.A)(f,s,"description"),buttons:{google_play_button_link:null===s||void 0===s?void 0:s.google_play_button_link,app_store_button_link:null===s||void 0===s?void 0:s.app_store_button_link}},r="pages";return b()({method:"post",url:`${m.TT}dashboard/admin/pages`,headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},data:l,params:{}}).then((()=>{n.oR.success(e("successfully.created")),(0,u.vA)((()=>{a((0,d.EK)({...t,nextUrl:r})),a((0,i.f)({}))})),k(`/${r}`)})).catch((e=>{var t,a;return n.oR.error(null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)}))}})})}}}]);