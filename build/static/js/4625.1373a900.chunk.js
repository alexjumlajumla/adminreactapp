(self.webpackChunkjumlajumla_dashboard=self.webpackChunkjumlajumla_dashboard||[]).push([[4625],{8168:(e,t,l)=>{"use strict";function n(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}l.d(t,{A:()=>n})},8297:(e,t,l)=>{"use strict";l.d(t,{A:()=>r});var n=l(9950),s=l(55902),a=l(41397),i=l(60767),d=l(44414);function r(e){let{handleChange:t,defaultValue:l,resetSearch:r,...o}=e;const[c,u]=(0,n.useState)(l),v=(0,n.useMemo)((()=>(0,a.debounce)((e=>{t(e)}),800)),[t]);return(0,n.useEffect)((()=>{u(l)}),[r,l]),(0,d.jsx)(s.A,{value:c,onChange:e=>{u(e.target.value),v(e.target.value)},prefix:(0,d.jsx)(i.A,{}),...o})}},13700:(e,t,l)=>{"use strict";l.d(t,{A:()=>r});var n=l(89379),s=l(9950);const a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6a25.95 25.95 0 0025.6 30.4h723c1.5 0 3-.1 4.4-.4a25.88 25.88 0 0021.2-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"}}]},name:"clear",theme:"outlined"};var i=l(25085),d=function(e,t){return s.createElement(i.A,(0,n.A)((0,n.A)({},e),{},{ref:t,icon:a}))};d.displayName="ClearOutlined";const r=s.forwardRef(d)},21777:(e,t,l)=>{"use strict";l.d(t,{A:()=>r});l(9950);var n=l(32645),s=l(32312),a=l(48538),i=l(70030),d=l(44414);const r=e=>{let{open:t,handleCancel:l,text:r,click:o,loading:c,subTitle:u}=e;const{t:v}=(0,i.B)();return(0,d.jsxs)(n.A,{closable:!1,visible:t,footer:null,centered:!0,children:[(0,d.jsx)(s.Ay,{status:"warning",title:r,subTitle:u}),(0,d.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,d.jsx)(a.A,{type:"primary",className:"mr-2",onClick:o,loading:c,children:v("yes")}),(0,d.jsx)(a.A,{onClick:()=>l(),children:v("no")})]})]})}},26714:(e,t,l)=>{"use strict";l.d(t,{A:()=>y});var n=l(9950),s=l(48946),a=l(39362),i=l.n(a),d=l(81446),r=l(23263),o=l(32645),c=l(48538),u=l(87094),v=l(41988),h=l(70030),p=l(29949),m=l(38310),x=l(13564),f=l(44414);const A=r.A.Meta,y=e=>{let{id:t,handleCancel:l}=e;const[a,y]=(0,n.useState)(null),{t:j}=(0,h.B)(),g=(0,x.Zp)();return(0,f.jsx)(f.Fragment,{children:a?(0,f.jsx)(d.A,{}):(0,f.jsx)(o.A,{visible:!!t,title:j("selected.download"),closable:!1,handleCancel:l,footer:[(0,f.jsx)(c.A,{type:"default",onClick:l,children:j("cancel")},"cancelBtn")],children:(0,f.jsxs)(u.A,{children:[(0,f.jsx)(v.A,{span:12,children:(0,f.jsx)(r.A,{title:j("download.pdf"),onClick:()=>function(e){y(!0),s.A.orderExport(e).then((t=>{i()(t,`invoice_${e}.pdf`,"application/pdf"),l()})).finally((()=>y(!1)))}(t),className:"text-center cursor-pointer",children:(0,f.jsx)(A,{className:"d-flex align-items-center justify-content-center",title:(0,f.jsx)(p.yos,{size:80})})})}),(0,f.jsx)(v.A,{span:12,children:(0,f.jsx)(r.A,{title:j("download.check"),onClick:()=>(e=>{g(`/orders/generate-invoice/${e}`)})(t),className:"text-center cursor-pointer",children:(0,f.jsx)(A,{className:"d-flex align-items-center justify-content-center",title:(0,f.jsx)(m.TBA,{size:85})})})})]})})})}},28645:(e,t,l)=>{"use strict";l.d(t,{A:()=>m});var n=l(9950),s=l(66362),a=l(69216),i=l(80737),d=l(25933),r=l(57811),o=l(81541),c=l(48538),u=l(89323),v=l(70030),h=l(44414);const{Text:p}=s.A,m=e=>{let{columns:t=[],setColumns:l,style:s,size:m="",iconOnly:x}=e;const{t:f}=(0,v.B)(),[A,y]=(0,n.useState)(!1),j=(0,h.jsx)(a.A,{children:null===t||void 0===t?void 0:t.map(((e,n)=>(0,h.jsx)(a.A.Item,{children:(0,h.jsxs)(i.A,{className:"d-flex justify-content-between",children:[(0,h.jsx)(p,{children:e.title}),(0,h.jsx)(d.A,{defaultChecked:!0,onClick:()=>function(e){const n=null===t||void 0===t?void 0:t.map((t=>(t.dataIndex===e.dataIndex&&(t.is_show=!(null!==t&&void 0!==t&&t.is_show)),t)));l(n)}(e),disabled:1===n})]})},e+n)))});return(0,h.jsx)(r.A,{overlay:j,trigger:["click"],onVisibleChange:e=>{y(e)},visible:A,children:(0,h.jsx)(o.A,{title:f("change.columns"),children:(0,h.jsx)(c.A,{style:{...s},size:m,icon:(0,h.jsx)(u.A,{}),children:x?null:f("Columns")})})})}},35116:(e,t,l)=>{"use strict";l.d(t,{A:()=>o});l(9950);var n=l(48538),s=l(44070),a=l(12449),i=l(70030),d=l(13311),r=l(44414);function o(e){let{size:t="",onClick:l,type:o="default",...c}=e;const{t:u}=(0,i.B)(),{isDemo:v}=(0,d.A)();return(0,r.jsx)(n.A,{size:t,icon:(0,r.jsx)(s.A,{}),onClick:e=>{v?a.oR.warning(u("cannot.work.demo")):l(e)},type:o,...c})}},39362:function(e,t){var l,n,s;n=[],void 0===(s="function"===typeof(l=function(){return function e(t,l,n){var s,a,i=window,d="application/octet-stream",r=n||d,o=t,c=!l&&!n&&o,u=document.createElement("a"),v=function(e){return String(e)},h=i.Blob||i.MozBlob||i.WebKitBlob||v,p=l||"download";if(h=h.call?h.bind(i):Blob,"true"===String(this)&&(r=(o=[o,r])[0],o=o[1]),c&&c.length<2048&&(p=c.split("/").pop().split("?")[0],u.href=c,-1!==u.href.indexOf(c))){var m=new XMLHttpRequest;return m.open("GET",c,!0),m.responseType="blob",m.onload=function(t){e(t.target.response,p,d)},setTimeout((function(){m.send()}),0),m}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(o)){if(!(o.length>2096103.424&&h!==v))return navigator.msSaveBlob?navigator.msSaveBlob(y(o),p):j(o);r=(o=y(o)).type||d}else if(/([\x80-\xff])/.test(o)){for(var x=0,f=new Uint8Array(o.length),A=f.length;x<A;++x)f[x]=o.charCodeAt(x);o=new h([f],{type:r})}function y(e){for(var t=e.split(/[:;,]/),l=t[1],n=("base64"==t[2]?atob:decodeURIComponent)(t.pop()),s=n.length,a=0,i=new Uint8Array(s);a<s;++a)i[a]=n.charCodeAt(a);return new h([i],{type:l})}function j(e,t){if("download"in u)return u.href=e,u.setAttribute("download",p),u.className="download-js-link",u.innerHTML="downloading...",u.style.display="none",document.body.appendChild(u),setTimeout((function(){u.click(),document.body.removeChild(u),!0===t&&setTimeout((function(){i.URL.revokeObjectURL(u.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,d)),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var l=document.createElement("iframe");document.body.appendChild(l),!t&&/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,d)),l.src=e,setTimeout((function(){document.body.removeChild(l)}),333)}if(s=o instanceof h?o:new h([o],{type:r}),navigator.msSaveBlob)return navigator.msSaveBlob(s,p);if(i.URL)j(i.URL.createObjectURL(s),!0);else{if("string"===typeof s||s.constructor===v)try{return j("data:"+r+";base64,"+i.btoa(s))}catch(g){return j("data:"+r+","+encodeURIComponent(s))}(a=new FileReader).onload=function(e){j(this.result)},a.readAsDataURL(s)}return!0}})?l.apply(t,n):l)||(e.exports=s)},42634:()=>{},48946:(e,t,l)=>{"use strict";l.d(t,{A:()=>s});var n=l(82371);const s={orderExport:(e,t)=>n.A.get(`dashboard/user/export/order/${e}/pdf`,{params:t,responseType:"blob"})}},52864:(e,t,l)=>{"use strict";l.d(t,{A:()=>f});var n=l(3969),s=l(87094),a=l(41988),i=l(99674),d=l(40895),r=l(80737),o=l(48538),c=l(70030),u=l(80415),v=l(9950),h=l(23758),p=l(91854),m=l(74623),x=l(44414);const f=e=>{let{onCancel:t,refreshOrders:l,data:f}=e;const[A]=n.A.useForm(),{t:y}=(0,c.B)(),j=(0,p.wA)(),{activeMenu:g}=(0,p.d4)((e=>e.menu),p.bN),[b,w]=(0,v.useState)(!1),_=u.HF.map((e=>({label:y(e),value:e,key:e})));return(0,x.jsx)(n.A,{form:A,layout:"vertical",initialValues:{status:f.status},onFinish:e=>{var n;const s={status:null===e||void 0===e||null===(n=e.status)||void 0===n?void 0:n.value,transaction_id:f.id};w(!0),h.A.updateTransactionStatus(null===f||void 0===f?void 0:f.payable_id,s).finally((()=>{w(!1),t(),l?l():j((0,m.Ms)(g))}))},children:(0,x.jsxs)(s.A,{gutter:12,children:[(0,x.jsx)(a.A,{span:24,children:(0,x.jsx)(n.A.Item,{label:y("status"),name:"status",rules:[{required:!0,message:y("required")}],children:(0,x.jsx)(i.A,{options:_,labelInValue:!0})})}),(0,x.jsx)(d.A,{}),(0,x.jsx)(a.A,{span:24,children:(0,x.jsxs)(r.A,{style:{display:"flex",justifyContent:"end"},children:[(0,x.jsx)(o.A,{onClick:t,children:y("cancel")}),(0,x.jsx)(o.A,{type:"primary",htmlType:"submit",loading:b,children:y("save")})]})})]})})}},53387:(e,t,l)=>{"use strict";l.d(t,{A:()=>r});var n=l(89379),s=l(9950);const a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};var i=l(25085),d=function(e,t){return s.createElement(i.A,(0,n.A)((0,n.A)({},e),{},{ref:t,icon:a}))};d.displayName="PlusCircleOutlined";const r=s.forwardRef(d)},65820:(e,t,l)=>{"use strict";l.d(t,{s:()=>i});var n=l(13564),s=l(21215),a=l.n(s);const i=()=>{const e=(0,n.Zp)(),t=(0,n.zy)(),l=a().parse(t.search,{ignoreQueryPrefix:!0});return{values:l,set:(t,n)=>e({search:a().stringify({...l,[t]:n})}),reset:t=>{const n={...l};n[t]&&delete n[t],e({search:a().stringify({...n})})},clear:()=>e({search:a().stringify({})}),merge:t=>e({search:a().stringify({...l,...t})}),get:e=>l[e],setMultiple:t=>{const n={...l,...t};e({search:a().stringify(n)})},resetMultiple:t=>{const n={...l};t.forEach((e=>{n[e]&&delete n[e]})),e({search:a().stringify(n)})}}}},72764:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>se});var n=l(9950),s=l(54909),a=l(87864),i=l(12916),d=l(48538),r=l(80737),o=l(81541),c=l(69216),u=l(23263),v=l(57811),h=l(12203),p=l(32645),m=l(13564),x=l(24513),f=l(12678),A=l(44070),y=l(98114),j=l(53387),g=l(13700),b=l(91854),w=l(74623),_=l(70030),C=l(88986),k=l(53177),S=l(8168),M=l(8297),z=l(51242),N=l(53774),H=l(47992),V=l(53271),Y=l(28645),R=l(90352),B=l(12449),T=l(35116),D=l(23758),I=l(55386),$=l(76083),O=l(59051),P=l.n(O),U=l(63620),E=l(22875),L=l(14382),G=l(21777),F=l(58547),K=l(65820),q=l(13311),Z=l(56592),X=l(23283),Q=l(38635),W=l(26714),J=l(91258),ee=l(52864),te=l(44414);const{TabPane:le}=s.A,{RangePicker:ne}=a.A;function se(){var e,t,l,a,O,se,ae,ie;const{type:de}=(0,m.g)(),re=(0,b.wA)(),oe=(0,m.Zp)(),{t:ce}=(0,_.B)(),{defaultCurrency:ue}=(0,b.d4)((e=>e.currency),b.bN),{statusList:ve}=(0,b.d4)((e=>e.orderStatus),b.bN),{isDemo:he}=(0,q.A)(),[pe,me]=(0,n.useState)(null),[xe,fe]=(0,n.useState)(null),[Ae,ye]=(0,n.useState)(null),[je,ge]=(0,n.useState)(null),[be,we]=(0,n.useState)(null),_e=[{name:"all",id:"0",active:!0,sort:0},...ve],[Ce,ke]=(0,n.useState)(null),[Se,Me]=(0,n.useState)([{title:ce("id"),is_show:!0,dataIndex:"id",key:"id",sorter:!0},{title:ce("client"),is_show:!0,dataIndex:"user",key:"user",render:e=>e?(0,te.jsxs)("div",{children:[(null===e||void 0===e?void 0:e.firstname)||""," ",(null===e||void 0===e?void 0:e.lastname)||""]}):(0,te.jsx)(i.A,{color:"red",children:ce("deleted.user")})},{title:ce("status"),is_show:!0,dataIndex:"status",key:"status",render:(e,t)=>(0,te.jsxs)("div",{className:"cursor-pointer",children:["new"===e?(0,te.jsx)(i.A,{color:"blue",children:ce(e)}):"canceled"===e?(0,te.jsx)(i.A,{color:"red",children:ce(e)}):(0,te.jsx)(i.A,{color:"cyan",children:ce(e)}),"delivered"===e||"canceled"===e||t.deleted_at?"":(0,te.jsx)(x.A,{onClick:e=>{e.stopPropagation(),me(t)},disabled:t.deleted_at})]})},{title:ce("deliveryman"),is_show:!0,dataIndex:"deliveryman",key:"deliveryman",render:(e,t)=>(0,te.jsx)("div",{children:"ready"===t.status&&"delivery"===t.delivery_type?(0,te.jsx)(d.A,{disabled:t.deleted_at,type:"link",onClick:()=>ge(t),children:(0,te.jsxs)(r.A,{children:[e?`${e.firstname} ${e.lastname}`:ce("add.deliveryman"),(0,te.jsx)(x.A,{})]})}):(0,te.jsxs)("div",{children:[null===e||void 0===e?void 0:e.firstname," ",null===e||void 0===e?void 0:e.lastname]})})},{title:ce("number.of.products"),dataIndex:"order_details_count",key:"order_details_count",is_show:!0,render:e=>(0,te.jsxs)("div",{className:"text-lowercase",children:[e||0," ",ce("products")]})},{title:ce("amount"),is_show:!0,dataIndex:"total_price",key:"total_price",render:(e,t)=>{var l,n;const s=null===(l=t.transaction)||void 0===l?void 0:l.status;return(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)("span",{children:(0,N.A)(e,null===ue||void 0===ue?void 0:ue.symbol,null===ue||void 0===ue?void 0:ue.position)}),(0,te.jsx)("br",{}),(0,te.jsx)("span",{className:"progress"===s?"text-primary":"paid"===s?"text-success":"rejected"===s?"text-danger":"text-info",children:null===(n=t.transaction)||void 0===n?void 0:n.status})]})}},{title:ce("payment.type"),is_show:!0,dataIndex:"transaction",key:"transaction",render:e=>{var t;return ce(null===e||void 0===e||null===(t=e.payment_system)||void 0===t?void 0:t.tag)||"-"}},{title:ce("last.payment.status"),is_show:!0,dataIndex:"transaction",key:"transaction",render:(e,t)=>{var l;const n=(null===(l=t.transactions)||void 0===l?void 0:l.at(-1))||{};return(0,te.jsxs)("div",{className:"cursor-pointer",children:[(0,te.jsx)(i.A,{color:"progress"===(null===n||void 0===n?void 0:n.status)?"blue":"paid"===(null===n||void 0===n?void 0:n.status)?"green":"canceled"===(null===n||void 0===n?void 0:n.status)?"red":"rejected"===(null===n||void 0===n?void 0:n.status)?"orange":"refund"===(null===n||void 0===n?void 0:n.status)?"purple":"",children:null!==n&&void 0!==n&&n.status?ce(null===n||void 0===n?void 0:n.status):ce("N/A")}),!(null!==t&&void 0!==t&&t.deleted_at)&&!!n&&(0,te.jsx)(x.A,{onClick:e=>{e.stopPropagation(),we(n)},disabled:null===t||void 0===t?void 0:t.deleted_at})]})}},{title:ce("created.at"),is_show:!0,dataIndex:"created_at",key:"created_at",render:(e,t)=>P()(null===t||void 0===t?void 0:t.created_at).format("YYYY-MM-DD HH:mm")},{title:ce("delivery.date"),is_show:!0,dataIndex:"delivery_date",key:"delivery_date"},{title:ce("options"),is_show:!0,key:"options",render:(e,t)=>(0,te.jsxs)(r.A,{children:[(0,te.jsx)(o.A,{title:ce("view.shop.and.customer.location"),children:(0,te.jsx)(d.A,{disabled:t.deleted_at,icon:(0,te.jsx)(E.vq8,{}),onClick:e=>{e.stopPropagation(),fe(t.id)}})}),(0,te.jsx)(d.A,{disabled:t.deleted_at,icon:(0,te.jsx)(f.A,{}),onClick:e=>{e.stopPropagation(),(e=>{re((0,w.X4)({url:`order/details/${e.id}`,id:"order_details",name:ce("order.details")})),oe(`/order/details/${e.id}`)})(t)}}),(0,te.jsx)(d.A,{type:"primary",icon:(0,te.jsx)(x.A,{}),onClick:e=>{e.stopPropagation(),(e=>{re((0,z.Uy)()),re((0,w.X4)({url:`order/${e.id}`,id:"order_edit",name:ce("edit.order")})),oe(`/order/${e.id}`)})(t)},disabled:"delivered"===t.status||"canceled"===t.status||t.deleted_at}),(0,te.jsx)(T.A,{disabled:t.deleted_at,icon:(0,te.jsx)(A.A,{}),onClick:e=>{e.stopPropagation(),Ie([t.id]),ze(!0),Oe(!0)}}),(0,te.jsx)(d.A,{disabled:t.deleted_at,icon:(0,te.jsx)(y.A,{}),onClick:e=>{e.stopPropagation(),ye(t.id)}})]})}]),{setIsModalVisible:ze}=(0,n.useContext)(I.o),[Ne,He]=(0,n.useState)(!1),{activeMenu:Ve}=(0,b.d4)((e=>e.menu),b.bN),Ye=(0,K.s)(),[Re,Be]=(0,n.useState)(Ye.values.status||"all"),Te=(null===(e=Ve.data)||void 0===e?void 0:e.role)||Re,[De,Ie]=(0,n.useState)(null),[$e,Oe]=(0,n.useState)(null),[Pe,Ue]=(0,n.useState)(!1),[Ee,Le]=(0,n.useState)(P()().subtract(1,"months"),P()()),{orders:Ge,loading:Fe,params:Ke,meta:qe}=(0,b.d4)((e=>e.orders),b.bN),Ze=Ve.data,Xe={search:null===Ze||void 0===Ze?void 0:Ze.search,sort:null===Ze||void 0===Ze?void 0:Ze.sort,column:null===Ze||void 0===Ze?void 0:Ze.column,perPage:null===Ze||void 0===Ze?void 0:Ze.perPage,page:null===Ze||void 0===Ze?void 0:Ze.page,user_id:null===Ze||void 0===Ze?void 0:Ze.user_id,status:"deleted_at"===Te||"all"===Te?void 0:Te,deleted_at:"deleted_at"===Te?"deleted_at":void 0,shop_id:null!==(null===(t=Ve.data)||void 0===t?void 0:t.shop_id)?null===(l=Ve.data)||void 0===l?void 0:l.shop_id:null,delivery_type:"scheduled"!==de?de:void 0,delivery_date_from:"scheduled"===de?P()().add(1,"day").format("YYYY-MM-DD"):void 0,date_from:(null===Ee||void 0===Ee||null===(a=Ee[0])||void 0===a?void 0:a.format("YYYY-MM-DD"))||null,date_to:(null===Ee||void 0===Ee||null===(O=Ee[1])||void 0===O?void 0:O.format("YYYY-MM-DD"))||null};(0,n.useEffect)((()=>{re((0,R.rA)({}))}),[]),(0,n.useEffect)((()=>{re((0,k.Gb)(Xe)),re((0,w.km)(Ve))}),[Ze,Ee,de]),(0,C.A)((()=>{Ve.refetch&&(re((0,k.Gb)(Xe)),re((0,w.km)(Ve)))}),[Ve.refetch]);const Qe=(e,t)=>{re((0,w.Ok)({activeMenu:Ve,data:{...Ze,[t]:e}}))};const We=()=>{me(null),ge(null),fe(null),ye(null)};const Je={selectedRowKeys:De,onChange:e=>{Ie(e)}},et=(0,te.jsxs)(c.A,{children:[(0,te.jsx)(c.A.Item,{onClick:()=>{he?B.oR.warning(ce("cannot.work.demo")):ke({delete:!0})},disabled:"deleted_at"===Te,children:(0,te.jsxs)(r.A,{children:[(0,te.jsx)(A.A,{}),ce("delete.all")]})}),(0,te.jsx)(c.A.Item,{onClick:()=>{he?B.oR.warning(ce("cannot.work.demo")):ke({restore:!0})},children:(0,te.jsxs)(r.A,{children:[(0,te.jsx)(E.DQ9,{}),ce("restore.all")]})})]});return(0,te.jsxs)(te.Fragment,{children:[(0,te.jsxs)(r.A,{className:"justify-content-end w-100 mb-3",children:[(0,te.jsx)(J.A,{listType:"orders"}),(0,te.jsx)(d.A,{type:"primary",icon:(0,te.jsx)(j.A,{}),onClick:()=>{re((0,z.Uy)()),re((0,w.wr)({id:"pos.system_01",url:"pos-system",name:"pos.system",icon:"laptop",data:Ve.data,refetch:!0})),oe("/pos-system")},style:{width:"100%"},children:ce("add.order")})]}),(0,te.jsx)(u.A,{children:(0,te.jsxs)(r.A,{wrap:!0,children:[(0,te.jsx)(M.A,{defaultValue:null===Ze||void 0===Ze?void 0:Ze.search,resetSearch:!(null!==Ze&&void 0!==Ze&&Ze.search),placeholder:ce("search"),handleChange:e=>Qe(e,"search"),style:{width:200}}),(0,te.jsx)(H.G,{placeholder:ce("select.shop"),fetchOptions:async function(e){const t={search:e,status:"approved"};return F.A.getAll(t).then((e=>{let{data:t}=e;return t.map((e=>{var t;return{label:null===(t=e.translation)||void 0===t?void 0:t.title,value:e.id}}))}))},style:{width:200},onSelect:e=>Qe(e.value,"shop_id"),allowClear:!0,value:null===Ze||void 0===Ze?void 0:Ze.shop_id,onClear:()=>Qe(void 0,"shop_id")}),(0,te.jsx)(H.G,{placeholder:ce("select.client"),fetchOptions:async function(e){const t={search:e,perPage:10};return V.A.search(t).then((e=>{let{data:t}=e;return t.map((e=>({label:`${e.firstname} ${e.lastname}`,value:e.id})))}))},onSelect:e=>Qe(e.value,"user_id"),style:{width:200},value:null===Ze||void 0===Ze?void 0:Ze.user_id,onClear:()=>Qe(void 0,"user_id")}),(0,te.jsx)(ne,{value:Ee,onChange:e=>{Qe((t=>{var l,n;return{...t,date_from:null===e||void 0===e||null===(l=e[0])||void 0===l?void 0:l.format("YYYY-MM-DD"),date_to:null===e||void 0===e||null===(n=e[1])||void 0===n?void 0:n.format("YYYY-MM-DD")}})),Le(e)},onClear:()=>{Qe((e=>({...e,date_from:null,date_to:null}))),Le(null)},style:{width:250}}),(0,te.jsxs)(d.A,{onClick:()=>{He(!0),D.A.export(Xe).then((e=>{window.location.href=U.bb+e.data.file_name})).finally((()=>He(!1)))},loading:Ne,style:{width:"100%"},children:[(0,te.jsx)(L.$tV,{className:"mr-2"}),ce("export")]}),(0,te.jsx)(d.A,{onClick:()=>{(0,b.vA)((()=>{re((0,k.gw)()),re((0,w.Ok)({activeMenu:Ve,data:null}))})),Le(null)},style:{width:"100%"},icon:(0,te.jsx)(g.A,{}),children:ce("clear")})]})}),(0,te.jsxs)(u.A,{children:[(0,te.jsxs)(r.A,{className:"justify-content-between align-items-start w-100",children:[(0,te.jsx)(s.A,{onChange:e=>{const t=e;re((0,w.Ok)({activeMenu:Ve,data:{role:t,page:1}})),Be(e),oe(`?status=${t}`)},type:"card",activeKey:Te,children:_e.filter((e=>!0===e.active)).map((e=>(0,te.jsx)(le,{tab:ce(e.name)},e.name)))}),(0,te.jsxs)(r.A,{children:[(0,te.jsx)(o.A,{title:ce("delete.selected"),children:(0,te.jsx)(T.A,{disabled:"deleted_at"===Te,type:"primary",onClick:()=>{null===De||0===De.length?B.oR.warning(ce("select.the.product")):(ze(!0),Oe(!1))}})}),(0,te.jsx)(Y.A,{setColumns:Me,columns:Se,iconOnly:!0}),(0,te.jsx)(v.A,{overlay:et,children:(0,te.jsx)(d.A,{children:ce("options")})})]})]}),(0,te.jsx)(h.A,{scroll:{x:!0},rowSelection:Je,columns:null===Se||void 0===Se?void 0:Se.filter((e=>e.is_show)),dataSource:Ge,loading:Fe,pagination:{pageSize:Ke.perPage,page:(null===(se=Ve.data)||void 0===se?void 0:se.page)||1,total:null===qe||void 0===qe?void 0:qe.total,defaultCurrent:null===(ae=Ve.data)||void 0===ae?void 0:ae.page,current:null===(ie=Ve.data)||void 0===ie?void 0:ie.page},rowKey:e=>e.id,onChange:function(e,t,l){const{pageSize:n,current:s}=e,{field:a,order:i}=l,d=(0,S.A)(i);re((0,w.Ok)({activeMenu:Ve,data:{...Ze,perPage:n,page:s,column:a,sort:d}}))}})]}),pe&&(0,te.jsx)(Z.A,{orderDetails:pe,handleCancel:We,status:ve}),je&&(0,te.jsx)(X.A,{orderDetails:je,handleCancel:We}),xe&&(0,te.jsx)(Q.A,{id:xe,handleCancel:We}),Ae&&(0,te.jsx)(W.A,{id:Ae,handleCancel:We}),(0,te.jsx)($.A,{click:()=>{Ue(!0);const e={...Object.assign({},...De.map(((e,t)=>({[`ids[${t}]`]:e}))))};D.A.delete(e).then((()=>{B.oR.success(ce("successfully.deleted")),ze(!1),re((0,k.Gb)(Xe)),Oe(null)})).finally((()=>{Ie(null),Ue(!1)}))},text:ce($e?"delete":"all.delete"),loading:Pe,setText:Ie}),Ce&&(0,te.jsx)(G.A,{open:Ce,handleCancel:()=>ke(null),click:Ce.restore?()=>{Ue(!0),D.A.restoreAll().then((()=>{B.oR.success(ce("it.will.take.some.time.to.return.the.files")),re((0,k.Gb)(Xe)),ke(null)})).finally((()=>Ue(!1)))}:()=>{Ue(!0),D.A.dropAll().then((()=>{B.oR.success(ce("successfully.deleted")),re((0,k.Gb)(Xe)),ke(null)})).finally((()=>Ue(!1)))},text:Ce.restore?ce("restore.modal.text"):ce("read.carefully"),subTitle:Ce.restore?"":ce("confirm.deletion"),loading:Pe,setText:Ie}),!!be&&(0,te.jsx)(p.A,{visible:!!be,footer:!1,onCancel:()=>we(null),children:(0,te.jsx)(ee.A,{data:be,onCancel:()=>we(null)})})]})}},89323:(e,t,l)=>{"use strict";l.d(t,{A:()=>r});var n=l(89379),s=l(9950);const a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var i=l(25085),d=function(e,t){return s.createElement(i.A,(0,n.A)((0,n.A)({},e),{},{ref:t,icon:a}))};d.displayName="TableOutlined";const r=s.forwardRef(d)},91258:(e,t,l)=>{"use strict";l.d(t,{A:()=>o});var n=l(17811),s=(l(9950),l(29949)),a=l(42935),i=l(13564),d=l(44414);const r=[{value:"orders-board",title:"Board",icon:(0,d.jsx)(a.oeo,{size:20})},{value:"orders",title:"List",icon:(0,d.jsx)(s.AyK,{size:20})}],o=e=>{let{listType:t}=e;const{type:l}=(0,i.g)(),s=(0,i.Zp)();return(0,d.jsx)(n.Ay.Group,{value:t,onChange:e=>{s(`/${e.target.value}${l?`/${l}`:""}`)},className:"float-right",buttonStyle:"solid",children:null===r||void 0===r?void 0:r.map((e=>(0,d.jsx)(n.Ay.Button,{value:e.value,children:(0,d.jsxs)("div",{className:"d-flex align-items-center",style:{gap:"10px"},children:[e.icon,e.title]})},e.value)))})}}}]);