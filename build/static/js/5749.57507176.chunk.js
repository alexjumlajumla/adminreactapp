(self.webpackChunkjumlajumla_dashboard=self.webpackChunkjumlajumla_dashboard||[]).push([[5749],{12958:(e,a,t)=>{"use strict";t.d(a,{A:()=>y});var s=t(9950),l=t(3969),n=t(13564),i=t(91854),r=t(53271),o=t(12449),d=t(74623),u=t(70030),c=t(81446),m=t(87094),v=t(41988),p=t(55902),h=t(8724),f=t(80737),g=t(48538),x=t(44414);const j=e=>{let{prev:a,loadingBtn:t,error:s}=e;const{t:n}=(0,u.B)();return(0,x.jsxs)(m.A,{gutter:12,children:[(0,x.jsx)(v.A,{span:12,children:(0,x.jsx)(l.A.Item,{label:n("firstname"),name:"firstname",help:null!==s&&void 0!==s&&s.firstname?s.firstname[0]:null,validateStatus:null!==s&&void 0!==s&&s.firstname?"error":"success",rules:[{required:!0,message:n("required")}],children:(0,x.jsx)(p.A,{className:"w-100"})})}),(0,x.jsx)(v.A,{span:12,children:(0,x.jsx)(l.A.Item,{label:n("lastname"),name:"lastname",help:null!==s&&void 0!==s&&s.lastname?s.lastname[0]:null,validateStatus:null!==s&&void 0!==s&&s.lastname?"error":"success",rules:[{required:!0,message:n("required")}],children:(0,x.jsx)(p.A,{className:"w-100"})})}),(0,x.jsx)(v.A,{span:12,children:(0,x.jsx)(l.A.Item,{label:n("phone"),name:"phone",help:null!==s&&void 0!==s&&s.phone?s.phone[0]:null,validateStatus:null!==s&&void 0!==s&&s.phone?"error":"success",rules:[{required:!0,message:n("required")}],children:(0,x.jsx)(h.A,{min:0,className:"w-100"})})}),(0,x.jsx)(v.A,{span:12,children:(0,x.jsx)(l.A.Item,{label:n("email"),name:"email",help:null!==s&&void 0!==s&&s.email?s.email[0]:null,validateStatus:null!==s&&void 0!==s&&s.email?"error":"success",rules:[{required:!0,message:n("required")}],children:(0,x.jsx)(p.A,{type:"email",className:"w-100"})})}),(0,x.jsx)(v.A,{span:12,children:(0,x.jsx)(l.A.Item,{label:n("password"),name:"password",help:null!==s&&void 0!==s&&s.password?s.password[0]:null,validateStatus:null!==s&&void 0!==s&&s.password?"error":"success",rules:[{required:!1,message:n("required")},{type:"string",min:6,message:n("min.6.letters")}],normalize:e=>""===(null===e||void 0===e?void 0:e.trim())?null===e||void 0===e?void 0:e.trim():e,children:(0,x.jsx)(p.A.Password,{type:"password",className:"w-100",autoComplete:"off"})})}),(0,x.jsx)(v.A,{span:12,children:(0,x.jsx)(l.A.Item,{label:n("password.confirmation"),help:null!==s&&void 0!==s&&s.password_confirmation?s.password_confirmation[0]:null,validateStatus:null!==s&&void 0!==s&&s.password_confirmation?"error":"success",name:"password_confirmation",dependencies:["password"],hasFeedback:!0,rules:[{required:!1,message:n("required")},e=>{let{getFieldValue:a}=e;return{validator:(e,t)=>t&&a("password")!==t?Promise.reject(n("passwords.do.not.match")):Promise.resolve()}}],normalize:e=>""===(null===e||void 0===e?void 0:e.trim())?null===e||void 0===e?void 0:e.trim():e,children:(0,x.jsx)(p.A.Password,{type:"password",className:"w-100",autoComplete:"off"})})}),(0,x.jsx)(v.A,{span:24,children:(0,x.jsxs)(f.A,{children:[(0,x.jsx)(g.A,{type:"primary",htmlType:"submit",loading:t,children:n("save")}),(0,x.jsx)(g.A,{htmlType:"submit",onClick:()=>a(),children:n("prev")})]})})]})};var A=t(99856);function y(e){let{prev:a}=e;const{t:t}=(0,u.B)(),{activeMenu:m}=(0,i.d4)((e=>e.menu),i.bN),v=(0,i.wA)(),p=(0,n.Zp)(),[h,f]=(0,s.useState)(null),[g,y]=(0,s.useState)(!1),[w,_]=(0,s.useState)(!1),[b]=l.A.useForm();return(0,s.useEffect)((()=>{var e,a,t;return(t=null===m||void 0===m||null===(e=m.data)||void 0===e||null===(a=e.seller)||void 0===a?void 0:a.uuid)&&(_(!0),r.A.getById(t).then((e=>{const a=e.data;b.setFieldsValue({firstname:a.firstname,lastname:a.lastname,email:a.email,phone:a.phone,password_confirmation:a.password_confirmation,password:a.password})})).finally((()=>_(!1)))),()=>{_(!1),y(!1)}}),[]),(0,x.jsx)(x.Fragment,{children:w?(0,x.jsx)(c.A,{}):(0,x.jsx)(l.A,{form:b,layout:"vertical",initialValues:{...m.data},onFinish:e=>{var a,s;y(!0);const l={firstname:e.firstname,lastname:e.lastname,email:e.email,phone:e.phone,password_confirmation:e.password_confirmation,password:e.password},n="shops";r.A.update(null===m||void 0===m||null===(a=m.data)||void 0===a||null===(s=a.seller)||void 0===s?void 0:s.uuid,l).then((()=>{o.oR.success(t("successfully.updated")),p(`/${n}`),v((0,A._)({perPage:10,page:1})),v((0,d.EK)({...m,nextUrl:n}))})).catch((e=>f(e.response.data.params))).finally((()=>y(!1)))},className:"py-4",children:(0,x.jsx)(j,{error:h,loadingBtn:g})})})}},18328:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>y});var s=t(9950),l=t(91854),n=t(71999),i=t(70030),r=t(80313),o=t(86366),d=t(23263),u=t(89441),c=t(12958),m=t(65820),v=t(74623),p=t(55660),h=t(13564),f=t(49164),g=t(81446),x=t(84393),j=t(44414);const{Step:A}=o.A,y=()=>{var e;const{t:a}=(0,i.B)(),{activeMenu:t}=(0,l.d4)((e=>e.menu),l.bN),y=(0,m.s)(),w=Number((null===(e=y.values)||void 0===e?void 0:e.step)||0),[_,b]=(0,s.useState)(t.refetch),k=(0,l.wA)(),{uuid:S}=(0,h.g)(),{languages:q}=(0,l.d4)((e=>e.formLang),l.bN),C=()=>{const e=w+1;y.set("step",e)},N=()=>{const e=w-1;y.set("step",e)},F=e=>({items:e,uid:e,url:e,name:e});function I(e){if(null===e||void 0===e||!e.translations)return{};const{translations:a}=e,t=q.map((e=>{var t,s,l;return{[`title[${e.locale}]`]:null===(t=a.find((a=>a.locale===e.locale)))||void 0===t?void 0:t.title,[`description[${e.locale}]`]:null===(s=a.find((a=>a.locale===e.locale)))||void 0===s?void 0:s.description,[`address[${e.locale}]`]:null===(l=a.find((a=>a.locale===e.locale)))||void 0===l?void 0:l.address}}));return Object.assign({},...t)}return(0,s.useEffect)((()=>{t.refetch&&S&&(e=>{b(!0),p.A.getById(e).then((e=>{var s,l,n,i,r,o,d,u,c,m,p,h;const f={...e.data,...I(e.data),logo_img:F(e.data.logo_img),background_img:F(e.data.background_img),user:"",delivery_time_from:null===(s=e.data)||void 0===s?void 0:s.delivery_time.from,delivery_time_to:null===(l=e.data)||void 0===l?void 0:l.delivery_time.to,delivery_time_type:null===(n=e.data)||void 0===n?void 0:n.delivery_time.type,recommended:"recommended"===e.data.mark,categories:null===(i=e.data)||void 0===i?void 0:i.categories.map((e=>{var a;return{label:null===e||void 0===e||null===(a=e.translation)||void 0===a?void 0:a.title,value:e.id,key:e.id}})),tags:null===(r=e.data)||void 0===r?void 0:r.tags.map((e=>{var a;return{label:null===e||void 0===e||null===(a=e.translation)||void 0===a?void 0:a.title,value:e.id,key:e.id}})),price:(null===(o=e.data)||void 0===o?void 0:o.price)||0,price_per_km:(null===(d=e.data)||void 0===d?void 0:d.price_per_km)||0,min_amount:(null===(u=e.data)||void 0===u?void 0:u.min_amount)||0,tax:(null===(c=e.data)||void 0===c?void 0:c.tax)||0,percentage:(null===(m=e.data)||void 0===m?void 0:m.percentage)||0,emailStatuses:null===e||void 0===e||null===(p=e.data)||void 0===p||null===(h=p.email_statuses)||void 0===h?void 0:h.map((e=>({label:a(e),value:e,key:e})))};k((0,v.Ok)({activeMenu:t,data:f}))})).finally((()=>{b(!1),k((0,v.km)(t))}))})(S)}),[t.refetch,w]),(0,j.jsxs)(d.A,{title:a("shop.clone"),extra:(0,j.jsx)(n.A,{}),children:[(0,j.jsx)(o.A,{current:w,onChange:e=>{k((0,v.Ok)({activeMenu:t,data:{...t.data,step:e}})),y.set("step",e)},children:r.C.map((e=>(0,j.jsx)(A,{title:a(e.title)},e.title)))}),_?(0,j.jsx)(g.A,{}):(0,j.jsxs)("div",{className:"steps-content",children:["First-content"===r.C[w].content&&(0,j.jsx)(u.A,{next:C,loading:_,user:!0}),"Second-content"===r.C[w].content&&(0,j.jsx)(x.A,{next:C,prev:N}),"Third-content"===r.C[w].content&&(0,j.jsx)(f.A,{next:C,prev:N}),"Four-content"===r.C[w].content&&(0,j.jsx)(c.A,{next:C,prev:N})]})]})}},42634:()=>{},65820:(e,a,t)=>{"use strict";t.d(a,{s:()=>i});var s=t(13564),l=t(21215),n=t.n(l);const i=()=>{const e=(0,s.Zp)(),a=(0,s.zy)(),t=n().parse(a.search,{ignoreQueryPrefix:!0});return{values:t,set:(a,s)=>e({search:n().stringify({...t,[a]:s})}),reset:a=>{const s={...t};s[a]&&delete s[a],e({search:n().stringify({...s})})},clear:()=>e({search:n().stringify({})}),merge:a=>e({search:n().stringify({...t,...a})}),get:e=>t[e],setMultiple:a=>{const s={...t,...a};e({search:n().stringify(s)})},resetMultiple:a=>{const s={...t};a.forEach((e=>{s[e]&&delete s[e]})),e({search:n().stringify(s)})}}}},80313:(e,a,t)=>{"use strict";t.d(a,{C:()=>s});const s=[{title:"shop",content:"First-content"},{title:"map",content:"Second-content"},{title:"delivery",content:"Third-content"},{title:"user",content:"Four-content"}]}}]);