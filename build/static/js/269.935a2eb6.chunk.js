"use strict";(self.webpackChunkjumlajumla_dashboard=self.webpackChunkjumlajumla_dashboard||[]).push([[269],{269:(e,s,a)=>{a.r(s),a.d(s,{default:()=>y});var r=a(9950),l=a(3969),i=a(23263),d=a(87094),n=a(41988),t=a(99674),m=a(55902),u=a(25933),c=a(80737),h=a(48538),j=a(70030),A=a(62960),x=a(24455),o=a(91854),p=a(12449),_=a(74623),b=a(13564),q=a(81446),w=a(44414);const g=[{title:"firebase",value:"firebase"},{title:"twilio",value:"twilio"},{title:"mobishastra",value:"mobishastra"}];function y(){const[e]=l.A.useForm(),{t:s}=(0,j.B)(),[a,y]=(0,r.useState)(!1),[f,N]=(0,r.useState)(!1),k=(0,o.wA)(),I=(0,b.Zp)(),{activeMenu:v}=(0,o.d4)((e=>e.menu),o.bN),{type:F}=(0,b.g)(),[B,C]=(0,r.useState)(null),{smsGatewaysList:P}=(0,o.d4)((e=>e.sms),o.bN);(0,r.useEffect)((()=>{v.refetch&&(s=>{N(!0),A.A.getById(s).then((s=>{const a=s.data;e.setFieldsValue({default:Boolean(a.default),...a.payload}),C(a.type)})).finally((()=>{N(!1),k((0,_.km)(v))}))})(F)}),[v.refetch]);return(0,w.jsx)(i.A,{title:s("edit.sms.payload"),className:"h-100",children:f?(0,w.jsx)(q.A,{}):(0,w.jsx)(l.A,{form:e,layout:"vertical",onFinish:e=>{y(!0);const a={type:B,default:Number(e.default),payload:{type:void 0,default:void 0,...e}},r="settings/sms-payload";A.A.update(F,a).then((()=>{p.oR.success(s("successfully.updated")),(0,o.vA)((()=>{k((0,x.M)()),k((0,_.EK)({...v,nextUrl:r}))})),I(`/${r}`)})).finally((()=>y(!1)))},children:(0,w.jsxs)(i.A,{title:s("add.sms.payload"),children:[(0,w.jsxs)(d.A,{gutter:12,children:[(0,w.jsx)(n.A,{span:12,children:(0,w.jsx)(l.A.Item,{label:s("select.type"),rules:[{required:!0,message:s("required")}],children:(0,w.jsx)(t.A,{disabled:!0,className:"w-100",onChange:e=>C(e),value:B,options:g.filter((e=>!P.some((s=>s.type===e.value))))})})}),"firebase"===F&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(n.A,{span:12,children:(0,w.jsx)(l.A.Item,{label:s("android_api_key"),name:"android_api_key",rules:[{required:!0,message:s("required")}],children:(0,w.jsx)(m.A,{className:"w-100"})})}),(0,w.jsx)(n.A,{span:12,children:(0,w.jsx)(l.A.Item,{label:s("api_key"),name:"api_key",rules:[{required:!0,message:s("required")}],children:(0,w.jsx)(m.A,{className:"w-100"})})}),(0,w.jsx)(n.A,{span:12,children:(0,w.jsx)(l.A.Item,{label:s("app_id"),name:"app_id",rules:[{required:!0,message:s("required")}],children:(0,w.jsx)(m.A,{className:"w-100"})})}),(0,w.jsx)(n.A,{span:12,children:(0,w.jsx)(l.A.Item,{label:s("auth_domain"),name:"auth_domain",rules:[{required:!0,message:s("required")}],children:(0,w.jsx)(m.A,{className:"w-100"})})}),(0,w.jsx)(n.A,{span:12,children:(0,w.jsx)(l.A.Item,{label:s("ios_api_key"),name:"ios_api_key",rules:[{required:!0,message:s("required")}],children:(0,w.jsx)(m.A,{className:"w-100"})})}),(0,w.jsx)(n.A,{span:12,children:(0,w.jsx)(l.A.Item,{label:s("measurement_id"),name:"measurement_id",rules:[{required:!0,message:s("required")}],children:(0,w.jsx)(m.A,{className:"w-100"})})}),(0,w.jsx)(n.A,{span:12,children:(0,w.jsx)(l.A.Item,{label:s("message_sender_id"),name:"message_sender_id",rules:[{required:!0,message:s("required")}],children:(0,w.jsx)(m.A,{className:"w-100"})})}),(0,w.jsx)(n.A,{span:12,children:(0,w.jsx)(l.A.Item,{label:s("project_id"),name:"project_id",rules:[{required:!0,message:s("required")}],children:(0,w.jsx)(m.A,{className:"w-100"})})}),(0,w.jsx)(n.A,{span:12,children:(0,w.jsx)(l.A.Item,{label:s("server_key"),name:"server_key",rules:[{required:!0,message:s("required")}],children:(0,w.jsx)(m.A,{className:"w-100"})})}),(0,w.jsx)(n.A,{span:12,children:(0,w.jsx)(l.A.Item,{label:s("storage_bucket"),name:"storage_bucket",rules:[{required:!0,message:s("required")}],children:(0,w.jsx)(m.A,{className:"w-100"})})}),(0,w.jsx)(n.A,{span:12,children:(0,w.jsx)(l.A.Item,{label:s("vapid_key"),name:"vapid_key",rules:[{required:!0,message:s("required")}],children:(0,w.jsx)(m.A,{className:"w-100"})})}),(0,w.jsx)(n.A,{span:12,children:(0,w.jsx)(l.A.Item,{label:s("default"),name:"default",valuePropName:"checked",children:(0,w.jsx)(u.A,{})})})]}),"twilio"===F&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(n.A,{span:12,children:(0,w.jsx)(l.A.Item,{label:s("twilio_auth_token"),name:"twilio_auth_token",rules:[{required:!0,message:s("required")}],children:(0,w.jsx)(m.A,{min:0,className:"w-100"})})}),(0,w.jsx)(n.A,{span:12,children:(0,w.jsx)(l.A.Item,{label:s("twilio_account_id"),name:"twilio_account_id",rules:[{required:!0,message:s("required")}],children:(0,w.jsx)(m.A,{className:"w-100"})})}),(0,w.jsx)(n.A,{span:12,children:(0,w.jsx)(l.A.Item,{label:s("twilio_number"),name:"twilio_number",rules:[{required:!0,message:s("required")}],children:(0,w.jsx)(m.A,{className:"w-100"})})}),(0,w.jsx)(n.A,{span:12,children:(0,w.jsx)(l.A.Item,{label:s("default"),name:"default",valuePropName:"checked",children:(0,w.jsx)(u.A,{})})})]}),"mobishastra"===F&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(n.A,{span:12,children:(0,w.jsx)(l.A.Item,{label:s("mobishastra_user"),name:"mobishastra_user",rules:[{required:!0,message:s("required")}],children:(0,w.jsx)(m.A,{min:0,className:"w-100"})})}),(0,w.jsx)(n.A,{span:12,children:(0,w.jsx)(l.A.Item,{label:s("mobishastra_password"),name:"mobishastra_password",rules:[{required:!0,message:s("required")}],children:(0,w.jsx)(m.A,{className:"w-100"})})}),(0,w.jsx)(n.A,{span:12,children:(0,w.jsx)(l.A.Item,{label:s("mobishastra_sender_id"),name:"mobishastra_sender_id",rules:[{required:!0,message:s("required")}],children:(0,w.jsx)(m.A,{className:"w-100"})})}),(0,w.jsx)(n.A,{span:12,children:(0,w.jsx)(l.A.Item,{label:s("default"),name:"default",valuePropName:"checked",children:(0,w.jsx)(u.A,{})})})]})]}),(0,w.jsx)(c.A,{children:(0,w.jsx)(h.A,{type:"primary",htmlType:"submit",loading:a,children:s("submit")})})]})})})}}}]);