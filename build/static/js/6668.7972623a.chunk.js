"use strict";(self.webpackChunkjumlajumla_dashboard=self.webpackChunkjumlajumla_dashboard||[]).push([[6668],{16668:(e,t,l)=>{l.r(t),l.d(t,{default:()=>S});var a=l(9950),d=l(12678),i=l(29633),s=l(80737),n=l(48538),r=l(23263),o=l(12203),u=l(12449),c=l(76083),v=l(55386),m=l(91854),h=l(74623),x=l(88986),p=l(8168),g=l(70030),f=l(47526),j=l(89702),y=l(59051),w=l.n(y),k=l(13564),A=l(35116),_=l(28645),b=l(1160),C=l(44414);function S(){const{t:e}=(0,g.B)(),t=(0,m.wA)(),l=(0,k.Zp)(),[y,S]=(0,a.useState)([{title:e("order.id"),dataIndex:"order",key:"order",render:a=>(0,C.jsxs)("div",{className:"text-hover",onClick:()=>(a=>{t((0,h.X4)({id:"order_details",url:`order/details/${a}`,name:e("order.details")})),l(`/order/details/${a}`)})(null===a||void 0===a?void 0:a.id),children:["#",null===a||void 0===a?void 0:a.id]}),sorter:!0,is_show:!0},{title:e("user"),dataIndex:"user",key:"user",is_show:!0,render:e=>(0,C.jsxs)("div",{className:"text-hover",children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})},{title:e("deliveryman"),dataIndex:"deliveryman",key:"deliveryman",is_show:!0,render:e=>(0,C.jsxs)("div",{className:"text-hover",children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})},{title:e("rating"),dataIndex:"rating",key:"rating",is_show:!0,render:e=>(0,C.jsx)(i.A,{allowHalf:!0,disabled:!0,defaultValue:e})},{title:e("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0,render:e=>w()(e).format("YYYY-MM-DD HH:mm")},{title:e("options"),key:"options",dataIndex:"options",is_show:!0,render:(e,t)=>(0,C.jsx)(s.A,{children:(0,C.jsx)(n.A,{type:"primary",icon:(0,C.jsx)(d.A,{}),onClick:()=>P(t.id)})})}]),{setIsModalVisible:I}=(0,a.useContext)(v.o),[$,M]=(0,a.useState)(null),[N,P]=(0,a.useState)(null),[Y,z]=(0,a.useState)(!1),[H,R]=(0,a.useState)(null),{activeMenu:D}=(0,m.d4)((e=>e.menu),m.bN),{reviews:O,meta:V,loading:B,params:E}=(0,m.d4)((e=>e.deliveryboyReview),m.bN),K=D.data,T={sort:null===K||void 0===K?void 0:K.sort,column:null===K||void 0===K?void 0:K.column,perPage:null===K||void 0===K?void 0:K.perPage,page:null===K||void 0===K?void 0:K.page,assign:"deliveryman"};(0,a.useEffect)((()=>{D.refetch&&(t((0,b.$r)(T)),t((0,h.km)(D)))}),[D.refetch]),(0,x.A)((()=>{t((0,b.$r)(T))}),[D.data]);const X={id:$,onChange:e=>{M(e)}};return(0,C.jsxs)(r.A,{title:e("deliveryboy.reviews"),extra:(0,C.jsxs)(s.A,{wrap:!0,children:[(0,C.jsx)(A.A,{size:"",onClick:()=>{null===$||0===$.length?u.oR.warning(e("select.the.product")):(I(!0),R(!1))},children:e("delete.selected")}),(0,C.jsx)(_.A,{columns:y,setColumns:S})]}),children:[(0,C.jsx)(o.A,{scroll:{x:!0},rowSelection:X,columns:null===y||void 0===y?void 0:y.filter((e=>e.is_show)),dataSource:O,pagination:{pageSize:E.perPage,page:E.page,total:V.total,defaultCurrent:E.page},rowKey:e=>e.id,onChange:function(e,l,a){const{pageSize:d,current:i}=e,{field:s,order:n}=a,r=(0,p.A)(n);t((0,h.Ok)({activeMenu:D,data:{perPage:d,page:i,column:s,sort:r}}))},loading:B}),(0,C.jsx)(c.A,{click:()=>{z(!0);const l={...Object.assign({},...$.map(((e,t)=>({[`ids[${t}]`]:e}))))};f.A.delete(l).then((()=>{u.oR.success(e("successfully.deleted")),t((0,b.$r)()),I(!1)})).finally((()=>z(!1)))},text:e(H?"delete":"all.delete"),setText:M,loading:Y}),N&&(0,C.jsx)(j.A,{id:N,handleCancel:()=>P(null)})]})}}}]);