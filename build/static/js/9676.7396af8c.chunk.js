"use strict";(self.webpackChunkjumlajumla_dashboard=self.webpackChunkjumlajumla_dashboard||[]).push([[9676],{41064:(e,t,a)=>{function l(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["title"];if(null===t||void 0===t||!t.translations)return{};const{translations:l}=t,i=(e,t)=>{const a=null===l||void 0===l?void 0:l.find((t=>(null===t||void 0===t?void 0:t.locale)===(null===e||void 0===e?void 0:e.locale)));return a||{[t]:""}},n=e.flatMap((e=>a.flatMap((t=>({[`${t}[${null===e||void 0===e?void 0:e.locale}]`]:i(e,t)[t]})))));return Object.assign({},...n)}a.d(t,{A:()=>l})},99676:(e,t,a)=>{a.r(t),a.d(t,{default:()=>y});var l=a(9950),i=a(3969),n=a(23263),s=a(90650),d=a(12449),o=a(13564),r=a(71999),u=a(91854),c=a(74623),v=a(62572),m=a(70030),f=a(85427),p=a(62466),g=a(41064),h=a(31281),A=a(67658),j=a(44414);const y=()=>{const{t:e}=(0,m.B)(),t=(0,o.Zp)(),a=(0,u.wA)(),{activeMenu:y}=(0,u.d4)((e=>e.menu),u.bN),[k,b]=(0,l.useState)(!1),[x]=i.A.useForm(),[w,M]=(0,l.useState)(null),{uuid:N}=(0,o.g)(),{params:C}=(0,u.d4)((e=>e.careerCategory),u.bN),{languages:E}=(0,u.d4)((e=>e.formLang),u.bN);(0,l.useEffect)((()=>()=>{const e=x.getFieldsValue(!0);a((0,c.Ok)({activeMenu:y,data:e}))}),[]);return(0,l.useEffect)((()=>{var e;y.refetch&&(e=N,b(!0),v.A.getById(e).then((e=>{var t;let l=e.data;const i={...l,...(0,g.A)(E,l,["title","description"]),image:null!==l&&void 0!==l&&null!==(t=l.img)&&void 0!==t&&t.length?[(0,p.A)(null===l||void 0===l?void 0:l.img)]:[],keywords:l.keywords.split(",")};x.setFieldsValue(i),a((0,c.Ok)({activeMenu:y,data:i}))})).finally((()=>{b(!1),a((0,c.km)(y))})))}),[y.refetch]),(0,j.jsx)(n.A,{title:e("edit.career.category"),extra:(0,j.jsx)(r.A,{}),children:k?(0,j.jsx)("div",{className:"d-flex justify-content-center align-items-center py-5",children:(0,j.jsx)(s.A,{size:"large",className:"mt-5 pt-5"})}):(0,j.jsx)(A.A,{form:x,handleSubmit:(l,i)=>{var n;const s={title:(0,h.A)(E,l),description:(0,h.A)(E,l,"description"),keywords:null===l||void 0===l||null===(n=l.keywords)||void 0===n?void 0:n.join(","),images:null===i||void 0===i?void 0:i.map((e=>null===e||void 0===e?void 0:e.name)),active:null!==l&&void 0!==l&&l.active?1:0,parent_id:void 0,type:"career"},o="catalog/career-categories";return v.A.update(N,s).then((()=>{d.oR.success(e("successfully.updated")),(0,u.vA)((()=>{a((0,c.EK)({...y,nextUrl:o})),a((0,f.b)(C))})),t(`/${o}`)})).catch((e=>M(e.response.data.params)))},error:w})})}}}]);