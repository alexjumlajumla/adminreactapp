"use strict";(self.webpackChunkjumlajumla_dashboard=self.webpackChunkjumlajumla_dashboard||[]).push([[5951],{41064:(e,l,t)=>{function i(e,l){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["title"];if(null===l||void 0===l||!l.translations)return{};const{translations:i}=l,a=(e,l)=>{const t=null===i||void 0===i?void 0:i.find((l=>(null===l||void 0===l?void 0:l.locale)===(null===e||void 0===e?void 0:e.locale)));return t||{[l]:""}},n=e.flatMap((e=>t.flatMap((l=>({[`${l}[${null===e||void 0===e?void 0:e.locale}]`]:a(e,l)[l]})))));return Object.assign({},...n)}t.d(l,{A:()=>i})},75951:(e,l,t)=>{t.r(l),t.d(l,{default:()=>b});var i=t(9950),a=t(3969),n=t(23263),o=t(90650),d=t(12449),u=t(13564),s=t(71999),r=t(91854),v=t(74623),c=t(62572),p=t(63620),m=t(35804),f=t(70030),g=t(41064),h=t(31281),y=t(82405),A=t(44414);const b=()=>{const{t:e}=(0,f.B)(),l=(0,u.Zp)(),t=(0,r.wA)(),{activeMenu:b}=(0,r.d4)((e=>e.menu),r.bN),{params:j}=(0,r.d4)((e=>e.shopCategory),r.bN),[k,_]=(0,i.useState)(!1),[x]=a.A.useForm(),[w,N]=(0,i.useState)(null),{uuid:M}=(0,u.g)(),{languages:E}=(0,r.d4)((e=>e.formLang),r.bN);(0,i.useEffect)((()=>()=>{const e=x.getFieldsValue(!0);t((0,v.Ok)({activeMenu:b,data:e}))}),[]);return(0,i.useEffect)((()=>{var e;b.refetch&&(e=M,_(!0),c.A.getById(e).then((e=>{var l,i,a;let n=e.data;const o={...(0,g.A)(E,n,["title","description"]),image:[(d=null===n||void 0===n?void 0:n.img,{name:d,url:p.sE+d})],keywords:null===n||void 0===n?void 0:n.keywords.split(","),parent_id:{label:null===n||void 0===n||null===(l=n.parent)||void 0===l||null===(i=l.translation)||void 0===i?void 0:i.title,value:null===n||void 0===n?void 0:n.parent_id,key:null===n||void 0===n?void 0:n.parent_id},input:null!==(a=null===n||void 0===n?void 0:n.input)&&void 0!==a?a:32767,active:!(null===n||void 0===n||!n.active)};var d;x.setFieldsValue(o),t((0,v.Ok)({activeMenu:b,data:o}))})).finally((()=>{_(!1),t((0,v.km)(b))})))}),[b.refetch]),(0,A.jsx)(n.A,{title:e("edit.category"),extra:(0,A.jsx)(s.A,{}),children:k?(0,A.jsx)("div",{className:"d-flex justify-content-center align-items-center py-5",children:(0,A.jsx)(o.A,{size:"large",className:"mt-5 pt-5"})}):(0,A.jsx)(y.A,{form:x,handleSubmit:(i,a)=>{var n,o,u;const s={title:(0,h.A)(E,i),description:(0,h.A)(E,i,"description"),type:null!==(n=i.parent_id)&&void 0!==n&&n.value?"sub_shop":"shop",active:Number(null===i||void 0===i?void 0:i.active),keywords:null===i||void 0===i||null===(o=i.keywords)||void 0===o?void 0:o.join(","),parent_id:null===i||void 0===i||null===(u=i.parent_id)||void 0===u?void 0:u.value,images:null===a||void 0===a?void 0:a.map((e=>null===e||void 0===e?void 0:e.name)),input:null===i||void 0===i?void 0:i.input};return c.A.update(M,s).then((()=>{d.oR.success(e("successfully.updated")),(0,r.vA)((()=>{t((0,v.EK)({...b,nextUrl:"catalog/shop/categories"})),t((0,m.J)(j))})),l("/catalog/shop/categories")})).catch((e=>N(e.response.data.params)))},error:w})})}}}]);