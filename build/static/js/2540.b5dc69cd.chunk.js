"use strict";(self.webpackChunkjumlajumla_dashboard=self.webpackChunkjumlajumla_dashboard||[]).push([[2540],{2540:(s,l,e)=>{e.r(l),e.d(l,{default:()=>T});var i=e(9950),d=e(80737),n=e(12916),o=e(20978),r=e(23263),a=e(87094),t=e(41988),c=e(66362),v=e(74522),u=e(86366),x=e(90650),m=e(12203),j=e(14936),h=e(74947),p=e(81419),A=e(13564),y=e(72521),N=e(91854),f=e(74623),b=e(70030),g=e(53774),_=e(16339),w=e(52423),k=e(29949),z=e(50327),q=e(25495),B=e(59051),Y=e.n(B),I=e(69554),C=e(12970),M=e(13311),$=e(44414);function T(){var s,l,e,B,T,D,S,F,H,O,Z,E,J,K,L,R,V,G,P,Q,U,W,X,ss,ls,es,is,ds,ns,os,rs,as,ts,cs,vs,us;const{activeMenu:xs}=(0,N.d4)((s=>s.menu),N.bN),{isDemo:ms}=(0,M.A)(),{defaultCurrency:js}=(0,N.d4)((s=>s.currency),N.bN),hs=xs.data,{t:ps}=(0,b.B)(),{id:As}=(0,A.g)(),ys=(0,N.wA)(),[Ns,fs]=(0,i.useState)(!1),{statusList:bs}=(0,N.d4)((s=>s.orderStatus),N.bN),gs=[{title:ps("id"),dataIndex:"id",key:"id",render:(s,l)=>{var e;return null===(e=l.stock)||void 0===e?void 0:e.id}},{title:ps("product.name"),dataIndex:"product",key:"product",render:(s,l)=>{var e,i,o,r;return(0,$.jsxs)(d.A,{direction:"vertical",children:[null===(e=l.stock)||void 0===e||null===(i=e.product)||void 0===i||null===(o=i.translation)||void 0===o?void 0:o.title," ",null===(r=l.addons)||void 0===r?void 0:r.map((s=>{var l,e,i;return(0,$.jsxs)(n.A,{children:[null===(l=s.stock)||void 0===l||null===(e=l.product)||void 0===e||null===(i=e.translation)||void 0===i?void 0:i.title," x ",s.quantity]},s.id)}))]})}},{title:ps("image"),dataIndex:"img",key:"img",render:(s,l)=>{var e,i;return(0,$.jsx)(o.A,{src:(0,I.A)(null===(e=l.stock)||void 0===e||null===(i=e.product)||void 0===i?void 0:i.img),alt:"product",width:100,height:"auto",className:"rounded",preview:!0,placeholder:!0})}},{title:ps("price"),dataIndex:"origin_price",key:"origin_price",render:s=>(0,g.A)(s,null===js||void 0===js?void 0:js.symbol)},{title:ps("quantity"),dataIndex:"quantity",key:"quantity"},{title:ps("discount"),dataIndex:"discount",key:"discount",render:function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,l=arguments.length>1?arguments[1]:void 0;return(0,g.A)(s/l.quantity,null===js||void 0===js?void 0:js.symbol)}},{title:ps("tax"),dataIndex:"tax",key:"tax",render:(s,l)=>(0,g.A)(s/l.quantity,null===js||void 0===js?void 0:js.symbol)},{title:ps("total.price"),dataIndex:"total_price",key:"total_price",render:s=>(0,g.A)(s,null===js||void 0===js?void 0:js.symbol)}];return(0,i.useEffect)((()=>{xs.refetch&&(fs(!0),y.A.getById(As).then((s=>{let{data:l}=s;ys((0,f.Ok)({activeMenu:xs,data:l}))})).finally((()=>{fs(!1),ys((0,f.km)(xs))})))}),[xs.refetch]),(0,$.jsxs)("div",{className:"order_details",children:[(0,$.jsx)(r.A,{className:"order-details-info",title:(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(_.iHs,{className:"mr-2 icon"}),`${ps("order")} ${null!==hs&&void 0!==hs&&hs.id?`#${null===hs||void 0===hs?void 0:hs.id} `:""}`," ",ps("from.order")," ",null===hs||void 0===hs||null===(s=hs.user)||void 0===s?void 0:s.firstname," ",(null===hs||void 0===hs||null===(l=hs.user)||void 0===l?void 0:l.lastname)||""]})}),(0,$.jsxs)(a.A,{gutter:24,children:[(0,$.jsx)(t.A,{span:24,children:(0,$.jsx)(r.A,{children:(0,$.jsxs)(d.A,{className:"justify-content-between w-100",children:[(0,$.jsxs)(d.A,{className:"align-items-start",children:[(0,$.jsx)(p.A,{className:"order-card-icon"}),(0,$.jsxs)("div",{className:"d-flex flex-column",children:[(0,$.jsx)(c.A.Text,{children:ps("delivery.date")}),Ns?(0,$.jsx)(v.A.Button,{size:16}):(0,$.jsxs)(c.A.Text,{className:"order-card-title",children:[null===hs||void 0===hs?void 0:hs.delivery_date," ",null===hs||void 0===hs?void 0:hs.delivery_time]})]})]}),(0,$.jsxs)(d.A,{className:"align-items-start",children:[(0,$.jsx)(w.aOb,{className:"order-card-icon"}),(0,$.jsxs)("div",{className:"d-flex flex-column",children:[(0,$.jsx)(c.A.Text,{children:ps("total.price")}),Ns?(0,$.jsx)(v.A.Button,{size:16,loading:Ns}):(0,$.jsx)(c.A.Text,{className:"order-card-title",children:(0,g.A)(null===hs||void 0===hs?void 0:hs.total_price,null===js||void 0===js?void 0:js.symbol)})]})]}),(0,$.jsxs)(d.A,{className:"align-items-start",children:[(0,$.jsx)(w.j6C,{className:"order-card-icon"}),(0,$.jsxs)("div",{className:"d-flex flex-column",children:[(0,$.jsx)(c.A.Text,{children:ps("messages")}),Ns?(0,$.jsx)(v.A.Button,{size:16}):(0,$.jsx)(c.A.Text,{className:"order-card-title",children:null!==hs&&void 0!==hs&&hs.review?1:0})]})]}),(0,$.jsxs)(d.A,{className:"align-items-start",children:[(0,$.jsx)(_.iHs,{className:"order-card-icon"}),(0,$.jsxs)("div",{className:"d-flex flex-column",children:[(0,$.jsx)(c.A.Text,{children:ps("products")}),Ns?(0,$.jsx)(v.A.Button,{size:16}):(0,$.jsx)(c.A.Text,{className:"order-card-title",children:null===hs||void 0===hs||null===(e=hs.details)||void 0===e?void 0:e.reduce(((s,l)=>s+l.quantity),0)})]})]})]})})}),"canceled"!==(null===hs||void 0===hs?void 0:hs.status)&&(0,$.jsx)(t.A,{span:24,children:(0,$.jsx)(r.A,{children:(0,$.jsx)(u.A,{current:null===bs||void 0===bs?void 0:bs.findIndex((s=>s.name===(null===hs||void 0===hs?void 0:hs.status))),children:null===bs||void 0===bs?void 0:bs.slice(0,-1).map((s=>(0,$.jsx)(u.A.Step,{title:ps(s.name)},s.id)))})})}),(0,$.jsxs)(t.A,{span:16,children:[(0,$.jsx)(x.A,{spinning:Ns,children:(0,$.jsx)(r.A,{style:{minHeight:"200px"},children:(0,$.jsxs)(a.A,{hidden:Ns,className:"mb-3 order_detail",children:[(0,$.jsxs)(t.A,{span:12,children:[(0,$.jsxs)("div",{children:[ps("created.date.&.time"),":",(0,$.jsxs)("span",{className:"ml-2",children:[(0,$.jsx)(k.cCc,{className:"mr-1"})," ",Y()(null===hs||void 0===hs?void 0:hs.created_at).format("YYYY-MM-DD hh:mm")," "]})]}),(0,$.jsx)("br",{}),(0,$.jsxs)("div",{children:[ps("delivery.date.&.time"),":",(0,$.jsxs)("span",{className:"ml-2",children:[(0,$.jsx)(k.cCc,{className:"mr-1"})," ",null===hs||void 0===hs?void 0:hs.delivery_date," ",null===hs||void 0===hs?void 0:hs.delivery_time]})]}),(0,$.jsx)("br",{}),(0,$.jsxs)("div",{children:[ps("payment.status"),":",(0,$.jsx)("span",{className:"ml-2",children:ps(null===hs||void 0===hs||null===(B=hs.transaction)||void 0===B?void 0:B.status)})]}),(0,$.jsx)("br",{}),(0,$.jsxs)("div",{children:[ps("house"),":",(0,$.jsx)("span",{className:"ml-2",children:ps(null===hs||void 0===hs||null===(T=hs.address)||void 0===T?void 0:T.house)})]}),(0,$.jsx)("br",{}),(0,$.jsxs)("div",{children:[ps("floor"),":",(0,$.jsx)("span",{className:"ml-2",children:ps(null===hs||void 0===hs||null===(D=hs.address)||void 0===D?void 0:D.floor)})]}),(0,$.jsx)("br",{}),(0,$.jsxs)("div",{children:[ps("otp"),":",(0,$.jsx)("span",{className:"ml-2",children:null!==(S=null===hs||void 0===hs?void 0:hs.otp)&&void 0!==S?S:ps("N/A")})]})]}),(0,$.jsxs)(t.A,{span:12,children:[(0,$.jsxs)("div",{children:[ps("status"),":",(0,$.jsx)("span",{className:"ml-2",children:"new"===(null===hs||void 0===hs?void 0:hs.status)?(0,$.jsx)(n.A,{color:"blue",children:ps(null===hs||void 0===hs?void 0:hs.status)}):"canceled"===(null===hs||void 0===hs?void 0:hs.status)?(0,$.jsx)(n.A,{color:"error",children:ps(null===hs||void 0===hs?void 0:hs.status)}):(0,$.jsx)(n.A,{color:"cyan",children:ps(null===hs||void 0===hs?void 0:hs.status)})})]}),(0,$.jsx)("br",{}),(0,$.jsxs)("div",{children:[ps("delivery.type"),":",(0,$.jsx)("span",{className:"ml-2",children:null===hs||void 0===hs?void 0:hs.delivery_type})]}),(0,$.jsx)("br",{}),(0,$.jsxs)("div",{children:[ps("payment.type"),":",(0,$.jsx)("span",{className:"ml-2",children:ps(null===hs||void 0===hs||null===(F=hs.transaction)||void 0===F||null===(H=F.payment_system)||void 0===H?void 0:H.tag)})]}),(0,$.jsx)("br",{}),(0,$.jsxs)("div",{children:[ps("address"),":",(0,$.jsx)("span",{className:"ml-2",children:null===hs||void 0===hs||null===(O=hs.address)||void 0===O?void 0:O.address})]}),(0,$.jsx)("br",{}),(0,$.jsxs)("div",{children:[ps("office"),":",(0,$.jsx)("span",{className:"ml-2",children:null===hs||void 0===hs||null===(Z=hs.address)||void 0===Z?void 0:Z.office})]}),(0,$.jsx)("br",{})]})]})})}),(0,$.jsxs)(r.A,{className:"w-100 order-table",children:[(0,$.jsx)(m.A,{scroll:{x:!0},columns:gs,dataSource:(null===(E=xs.data)||void 0===E?void 0:E.details)||[],loading:Ns,rowKey:s=>s.id,pagination:!1}),(0,$.jsxs)(d.A,{size:100,className:"d-flex justify-content-end w-100 order-table__summary",children:[(0,$.jsxs)("div",{children:[(0,$.jsxs)("span",{children:[ps("delivery.fee"),":"]}),(0,$.jsx)("br",{}),(0,$.jsxs)("span",{children:[ps("order.tax"),":"]}),(0,$.jsx)("br",{}),(0,$.jsxs)("span",{children:[ps("product"),":"]}),(0,$.jsx)("br",{}),(0,$.jsxs)("span",{children:[ps("coupon"),":"]}),(0,$.jsx)("br",{}),(0,$.jsxs)("span",{children:[ps("discount"),":"]}),(0,$.jsx)("br",{}),(0,$.jsxs)("h3",{children:[ps("total.price"),":"]})]}),(0,$.jsxs)("div",{children:[(0,$.jsx)("span",{children:(0,g.A)(null===hs||void 0===hs?void 0:hs.delivery_fee,null===js||void 0===js?void 0:js.symbol)}),(0,$.jsx)("br",{}),(0,$.jsx)("span",{children:(0,g.A)(null===hs||void 0===hs?void 0:hs.tax,null===js||void 0===js?void 0:js.symbol)}),(0,$.jsx)("br",{}),(0,$.jsx)("span",{children:(0,g.A)(null===hs||void 0===hs?void 0:hs.origin_price,null===js||void 0===js?void 0:js.symbol)}),(0,$.jsx)("br",{}),(0,$.jsx)("span",{children:(0,g.A)(null===hs||void 0===hs||null===(J=hs.coupon)||void 0===J?void 0:J.price,null===js||void 0===js?void 0:js.symbol)}),(0,$.jsx)("br",{}),(0,$.jsx)("span",{children:(0,g.A)(null===hs||void 0===hs?void 0:hs.total_discount,js.symbol)}),(0,$.jsx)("br",{}),(0,$.jsx)("h3",{children:(0,g.A)(null===hs||void 0===hs?void 0:hs.total_price,js.symbol)})]})]})]})]}),(0,$.jsxs)(t.A,{span:8,className:"order_info",children:["ready"===(null===hs||void 0===hs?void 0:hs.status)&&"pickup"!==(null===hs||void 0===hs?void 0:hs.delivery_type)&&(0,$.jsx)(r.A,{title:ps("deliveryman"),children:(null===hs||void 0===hs?void 0:hs.deliveryman)&&(0,$.jsxs)(d.A,{children:[(0,$.jsx)(j.A,{shape:"square",size:64,src:null===hs||void 0===hs||null===(K=hs.deliveryman)||void 0===K?void 0:K.img}),(0,$.jsxs)("div",{children:[(0,$.jsxs)("h5",{children:[null===hs||void 0===hs||null===(L=hs.deliveryman)||void 0===L?void 0:L.firstname," ",(null===hs||void 0===hs||null===(R=hs.deliveryman)||void 0===R?void 0:R.lastname)||""]}),(0,$.jsxs)("span",{className:"delivery-info",children:[(0,$.jsx)(k.s91,{}),null===hs||void 0===hs||null===(V=hs.deliveryman)||void 0===V?void 0:V.phone]}),(0,$.jsxs)("div",{className:"delivery-info",children:[(0,$.jsx)("b",{children:(0,$.jsx)(z.mm2,{size:16})}),(0,$.jsx)("span",{children:ms?(0,C.A)(null===hs||void 0===hs||null===(G=hs.deliveryman)||void 0===G?void 0:G.email):null===hs||void 0===hs||null===(P=hs.deliveryman)||void 0===P?void 0:P.email})]})]})]})}),!(null===hs||void 0===hs||!hs.username)&&(0,$.jsxs)(r.A,{title:ps("order.receiver"),children:[(0,$.jsxs)("div",{className:"customer-info",children:[(0,$.jsx)("span",{className:"title",children:ps("name")}),(0,$.jsxs)("span",{className:"description",children:[(0,$.jsx)(k.tVJ,{}),null===hs||void 0===hs?void 0:hs.username]})]}),(0,$.jsxs)("div",{className:"customer-info",children:[(0,$.jsx)("span",{className:"title",children:ps("phone")}),(0,$.jsxs)("span",{className:"description",children:[(0,$.jsx)(k.s91,{}),null===hs||void 0===hs?void 0:hs.phone]})]})]}),(0,$.jsx)(r.A,{children:(0,$.jsxs)("div",{className:"d-flex w-100 customer-info-container",children:[Ns?(0,$.jsx)(v.A.Avatar,{size:64,shape:"square"}):(0,$.jsx)(j.A,{shape:"square",size:64,src:null===hs||void 0===hs||null===(Q=hs.user)||void 0===Q?void 0:Q.img}),(0,$.jsx)("h5",{className:"customer-name",children:Ns?(0,$.jsx)(v.A.Button,{size:20,style:{width:70}}):(null===hs||void 0===hs||null===(U=hs.user)||void 0===U?void 0:U.firstname)+" "+((null===hs||void 0===hs||null===(W=hs.user)||void 0===W?void 0:W.lastname)||"")}),(0,$.jsxs)("div",{className:"customer-info-detail",children:[(0,$.jsxs)("div",{className:"customer-info",children:[(0,$.jsx)("span",{className:"title",children:ps("phone")}),(0,$.jsxs)("span",{className:"description",children:[(0,$.jsx)(k.s91,{}),Ns?(0,$.jsx)(v.A.Button,{size:16}):(null===hs||void 0===hs||null===(X=hs.user)||void 0===X?void 0:X.phone)||"none"]})]}),(0,$.jsxs)("div",{className:"customer-info",children:[(0,$.jsx)("span",{className:"title",children:ps("email")}),(0,$.jsxs)("span",{className:"description",children:[(0,$.jsx)(z.mm2,{}),Ns?(0,$.jsx)(v.A.Button,{size:16}):(0,$.jsx)($.Fragment,{children:ms?(0,C.A)(null===hs||void 0===hs||null===(ss=hs.user)||void 0===ss?void 0:ss.email):null===hs||void 0===hs||null===(ls=hs.user)||void 0===ls?void 0:ls.email})]})]}),(0,$.jsxs)("div",{className:"customer-info",children:[(0,$.jsx)("span",{className:"title",children:ps("registration.date")}),(0,$.jsxs)("span",{className:"description",children:[(0,$.jsx)(k.cCc,{}),Ns?(0,$.jsx)(v.A.Button,{size:16}):Y()(null===hs||void 0===hs||null===(es=hs.user)||void 0===es?void 0:es.created_at).format("DD-MM-YYYY, hh:mm")]})]}),(0,$.jsxs)("div",{className:"customer-info",children:[(0,$.jsx)("span",{className:"title",children:ps("orders.count")}),(0,$.jsx)("span",{className:"description",children:Ns?(0,$.jsx)(v.A.Button,{size:16}):(0,$.jsx)(h.A,{showZero:!0,style:{backgroundColor:"#3d7de3"},count:(null===hs||void 0===hs||null===(is=hs.user)||void 0===is?void 0:is.orders_count)||0})})]}),(0,$.jsxs)("div",{className:"customer-info",children:[(0,$.jsx)("span",{className:"title",children:ps("spent.since.registration")}),(0,$.jsx)("span",{className:"description",children:Ns?(0,$.jsx)(v.A.Button,{size:16}):(0,$.jsx)(h.A,{showZero:!0,style:{backgroundColor:"#48e33d"},count:(0,g.A)(null===hs||void 0===hs||null===(ds=hs.user)||void 0===ds?void 0:ds.orders_sum_price,js.symbol)})})]})]})]})}),(null===hs||void 0===hs?void 0:hs.review)&&!Ns&&(0,$.jsx)(r.A,{title:ps("messages"),children:(0,$.jsxs)("div",{className:"order-message",children:[(0,$.jsx)("span",{className:"message",children:null===hs||void 0===hs?void 0:hs.review.comment}),(0,$.jsx)(d.A,{className:"w-100 justify-content-end",children:(0,$.jsx)("span",{className:"date",children:Y()(null===hs||void 0===hs?void 0:hs.review.created_at).format("YYYY-MM-DD hh:mm")})})]})}),(0,$.jsx)(r.A,{title:ps("store.information"),children:Ns?(0,$.jsx)(v.A,{avatar:!0,shape:"square",paragraph:{rows:2}}):(0,$.jsxs)(d.A,{className:"w-100",children:[(0,$.jsx)(j.A,{shape:"square",size:64,src:null===hs||void 0===hs||null===(ns=hs.shop)||void 0===ns?void 0:ns.logo_img}),(0,$.jsxs)("div",{children:[(0,$.jsx)("h5",{children:null===hs||void 0===hs||null===(os=hs.shop)||void 0===os||null===(rs=os.translation)||void 0===rs?void 0:rs.title}),(null===hs||void 0===hs||null===(as=hs.shop)||void 0===as?void 0:as.phone)&&(0,$.jsxs)("div",{className:"delivery-info",children:[(0,$.jsx)("b",{children:(0,$.jsx)(k.s91,{})}),(0,$.jsx)("span",{children:null===hs||void 0===hs||null===(ts=hs.shop)||void 0===ts?void 0:ts.phone})]}),(0,$.jsxs)("div",{className:"delivery-info",children:[(0,$.jsx)("b",{children:(0,$.jsx)(w.cMR,{size:16})}),(0,$.jsx)("span",{children:null===hs||void 0===hs||null===(cs=hs.shop)||void 0===cs?void 0:cs.price})]}),(0,$.jsxs)("div",{className:"delivery-info",children:[(0,$.jsx)("b",{children:(0,$.jsx)(q.b9f,{size:16})}),(0,$.jsx)("span",{children:null===hs||void 0===hs||null===(vs=hs.shop)||void 0===vs||null===(us=vs.translation)||void 0===us?void 0:us.address})]})]})]})})]})]})]})}},12970:(s,l,e)=>{function i(s){var l,e;let i=null===s||void 0===s?void 0:s.slice(0,1),d=null===s||void 0===s?void 0:s.lastIndexOf("@"),n=null===s||void 0===s?void 0:s.slice(1,d-1);n=null===(l=n)||void 0===l?void 0:l.replace(/./g,"*");let o=null===s||void 0===s?void 0:s.slice(d-1,s.length);return null===i||void 0===i||null===(e=i.concat(n))||void 0===e?void 0:e.concat(o)}e.d(l,{A:()=>i})},53774:(s,l,e)=>{e.d(l,{A:()=>d});var i=e(83291);function d(){var s,l;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,d=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;const o=null===(s=i.M.getState())||void 0===s||null===(l=s.currency)||void 0===l?void 0:l.defaultCurrency,r=Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),a=d||(null===o||void 0===o?void 0:o.symbol)||"$";return"after"===(n||(null===o||void 0===o?void 0:o.position)||"before")?`${r} ${a}`:`${a} ${r}`}}}]);