(self.webpackChunkjumlajumla_dashboard=self.webpackChunkjumlajumla_dashboard||[]).push([[2107],{1201:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});i(9950);var l=i(70030),n=i(88542);const d=i.p+"static/media/noproductsfound.1cec73868b5fd048b865.riv",o=i.p+"static/media/noresult.ac4af107751f94856a9c.riv",s=i.p+"static/media/nosell.32cb2c2cc548a15c820d.riv";var r=i(44414);const a=function(e){let{id:t="noresult",text:i=""}=e;const{t:a}=(0,l.B)(),u={src:{noproductsfound:d,noresult:o,nosell:s}[t],artboard:"New Artboard",autoplay:!0},{RiveComponent:c}=(0,n.useRive)(u);return(0,r.jsxs)("div",{className:"animation-canvas",children:[(0,r.jsx)("div",{style:{width:"100%",height:200},children:(0,r.jsx)(c,{})}),(0,r.jsx)("div",{className:"text text-center",children:a(i)})]})}},8297:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var l=i(9950),n=i(55902),d=i(41397),o=i(60767),s=i(44414);function r(e){let{handleChange:t,defaultValue:i,resetSearch:r,...a}=e;const[u,c]=(0,l.useState)(i),v=(0,l.useMemo)((()=>(0,d.debounce)((e=>{t(e)}),800)),[t]);return(0,l.useEffect)((()=>{c(i)}),[r,i]),(0,s.jsx)(n.A,{value:u,onChange:e=>{c(e.target.value),v(e.target.value)},prefix:(0,s.jsx)(o.A,{}),...a})}},21055:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});var l=i(91348),n=i(8750),d=i(80737),o=i(52765),s=i(48538),r=i(44414);const a=e=>{var t,i;let{showExtras:a,addonCalculate:u,selectedValues:c,handleChange:v}=e;return(0,r.jsx)(d.A,{direction:"vertical",size:"middle",children:null===(t=a.stock)||void 0===t||null===(i=t.addons)||void 0===i?void 0:i.filter((e=>{var t,i;return!!e.product&&!(null===e||void 0===e||null===(t=e.product)||void 0===t||null===(i=t.stock)||void 0===i||!i.quantity)})).map((e=>{var t,i;const a=c.includes(String(e.addon_id));return(0,r.jsxs)("div",{children:[(0,r.jsx)(o.A,{id:String(e.id),name:String(e.id),checked:a,onChange:()=>v(e)}),(0,r.jsxs)("label",{htmlFor:String(e.id),children:[a&&(0,r.jsxs)(d.A,{size:0,children:[(0,r.jsx)(s.A,{type:"text",className:"minus-button",style:{padding:0,height:"max-content"},size:"small",icon:(0,r.jsx)(l.A,{}),disabled:1===e.product.quantity,onClick:t=>{t.stopPropagation(),u(e.addon_id,e.product.quantity-1)}}),(0,r.jsx)("span",{className:"ml-2",children:e.product.quantity||e.product.min_qty}),(0,r.jsx)(s.A,{type:"text",className:"plus-button",style:{padding:0,height:"max-content"},size:"small",icon:(0,r.jsx)(n.A,{}),onClick:t=>{t.stopPropagation(),u(e.addon_id,e.product.quantity?e.product.quantity+1:e.product.min_qty+1)}})]}),(0,r.jsx)("span",{className:"ml-2",children:null===e||void 0===e||null===(t=e.product)||void 0===t||null===(i=t.translation)||void 0===i?void 0:i.title})]})]},e.id)}))})}},22276:(e,t,i)=>{"use strict";i.d(t,{A:()=>d});var l=i(82371);const n="dashboard/admin/tables",d={getAll:e=>l.A.get(n,{params:e}),getById:e=>l.A.get(`${n}/${e}`),create:e=>l.A.post(n,e),update:(e,t)=>l.A.put(`${n}/${e}`,t),delete:e=>l.A.delete(`${n}/delete`,{params:e})}},22576:(e,t,i)=>{"use strict";function l(e,t){for(var i=[],l=[],n="",d=0;d<(null===(o=e.stocks)||void 0===o?void 0:o.length);d++){var o,s;n="";for(var r=0;r<(null===(a=e.stocks[d].extras)||void 0===a?void 0:a.length);r++){var a,u=Object.assign({},e.stocks[d].extras[r]),c=i.findIndex((e=>e.id==u.id));-1==c?(u.level=r,u.up=[n],i.push(u),n+=u.id.toString()):(i[c].up.push(n),n+=u.id.toString())}var v={id:e.stocks[d].id,extras:n,price:e.stocks[d].price,quantity:e.stocks[d].quantity,countable_id:e.stocks[d].countable_id,discount:e.stocks[d].discount,tax:e.stocks[d].tax,total_price:e.stocks[d].total_price,bonus:e.stocks[d].bonus,addons:(null===(s=e.stock)||void 0===s?void 0:s.addons)||e.stocks[d].addons};for(let e=0;e<(null===(h=v.addons)||void 0===h?void 0:h.length);e++){var h;for(let i=0;i<(null===t||void 0===t?void 0:t.length);i++){var p,x,m;v.addons[e].addon_id===((null===(p=t[i].stock)||void 0===p||null===(x=p.product)||void 0===x?void 0:x.id)||(null===(m=t[i].product)||void 0===m?void 0:m.id))&&(v.addons[e].product.quantity=t[i].quantity)}}l.push(v)}return{stock:l,extras:i}}function n(e,t,i){for(var l=""==e?[]:e.split(","),n=[],d=[],o=0;o<=l.length;o++){o-1>=0&&(d[d.length]=l[o-1].toString()),(s=t.filter((e=>{if(new Set(e.up).has(d.join("")))return e}))).length>0&&n.push(s)}o=0;if(d.length<n.length)for(;o<t.length;){var s;if(d[d.length]=n[n.length-1][0].id.toString(),0==(s=t.filter((e=>{if(new Set(e.up).has(d.join("")))return e}))).length)break;n.push(s),o++}var r=i.findIndex((e=>e.extras==d.join("")));return{stock:i[r],extras:n}}i.d(t,{A:()=>n,w:()=>l})},37279:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var l=i(89379),n=i(9950);const d={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M820 436h-40c-4.4 0-8 3.6-8 8v40c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-40c0-4.4-3.6-8-8-8zm32-104H732V120c0-4.4-3.6-8-8-8H300c-4.4 0-8 3.6-8 8v212H172c-44.2 0-80 35.8-80 80v328c0 17.7 14.3 32 32 32h168v132c0 4.4 3.6 8 8 8h424c4.4 0 8-3.6 8-8V772h168c17.7 0 32-14.3 32-32V412c0-44.2-35.8-80-80-80zM360 180h304v152H360V180zm304 664H360V568h304v276zm200-140H732V500H292v204H160V412c0-6.6 5.4-12 12-12h680c6.6 0 12 5.4 12 12v292z"}}]},name:"printer",theme:"outlined"};var o=i(25085),s=function(e,t){return n.createElement(o.A,(0,l.A)((0,l.A)({},e),{},{ref:t,icon:d}))};s.displayName="PrinterOutlined";const r=n.forwardRef(s)},37295:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});var l=i(9950);function n(e,t){const[i,n]=(0,l.useState)(e);return(0,l.useEffect)((()=>{const i=setTimeout((()=>{n(e)}),t);return()=>{clearTimeout(i)}}),[e,t]),i}},39236:(e,t,i)=>{"use strict";i.d(t,{A:()=>d});var l=i(82371);const n="dashboard/admin/shop-sections",d={getAll:e=>l.A.get(n,{params:e}),getById:(e,t)=>l.A.get(`${n}/${e}`,{params:t}),create:e=>l.A.post(n,e),update:(e,t)=>l.A.put(`${n}/${e}`,t),delete:e=>l.A.delete(`${n}/delete`,{params:e})}},42634:()=>{},50630:(e,t,i)=>{"use strict";function l(e,t){var i;const l=(null===t||void 0===t||null===(i=t.translation)||void 0===i?void 0:i.title)||"pcs";if(!e)return 0;switch(null===t||void 0===t?void 0:t.position){case"after":return e+" "+l;case"before":return l+" "+e}}i.d(t,{A:()=>l})},53774:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});var l=i(83291);function n(){var e,t;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0,d=arguments.length>2?arguments[2]:void 0;const o=null===(e=l.M.getState())||void 0===e||null===(t=e.currency)||void 0===t?void 0:t.defaultCurrency,s=Number(i).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),r=n||(null===o||void 0===o?void 0:o.symbol)||"$";return"after"===(d||(null===o||void 0===o?void 0:o.position)||"before")?`${s} ${r}`:`${r} ${s}`}},64498:(e,t,i)=>{"use strict";i.d(t,{A:()=>A});var l=i(9950),n=i(32645),d=i(48538),o=i(90650),s=i(23263),r=i(12203),a=i(80737),u=i(12916),c=i(23758),v=i(86245),h=i(37279),p=i(59051),x=i.n(p),m=i(53774),j=i(70030),y=i(44414);const A=e=>{var t,i,p,A,f,g,b,k,$,N,w,_,S,C,q,z,H,I,M,F;let{orderId:O,handleClose:V}=e;const{t:Y}=(0,j.B)(),[B,T]=(0,l.useState)(!1),[E,D]=(0,l.useState)(null),[P,R]=(0,l.useState)([]);return(0,l.useEffect)((()=>{O&&(T(!0),c.A.getById(O).then((e=>{D(e.data);const t=e.data.details.map((e=>({...e,...e.stock.extras,numberQuantity:null===e||void 0===e?void 0:e.quantity,numberTax:null===e||void 0===e?void 0:e.tax})));R(t)})).finally((()=>T(!1))))}),[]),(0,y.jsx)(n.A,{visible:!!O,title:"Order created successfully",onOk:V,onCancel:V,footer:[(0,y.jsx)(d.A,{onClick:V,children:Y("back")}),(0,y.jsxs)(d.A,{type:"primary",onClick:()=>window.print(),children:[(0,y.jsx)(h.A,{type:"printer"}),(0,y.jsx)("span",{className:"ml-1",children:Y("print")})]})],style:{minWidth:"80vw"},children:(0,y.jsx)("div",{className:"py-4",children:B?(0,y.jsx)("div",{className:"w-100 text-center",children:(0,y.jsx)(o.A,{})}):(0,y.jsxs)(s.A,{title:`${Y("order.details")} ${null!==E&&void 0!==E&&E.id?`#${null===E||void 0===E?void 0:E.id}`:""}`,className:"order-details",children:[(0,y.jsxs)("div",{className:"d-flex justify-content-between mt-3",children:[(0,y.jsxs)("div",{children:[(0,y.jsxs)("h2",{className:"mb-1 font-weight-semibold",children:[Y("invoice")," #",null===E||void 0===E?void 0:E.id]}),(0,y.jsx)("p",{children:x()(null===E||void 0===E?void 0:E.created_at).format("YYYY-MM-DD")}),(0,y.jsx)("address",{children:(0,y.jsxs)("p",{children:[(0,y.jsxs)("span",{children:[Y("delivery.type"),": ",Y(null===E||void 0===E?void 0:E.delivery_type)]}),(0,y.jsx)("br",{}),(0,y.jsxs)("span",{children:[Y("otp"),": ",null!==(t=null===E||void 0===E?void 0:E.otp)&&void 0!==t?t:Y("N/A")]}),!(null===E||void 0===E||!E.table)&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("br",{}),(0,y.jsxs)("span",{children:[Y("table"),": ",(null===E||void 0===E||null===(i=E.table)||void 0===i?void 0:i.name)||Y("N/A")]})]}),!(null===E||void 0===E||null===(p=E.address)||void 0===p||!p.address)&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("br",{}),(0,y.jsxs)("span",{children:[Y("delivery.address"),": ",null===E||void 0===E||null===(A=E.address)||void 0===A?void 0:A.address]})]}),!(null===E||void 0===E||!E.delivery_date_time)&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("br",{}),(0,y.jsx)("span",{children:`${Y("delivery.date")}: ${x()(null===E||void 0===E?void 0:E.delivery_date_time).format("YYYY-MM-DD HH:mm")}`})]}),(null===E||void 0===E?void 0:E.note)&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("br",{}),(0,y.jsxs)("span",{children:[Y("note"),": ",null===E||void 0===E?void 0:E.note]})]})]})})]}),(0,y.jsx)("address",{children:(0,y.jsxs)("p",{children:[(0,y.jsxs)("span",{className:"font-weight-semibold text-dark font-size-md",children:[null===E||void 0===E||null===(f=E.user)||void 0===f?void 0:f.firstname," ",(null===E||void 0===E||null===(g=E.user)||void 0===g?void 0:g.lastname)||""]}),(null===E||void 0===E?void 0:E.phone)&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("br",{}),(0,y.jsxs)("span",{children:[Y("phone"),": ",null===E||void 0===E?void 0:E.phone]})]}),(0,y.jsx)("br",{}),(0,y.jsxs)("span",{children:[Y("email"),": ",null===E||void 0===E||null===(b=E.user)||void 0===b?void 0:b.email]})]})})]}),(0,y.jsxs)("div",{className:"mt-4",children:[(0,y.jsxs)(r.A,{scroll:{x:!0},dataSource:P,pagination:!1,className:"mb-5",children:[(0,y.jsx)(v.A,{title:"No.",dataIndex:"id"},"id"),(0,y.jsx)(v.A,{title:Y("product"),dataIndex:"stock",render:(e,t)=>{var i,l,n,d;return(0,y.jsxs)(a.A,{wrap:!0,children:[(0,y.jsx)("span",{children:null===e||void 0===e||null===(i=e.product)||void 0===i||null===(l=i.translation)||void 0===l?void 0:l.title}),(0,y.jsx)("span",{children:null===e||void 0===e||null===(n=e.extras)||void 0===n?void 0:n.map((e=>(0,y.jsx)(u.A,{children:null===e||void 0===e?void 0:e.value},null===e||void 0===e?void 0:e.id)))}),null===t||void 0===t||null===(d=t.addons)||void 0===d?void 0:d.map((e=>{var t,i,l;return(0,y.jsx)(u.A,{children:`${null===e||void 0===e||null===(t=e.stock)||void 0===t||null===(i=t.product)||void 0===i||null===(l=i.translation)||void 0===l?void 0:l.title} x ${(null===e||void 0===e?void 0:e.quantity)||1}`},e.id)}))]})}},"stock"),(0,y.jsx)(v.A,{title:Y("quantity"),dataIndex:"numberQuantity",render:(e,t)=>{var i,l,n,d;return(0,y.jsx)("span",{children:`${t.quantity} ${null===t||void 0===t||null===(i=t.stock)||void 0===i||null===(l=i.product)||void 0===l||null===(n=l.unit)||void 0===n||null===(d=n.translation)||void 0===d?void 0:d.title}`})}},"numberQuantity"),(0,y.jsx)(v.A,{title:Y("price"),dataIndex:"origin_price",render:e=>{var t,i;return(0,m.A)(e,null===E||void 0===E||null===(t=E.currency)||void 0===t?void 0:t.symbol,null===E||void 0===E||null===(i=E.currency)||void 0===i?void 0:i.position)}},"origin_price"),(0,y.jsx)(v.A,{title:Y("tax"),dataIndex:"numberTax",render:e=>{var t,i;return(0,m.A)(e,null===E||void 0===E||null===(t=E.currency)||void 0===t?void 0:t.symbol,null===E||void 0===E||null===(i=E.currency)||void 0===i?void 0:i.position)}},"numberTax"),(0,y.jsx)(v.A,{title:Y("total.price"),dataIndex:"total_price",render:e=>{var t,i;return(0,m.A)(e,null===E||void 0===E||null===(t=E.currency)||void 0===t?void 0:t.symbol,null===E||void 0===E||null===(i=E.currency)||void 0===i?void 0:i.position)}},"total_price")]}),(0,y.jsx)("div",{className:"d-flex justify-content-end",children:(0,y.jsxs)("div",{className:"text-right ",children:[(0,y.jsxs)("div",{className:"border-bottom",children:[(0,y.jsx)("p",{className:"mb-2",children:`${Y("sub.total")}: ${(0,m.A)(null===E||void 0===E?void 0:E.details.reduce(((e,t)=>{var i;return e+(null!==(i=t.total_price)&&void 0!==i?i:0)}),0),null===E||void 0===E||null===(k=E.currency)||void 0===k?void 0:k.symbol,null===E||void 0===E||null===($=E.currency)||void 0===$?void 0:$.position)}`}),(0,y.jsx)("p",{children:`${Y("delivery.price")}: ${(0,m.A)(null===E||void 0===E?void 0:E.delivery_fee,null===E||void 0===E||null===(N=E.currency)||void 0===N?void 0:N.symbol,null===E||void 0===E||null===(w=E.currency)||void 0===w?void 0:w.position)}`}),(0,y.jsx)("p",{children:`${Y("shop.tax")}: ${(0,m.A)(null===E||void 0===E?void 0:E.tax,null===E||void 0===E||null===(_=E.currency)||void 0===_?void 0:_.symbol,null===E||void 0===E||null===(S=E.currency)||void 0===S?void 0:S.position)}`}),(0,y.jsx)("p",{children:`${Y("service.fee")}: ${(0,m.A)(null===E||void 0===E?void 0:E.service_fee,null===E||void 0===E||null===(C=E.currency)||void 0===C?void 0:C.symbol,null===E||void 0===E||null===(q=E.currency)||void 0===q?void 0:q.position)}`}),!(null===E||void 0===E||!E.coupon)&&(0,y.jsx)("p",{children:`${Y("coupon")}: - ${(0,m.A)(null===E||void 0===E||null===(z=E.coupon)||void 0===z?void 0:z.price,null===E||void 0===E||null===(H=E.currency)||void 0===H?void 0:H.symbol,null===E||void 0===E||null===(I=E.currency)||void 0===I?void 0:I.position)}`})]}),(0,y.jsxs)("h2",{className:"font-weight-semibold mt-3",children:[(0,y.jsxs)("span",{className:"mr-1",children:[Y("grand.total"),": "]}),(0,m.A)(null===E||void 0===E?void 0:E.total_price,null===E||void 0===E||null===(M=E.currency)||void 0===M?void 0:M.symbol,null===E||void 0===E||null===(F=E.currency)||void 0===F?void 0:F.position)]})]})})]})]})})})}},66432:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});var l=i(74635);const n=e=>{var t;return null!==e&&void 0!==e&&e.id?{label:(null!==e&&void 0!==e&&e.translation?null===e||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title:null===e||void 0===e?void 0:e.title)||(0,l.t)("N/A"),value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}:null}},80905:(e,t,i)=>{"use strict";i.d(t,{j:()=>a});var l=i(9950),n=i(95491),d=i.n(n),o=i(99674),s=i(90650),r=i(44414);const a=e=>{let{fetchOptions:t,debounceTimeout:i=400,hasMore:n,refetchOnFocus:a=!1,...u}=e;const[c,v]=(0,l.useState)(!1),[h,p]=(0,l.useState)([]),[x,m]=(0,l.useState)(!1),[j,y]=(0,l.useState)(null),[A,f]=(0,l.useState)(1),g=(0,l.useMemo)((()=>d()((e=>{p([]),y(e),v(!0),t({search:e}).then((e=>{p(e),f(2),v(!1)})).finally((()=>m(!1)))}),i)),[t,i,A]);return(0,r.jsxs)(o.A,{showSearch:!0,allowClear:!0,onPopupScroll:async e=>{const i=e.target;x||i.scrollTop+i.offsetHeight!==i.scrollHeight||n&&(m(!0),t({search:j,page:A}).then((e=>{f((e=>e+1)),p([...h,...e])})).finally((()=>m(!1))))},labelInValue:!0,filterOption:!1,onSearch:g,notFoundContent:c?(0,r.jsx)(s.A,{size:"small"}):"no results",onFocus:()=>{a?g(""):null!==h&&void 0!==h&&h.length||g("")},...u,children:[h.map(((e,t)=>(0,r.jsx)(o.A.Option,{value:e.value,children:e.label},t))),x&&(0,r.jsx)(o.A.Option,{children:(0,r.jsx)(s.A,{size:"small"})})]})}},85842:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});var l=i(82371);const n={getAll:e=>l.A.get("dashboard/admin/user-addresses",{params:e}),create:e=>l.A.post("dashboard/admin/user-addresses",e)}},86245:(e,t)=>{"use strict";t.A=void 0;var i=function(e){return null};t.A=i},88810:(e,t,i)=>{"use strict";i.d(t,{A:()=>d});var l=i(20978),n=i(44414);const d=e=>{let{image:t,row:i,size:d=100}=e;return(0,n.jsx)(l.A,{src:t||"https://via.placeholder.com/150",alt:"img_gallery",width:d,height:d,className:"rounded border",preview:!0,placeholder:!t,style:{objectFit:"contain"}},t+(null===i||void 0===i?void 0:i.id))}},91348:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var l=i(89379),n=i(9950);const d={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"};var o=i(25085),s=function(e,t){return n.createElement(o.A,(0,l.A)((0,l.A)({},e),{},{ref:t,icon:d}))};s.displayName="MinusOutlined";const r=n.forwardRef(s)}}]);