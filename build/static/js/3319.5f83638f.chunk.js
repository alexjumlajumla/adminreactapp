"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[3319],{73319:(e,t,l)=>{l.r(t),l.d(t,{default:()=>S});var i=l(47313),a=l(31741),d=l(55613),s=l(45705),n=l(59491),r=l(77181),o=l(78508),u=l(23560),c=l(69658),v=l(74580),h=l(2717),m=l(90954),x=l(80314),g=l(13945),p=l(24511),f=l(28305),w=l(99361),y=l(70816),j=l.n(y),k=l(97890),C=l(55940),Z=l(53233),_=l(20093),b=l(46417);function S(){const{t:e}=(0,p.$)(),t=(0,h.I0)(),l=(0,k.s0)(),[y,S]=(0,i.useState)([{title:e("order.id"),dataIndex:"order",key:"order",render:i=>(0,b.jsxs)("div",{className:"text-hover",onClick:()=>(i=>{t((0,m.bL)({id:"order_details",url:`order/details/${i}`,name:e("order.details")})),l(`/order/details/${i}`)})(null===i||void 0===i?void 0:i.id),children:["#",null===i||void 0===i?void 0:i.id]}),sorter:!0,is_show:!0},{title:e("user"),dataIndex:"user",key:"user",is_show:!0,render:e=>(0,b.jsxs)("div",{className:"text-hover",children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})},{title:e("deliveryman"),dataIndex:"deliveryman",key:"deliveryman",is_show:!0,render:e=>(0,b.jsxs)("div",{className:"text-hover",children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})},{title:e("rating"),dataIndex:"rating",key:"rating",is_show:!0,render:e=>(0,b.jsx)(d.Z,{allowHalf:!0,disabled:!0,defaultValue:e})},{title:e("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0,render:e=>j()(e).format("YYYY-MM-DD HH:mm")},{title:e("options"),key:"options",dataIndex:"options",is_show:!0,render:(e,t)=>(0,b.jsx)(s.Z,{children:(0,b.jsx)(n.Z,{type:"primary",icon:(0,b.jsx)(a.Z,{}),onClick:()=>$(t.id)})})}]),{setIsModalVisible:I}=(0,i.useContext)(v._),[M,P]=(0,i.useState)(null),[Y,$]=(0,i.useState)(null),[z,A]=(0,i.useState)(!1),[H,N]=(0,i.useState)(null),{activeMenu:D}=(0,h.v9)((e=>e.menu),h.wU),{reviews:U,meta:V,loading:E,params:K}=(0,h.v9)((e=>e.deliveryboyReview),h.wU),L=D.data,O={sort:null===L||void 0===L?void 0:L.sort,column:null===L||void 0===L?void 0:L.column,perPage:null===L||void 0===L?void 0:L.perPage,page:null===L||void 0===L?void 0:L.page,assign:"deliveryman"};(0,i.useEffect)((()=>{D.refetch&&(t((0,_.C1)(O)),t((0,m.A_)(D)))}),[D.refetch]),(0,x.Z)((()=>{t((0,_.C1)(O))}),[D.data]);const R={id:M,onChange:e=>{P(e)}};return(0,b.jsxs)(r.Z,{title:e("deliveryboy.reviews"),extra:(0,b.jsxs)(s.Z,{wrap:!0,children:[(0,b.jsx)(C.Z,{size:"",onClick:()=>{null===M||0===M.length?u.Am.warning(e("select.the.product")):(I(!0),N(!1))},children:e("delete.selected")}),(0,b.jsx)(Z.Z,{columns:y,setColumns:S})]}),children:[(0,b.jsx)(o.Z,{scroll:{x:!0},rowSelection:R,columns:null===y||void 0===y?void 0:y.filter((e=>e.is_show)),dataSource:U,pagination:{pageSize:K.perPage,page:K.page,total:V.total,defaultCurrent:K.page},rowKey:e=>e.id,onChange:function(e,l,i){const{pageSize:a,current:d}=e,{field:s,order:n}=i,r=(0,g.Z)(n);t((0,m.nc)({activeMenu:D,data:{perPage:a,page:d,column:s,sort:r}}))},loading:E}),(0,b.jsx)(c.Z,{click:()=>{A(!0);const l={...Object.assign({},...M.map(((e,t)=>({[`ids[${t}]`]:e}))))};f.Z.delete(l).then((()=>{u.Am.success(e("successfully.deleted")),t((0,_.C1)()),I(!1)})).finally((()=>A(!1)))},text:e(H?"delete":"all.delete"),setText:P,loading:z}),Y&&(0,b.jsx)(w.Z,{id:Y,handleCancel:()=>$(null)})]})}}}]);