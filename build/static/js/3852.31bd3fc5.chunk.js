"use strict";(self.webpackChunkjumlajumla_dashboard=self.webpackChunkjumlajumla_dashboard||[]).push([[3852],{13852:(e,a,t)=>{t.r(a),t.d(a,{default:()=>A});var l=t(9950),u=t(3969),d=t(23263),o=t(12449),s=t(13564),i=t(71999),n=t(91854),r=t(74623),c=t(62572),v=t(35804),p=t(70030),m=t(31281),h=t(82405),b=t(44414);const A=()=>{const{t:e}=(0,p.B)(),a=(0,s.Zp)(),t=(0,n.wA)(),[A]=u.A.useForm(),{activeMenu:f}=(0,n.d4)((e=>e.menu),n.bN),{languages:g}=(0,n.d4)((e=>e.formLang),n.bN),[j,k]=(0,l.useState)(null);(0,l.useEffect)((()=>()=>{const e=A.getFieldsValue(!0);t((0,r.Ok)({activeMenu:f,data:e}))}),[]);return(0,b.jsx)(d.A,{title:e("add.category"),extra:(0,b.jsx)(i.A,{}),children:(0,b.jsx)(h.A,{form:A,handleSubmit:(l,u)=>{var d,s,i;const p={title:(0,m.A)(g,l),description:(0,m.A)(g,l,"description"),type:null!==(d=l.parent_id)&&void 0!==d&&d.value?"sub_shop":"shop",active:Number(null===l||void 0===l?void 0:l.active),keywords:null===l||void 0===l||null===(s=l.keywords)||void 0===s?void 0:s.join(","),parent_id:null===l||void 0===l||null===(i=l.parent_id)||void 0===i?void 0:i.value,images:null===u||void 0===u?void 0:u.map((e=>null===e||void 0===e?void 0:e.name)),input:null===l||void 0===l?void 0:l.input},h="catalog/shop/categories";return c.A.create(p).then((()=>{o.oR.success(e("successfully.created")),(0,n.vA)((()=>{t((0,r.EK)({...f,nextUrl:h})),t((0,v.J)({}))})),a(`/${h}`)})).catch((e=>k(e.response.data.params)))},error:j})})}}}]);