"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[7320],{57320:(e,t,i)=>{i.r(t),i.d(t,{default:()=>b});var a=i(47313),r=i(10976),s=i(77181),l=i(23560),n=i(97890),d=i(2717),c=i(90954),u=i(24511),o=i(48697),m=i(73253),v=i(63559),h=i(46417);const b=()=>{const{t:e}=(0,u.$)(),{activeMenu:t}=(0,d.v9)((e=>e.menu),d.wU),i=(0,d.I0)(),[b]=r.Z.useForm(),j=(0,n.s0)();(0,a.useEffect)((()=>()=>{const e=b.getFieldsValue(!0);i((0,c.nc)({activeMenu:t,data:e}))}),[]);return(0,h.jsx)(s.Z,{title:e("add.brand"),children:(0,h.jsx)(v.Z,{form:b,handleSubmit:(a,r)=>{var s;const n="seller/brands",u={status:"published"},v={...a,active:a.active?1:0,"images[0]":null===(s=r[0])||void 0===s?void 0:s.name};return o.Z.create(v).then((()=>{l.Am.success(e("successfully.created")),(0,d.dC)((()=>{i((0,c.ph)({...t,nextUrl:n})),i((0,m.RJ)(u))})),j(`/${n}`)}))}})})}},63559:(e,t,i)=>{i.d(t,{Z:()=>h});var a=i(47313),r=i(10976),s=i(68197),l=i(59624),n=i(66672),d=i(86345),c=i(59491),u=i(75868),o=i(2717),m=i(24511),v=i(46417);function h(e){var t,i;let{form:h,handleSubmit:b}=e;const{t:j}=(0,m.$)(),{activeMenu:Z}=(0,o.v9)((e=>e.menu),o.wU),[p,x]=(0,a.useState)(null!==(t=Z.data)&&void 0!==t&&t.image?null===(i=Z.data)||void 0===i?void 0:i.image:[]),[g,f]=(0,a.useState)(!1);return(0,v.jsxs)(r.Z,{name:"basic",layout:"vertical",onFinish:e=>{f(!0),b(e,p).finally((()=>f(!1)))},form:h,initialValues:{active:!0,...Z.data},children:[(0,v.jsxs)(s.Z,{gutter:12,children:[(0,v.jsx)(l.Z,{span:12,children:(0,v.jsx)(r.Z.Item,{label:j("title"),name:"title",rules:[{validator:(e,t)=>t?t&&""===(null===t||void 0===t?void 0:t.trim())?Promise.reject(new Error(j("no.empty.space"))):t&&(null===t||void 0===t?void 0:t.trim().length)<2?Promise.reject(new Error(j("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(j("required")))}],children:(0,v.jsx)(n.Z,{})})}),(0,v.jsx)(l.Z,{span:6,children:(0,v.jsx)(r.Z.Item,{label:j("image"),name:"images",rules:[{validator:()=>0===(null===p||void 0===p?void 0:p.length)?Promise.reject(new Error(j("required"))):Promise.resolve()}],children:(0,v.jsx)(u.Z,{type:"brands",imageList:p,setImageList:x,form:h,multiple:!1})})}),(0,v.jsx)(l.Z,{span:6,children:(0,v.jsx)("div",{className:"col-md-12 col-sm-6",children:(0,v.jsx)(r.Z.Item,{label:j("active"),name:"active",valuePropName:"checked",children:(0,v.jsx)(d.Z,{})})})})]}),(0,v.jsx)(c.Z,{type:"primary",htmlType:"submit",loading:g,children:j("submit")})]})}}}]);