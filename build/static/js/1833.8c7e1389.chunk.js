"use strict";(self.webpackChunkjumlajumla_dashboard=self.webpackChunkjumlajumla_dashboard||[]).push([[1833],{1833:(e,a,t)=>{t.r(a),t.d(a,{default:()=>A});var l=t(9950),s=t(3969),c=t(23263),r=t(90650),i=t(12449),d=t(13564),n=t(71999),o=t(91854),u=t(74623),v=t(33774),f=t(70030),m=t(42362),g=t(31281),p=t(6728),h=t(44414);const A=()=>{const{t:e}=(0,f.B)(),a=(0,d.Zp)(),t=(0,o.wA)(),{activeMenu:A}=(0,o.d4)((e=>e.menu),o.bN),[j,b]=(0,l.useState)(!1),[y]=s.A.useForm(),{id:x}=(0,d.g)(),{params:k}=(0,o.d4)((e=>e.career),o.bN),{languages:N}=(0,o.d4)((e=>e.formLang),o.bN);function _(e){if(!e)return{};const{translations:a}=e,t=N.map((e=>{var t,l,s;return{[`title[${e.locale}]`]:null===(t=a.find((a=>a.locale===e.locale)))||void 0===t?void 0:t.title,[`description[${e.locale}]`]:null===(l=a.find((a=>a.locale===e.locale)))||void 0===l?void 0:l.description,[`address[${e.locale}]`]:null===(s=a.find((a=>a.locale===e.locale)))||void 0===s?void 0:s.address}}));return Object.assign({},...t)}(0,l.useEffect)((()=>()=>{const e=y.getFieldsValue(!0);t((0,u.Ok)({activeMenu:A,data:e}))}),[]);return(0,l.useEffect)((()=>{var e;A.refetch&&(e=x,b(!0),v.A.getById(e).then((e=>{var a,l,s;let c=e.data;const r={...c,..._(c),category_id:{label:null===c||void 0===c||null===(a=c.category)||void 0===a||null===(l=a.translation)||void 0===l?void 0:l.title,value:null===c||void 0===c||null===(s=c.category)||void 0===s?void 0:s.id}};y.setFieldsValue(r),t((0,u.Ok)({activeMenu:A,data:r}))})).finally((()=>{b(!1),t((0,u.km)(A))})))}),[A.refetch]),(0,h.jsx)(c.A,{title:e("clone.career"),extra:(0,h.jsx)(n.A,{}),children:j?(0,h.jsx)("div",{className:"d-flex justify-content-center align-items-center py-5",children:(0,h.jsx)(r.A,{size:"large",className:"mt-5 pt-5"})}):(0,h.jsx)(p.A,{form:y,handleSubmit:l=>{const s={...l,title:(0,g.A)(N,l,"title"),description:(0,g.A)(N,l,"description"),address:(0,g.A)(N,l,"address"),active:l.active?1:0,category_id:l.category_id.value},c="catalog/career";return v.A.create(s).then((()=>{i.oR.success(e("successfully.updated")),(0,o.vA)((()=>{t((0,u.EK)({...A,nextUrl:c})),t((0,m.R)(k))})),a(`/${c}`)})).catch((e=>console.error(e.response.data.params)))}})})}}}]);