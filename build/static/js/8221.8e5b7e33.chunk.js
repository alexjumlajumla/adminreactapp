"use strict";(self.webpackChunkjumlajumla_dashboard=self.webpackChunkjumlajumla_dashboard||[]).push([[995,8221],{8168:(e,l,t)=>{function a(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}t.d(l,{A:()=>a})},8297:(e,l,t)=>{t.d(l,{A:()=>o});var a=t(9950),i=t(55902),n=t(41397),d=t(60767),s=t(44414);function o(e){let{handleChange:l,defaultValue:t,resetSearch:o,...r}=e;const[u,c]=(0,a.useState)(t),v=(0,a.useMemo)((()=>(0,n.debounce)((e=>{l(e)}),800)),[l]);return(0,a.useEffect)((()=>{c(t)}),[o,t]),(0,s.jsx)(i.A,{value:u,onChange:e=>{c(e.target.value),v(e.target.value)},prefix:(0,s.jsx)(d.A,{}),...r})}},10995:(e,l,t)=>{t.r(l),t.d(l,{default:()=>U});var a=t(9950),i=t(54909),n=t(70030),d=t(80737),s=t(12916),o=t(25933),r=t(48538),u=t(23263),c=t(12203),v=t(69554),p=t(3969),m=t(32645),h=t(47992),g=t(74623),x=t(91854),A=t(12598),y=t(13564),j=t(53387),f=t(44414);function b(e){let{isModalOpen:l,handleCancel:t}=e;const{t:i}=(0,n.B)(),[d]=p.A.useForm(),[s,o]=(0,a.useState)(!1),{activeMenu:u}=(0,x.d4)((e=>e.menu),x.bN),c=(0,x.wA)(),v=(0,y.Zp)();return(0,f.jsx)(m.A,{visible:l,title:i("add.category"),onCancel:t,footer:[(0,f.jsx)(r.A,{type:"primary",onClick:()=>(c((0,g.X4)({url:"seller/category/add",id:"seller/category/add",name:i("edit.category")})),void v("/seller/category/add")),loading:s,icon:(0,f.jsx)(j.A,{}),children:i("add.new.category")},"add.new"),(0,f.jsx)(r.A,{type:"primary",onClick:()=>d.submit(),loading:s,children:i("save")},"save.from"),(0,f.jsx)(r.A,{type:"default",onClick:t,children:i("cancel")},"cancel.form")],children:(0,f.jsx)(p.A,{layout:"vertical",name:"user-address",form:d,onFinish:e=>{const l={...Object.assign({},...e.title.map(((e,l)=>({[`categories[${l}]`]:e.value})))),type:"main"};o(!0),A.A.create(l).then((()=>{t(),c((0,g.Ms)(u))})).catch((e=>console.error(e))).finally((()=>o(!1)))},children:(0,f.jsx)(p.A.Item,{name:"title",label:i("title"),rules:[{required:!0,message:"required"}],children:(0,f.jsx)(h.G,{mode:"multiple",placeholder:"Select category",fetchOptions:async function(e){const l={search:0!==e.length?e:null,perPage:10,type:"main"};return A.A.search(l).then((e=>{let{data:l}=e;return l.map((e=>{var l;return{label:null===(l=e.translation)||void 0===l?void 0:l.title,value:e.id}}))}))},style:{minWidth:150}})})})})}var w=t(24513),_=t(44070),k=t(28264),I=t(12449),C=t(76083),S=t(55386),N=t(28645),q=t(8168),z=t(88986),M=t(8297),O=t(35116),V=t(88810);const P=["blue","red","gold","volcano","cyan","lime"],$=["all","pending","published","unpublished","deleted_at"];function B(e){var l,t,v,p,m,h;let{parentId:B,type:H="main"}=e;const{t:F}=(0,n.B)(),[T,E]=(0,a.useState)(!1),{setIsModalVisible:K}=(0,a.useContext)(S.o),[R,L]=(0,a.useState)(!1),[U,G]=(0,a.useState)(null),X=(0,x.wA)(),Z=(0,y.Zp)(),[Q,D]=(0,a.useState)(null),{activeMenu:W}=(0,x.d4)((e=>e.menu),x.bN),[J,Y]=(0,a.useState)(null),{user:ee}=(0,x.d4)((e=>e.auth),x.bN),{categories:le,meta:te,loading:ae,params:ie}=(0,x.d4)((e=>e.category),x.bN),ne=W.data,{uuid:de}=(0,y.g)(),[se,oe]=(0,a.useState)("all"),re=(null===(l=W.data)||void 0===l?void 0:l.role)||se,ue={search:null===ne||void 0===ne?void 0:ne.search,sort:null===ne||void 0===ne?void 0:ne.sort,column:null===ne||void 0===ne?void 0:ne.column,perPage:null===ne||void 0===ne?void 0:ne.perPage,page:null===ne||void 0===ne?void 0:ne.page,shop_id:null===ee||void 0===ee?void 0:ee.shop_id,type:H,parent_id:B,status:"deleted_at"===re||"all"===re?void 0:re,deleted_at:"deleted_at"===re?re:null},[ce,ve]=(0,a.useState)([{title:F("id"),dataIndex:"id",key:"id",is_show:!0},{title:F("name"),dataIndex:"name",key:"name",is_show:!0},{title:F("created.by"),dataIndex:"shop",key:"shop",is_show:!0,render:e=>F(e?"you":"admin")},{title:F("translations"),dataIndex:"locales",is_show:!0,render:(e,l)=>{var t;return(0,f.jsx)(d.A,{children:null===(t=l.locales)||void 0===t?void 0:t.map(((e,l)=>(0,f.jsx)(s.A,{className:"text-uppercase",color:[P[l]],children:e})))})}},{title:F("image"),dataIndex:"img",key:"img",is_show:!0,render:(e,l)=>(0,f.jsx)(V.A,{image:e,row:l})},{title:F("active"),dataIndex:"active",is_show:!0,render:(e,l)=>(0,f.jsx)(o.A,{onChange:()=>{K(!0),G(l.uuid),Y(!0)},disabled:l.deleted_at||!(null!==l&&void 0!==l&&l.shop_id),checked:e})},{title:F("status"),dataIndex:"status",is_show:!0,render:e=>(0,f.jsx)("div",{children:"pending"===e?(0,f.jsx)(s.A,{color:"blue",children:F(e)}):"unpublished"===e?(0,f.jsx)(s.A,{color:"error",children:F(e)}):(0,f.jsx)(s.A,{color:"cyan",children:F(e)})})},{title:F("options"),key:"options",dataIndex:"options",is_show:!0,render:(e,l)=>(0,f.jsxs)(d.A,{children:[(0,f.jsx)(r.A,{type:"primary",icon:(0,f.jsx)(w.A,{}),onClick:()=>(e=>{X((0,g.X4)({url:`seller/category/${e.uuid}`,id:"category_edit",name:F("category")})),Z(`/seller/category/${e.uuid}`,{state:{parentId:B,parentUuid:de}})})(l),disabled:!(null!==l&&void 0!==l&&l.shop_id)}),(0,f.jsx)(O.A,{disabled:l.deleted_at||!(null!==l&&void 0!==l&&l.shop_id),icon:(0,f.jsx)(_.A,{}),onClick:()=>{G([l.id]),K(!0),D(!0)}})]})}]);(0,a.useEffect)((()=>{W.refetch&&(X((0,k.uO)(ue)),X((0,g.km)(W)))}),[W.refetch]),(0,z.A)((()=>{X((0,k.uO)(ue))}),[W.data]);const pe={selectedRowKeys:U,onChange:e=>{G(e)}},me=e=>{const l=W.data;X((0,g.Ok)({activeMenu:W,data:{...l,...e}}))};return(0,f.jsxs)(u.A,{title:F(B?"sub.category":"categories"),extra:(0,f.jsxs)(d.A,{wrap:!0,children:[(0,f.jsx)(M.A,{placeholder:F("search"),handleChange:e=>me({search:e}),defaultValue:null===(t=W.data)||void 0===t?void 0:t.search,resetSearch:!(null!==(v=W.data)&&void 0!==v&&v.search)}),(0,f.jsx)(r.A,{size:"small",type:"primary",icon:(0,f.jsx)(j.A,{}),onClick:()=>{X((0,g.X4)({url:"seller/category/add",id:"seller/category/add",name:F("edit.category")})),Z("/seller/category/add",{state:{parentId:B,parentUuid:de}})},children:F("add.category")}),(0,f.jsx)(N.A,{columns:ce,setColumns:ve})]}),children:[(0,f.jsx)(i.A,{className:"mt-3",activeKey:re,onChange:e=>{me({role:e,page:1}),oe(e)},type:"card",children:$.map((e=>(0,f.jsx)(i.A.TabPane,{tab:F(e)},e)))}),(0,f.jsx)(c.A,{scroll:{x:!0},rowSelection:pe,columns:null===ce||void 0===ce?void 0:ce.filter((e=>e.is_show)),dataSource:le,pagination:{pageSize:ie.perPage,page:(null===(p=W.data)||void 0===p?void 0:p.page)||1,total:te.total,defaultCurrent:null===(m=W.data)||void 0===m?void 0:m.page,current:null===(h=W.data)||void 0===h?void 0:h.page},rowKey:e=>e.key,onChange:function(e,l,t){const{pageSize:a,current:i}=e,{field:n,order:d}=t,s=(0,q.A)(d);X((0,g.Ok)({activeMenu:W,data:{...W.data,perPage:a,page:i,column:n,sort:s}}))},loading:ae}),T&&(0,f.jsx)(b,{handleCancel:()=>E(!1),isModalOpen:T}),(0,f.jsx)(C.A,{click:J?()=>{L(!0),A.A.setActive(U).then((()=>{K(!1),X((0,k.uO)(ue)),I.oR.success(F("successfully.updated")),Y(!1)})).finally((()=>L(!1)))}:()=>{L(!0);const e={...Object.assign({},...U.map(((e,l)=>({[`ids[${l}]`]:e}))))};A.A.delete(e).then((()=>{I.oR.success(F("successfully.deleted")),X((0,k.uO)(ue)),K(!1)})).finally((()=>L(!1)))},text:F(J?"set.active.category":Q?"delete":"all.delete"),setText:G,loading:R})]})}var H=t(20978),F=t(9845),T=t(3462),E=t(1669),K=t(8228);const R={type:"category"};function L(e){var l,t,i;let{parentId:o}=e;const{t:p}=(0,n.B)(),[h,A]=(0,a.useState)(!1),{setIsModalVisible:j}=(0,a.useContext)(S.o),[_,k]=(0,a.useState)(!1),[M,V]=(0,a.useState)(!1),[P,$]=(0,a.useState)(""),[B,L]=(0,a.useState)(null),U=(0,x.wA)(),G=(0,y.Zp)(),{activeMenu:X}=(0,x.d4)((e=>e.menu),x.bN),{data:Z,meta:Q,loading:D,params:W}=(0,x.d4)((e=>e.requestModels),x.bN),J=X.data,{uuid:Y}=(0,y.g)(),ee={search:null===J||void 0===J?void 0:J.search,sort:null===J||void 0===J?void 0:J.sort,column:null===J||void 0===J?void 0:J.column,perPage:null===J||void 0===J?void 0:J.perPage,page:null===J||void 0===J?void 0:J.page,parent_id:o,type:"category"},[le,te]=(0,a.useState)([{title:p("name"),dataIndex:"name",key:"name",is_show:!0,render:(e,l)=>{var t,a,i,n,s,o;return(0,f.jsxs)(d.A,{children:[null===l||void 0===l||null===(t=l.model)||void 0===t||null===(a=t.translation)||void 0===a?void 0:a.title," ",(0,f.jsx)(E.Kly,{})," ",null===l||void 0===l||null===(i=l.data)||void 0===i||null===(n=i.title)||void 0===n?void 0:n[null===(s=l.model)||void 0===s||null===(o=s.translation)||void 0===o?void 0:o.locale]]})}},{title:p("image"),dataIndex:"img",key:"img",is_show:!0,render:(e,l)=>{var t,a,i;return(0,f.jsxs)(d.A,{children:[(0,f.jsx)(H.A,{src:(0,v.A)(null===l||void 0===l||null===(t=l.model)||void 0===t?void 0:t.img),alt:"img_gallery",width:100,className:"rounded",preview:!0,placeholder:!0}),(0,f.jsx)(E.Kly,{}),(0,f.jsx)(H.A,{src:(0,v.A)(null===(a=l.data)||void 0===a||null===(i=a.images)||void 0===i?void 0:i.at(0)),alt:"img_gallery",width:100,className:"rounded",preview:!0,placeholder:!0})]})}},{title:p("status"),is_show:!0,dataIndex:"status",key:"status",render:(e,l)=>(0,f.jsx)("div",{children:"pending"===e?(0,f.jsx)(s.A,{color:"blue",children:p(e)}):"canceled"===e?(0,f.jsx)(s.A,{color:"error",children:p(e)}):(0,f.jsx)(s.A,{color:"cyan",children:p(e)})})},{title:p("options"),key:"options",dataIndex:"options",is_show:!0,render:(e,l)=>(0,f.jsxs)(d.A,{children:["canceled"===(null===l||void 0===l?void 0:l.status)&&(null===l||void 0===l?void 0:l.status_note)&&(0,f.jsx)(r.A,{icon:(0,f.jsx)(F.A,{}),onClick:()=>{V(!0),$(l.status_note)}}),(0,f.jsx)(r.A,{icon:(0,f.jsx)(w.A,{}),onClick:()=>(e=>{U((0,g.X4)({url:`seller/category-request/${e.id}`,id:"request_edit",name:p("request.edit")})),G(`/seller/category-request/${e.id}`,{state:{parentId:o,parentUuid:Y}})})(l)}),(0,f.jsx)(O.A,{danger:!0,type:"primary",onClick:()=>{L([l.id]),j(!0)}})]})}]);(0,a.useEffect)((()=>{U((0,T.ji)(ee)),U((0,g.km)(X))}),[X.refetch]),(0,z.A)((()=>{U((0,T.ji)(ee))}),[X.data]);const ae={selectedRowKeys:B,onChange:e=>{L(e)}};return(0,f.jsxs)(u.A,{title:p("requests"),extra:(0,f.jsx)(d.A,{wrap:!0,children:(0,f.jsx)(N.A,{columns:le,setColumns:te})}),children:[(0,f.jsx)(c.A,{scroll:{x:!0},rowSelection:ae,columns:null===le||void 0===le?void 0:le.filter((e=>e.is_show)),dataSource:Z,pagination:{pageSize:W.perPage,page:(null===(l=X.data)||void 0===l?void 0:l.page)||1,total:Q.total,defaultCurrent:null===(t=X.data)||void 0===t?void 0:t.page,current:null===(i=X.data)||void 0===i?void 0:i.page},rowKey:e=>e.key,onChange:function(e,l,t){const{pageSize:a,current:i}=e,{field:n,order:d}=t,s=(0,q.A)(d);U((0,g.Ok)({activeMenu:X,data:{...X.data,perPage:a,page:i,column:n,sort:s}}))},loading:D}),h&&(0,f.jsx)(b,{handleCancel:()=>A(!1),isModalOpen:h}),(0,f.jsx)(C.A,{click:()=>{k(!0);const e={...Object.assign({},...B.map(((e,l)=>({[`ids[${l}]`]:e}))))};K.A.delete(e).then((()=>{I.oR.success(p("successfully.deleted")),U((0,T.ji)(R)),j(!1)})).finally((()=>k(!1)))},text:p("delete"),setText:L,loading:_}),(0,f.jsxs)(m.A,{title:p("reject.message"),closable:!1,visible:M,footer:null,centered:!0,children:[(0,f.jsx)("p",{children:P}),(0,f.jsx)("div",{className:"d-flex justify-content-end",children:(0,f.jsx)(r.A,{type:"primary",className:"mr-2",onClick:()=>V(!1),children:p("close")})})]})]})}function U(e){var l;let{parentId:t,type:a}=e;const{t:d}=(0,n.B)(),s=(0,y.zy)();return(0,f.jsxs)(i.A,{defaultActiveKey:(null===(l=s.state)||void 0===l?void 0:l.tab)||"list",destroyInactiveTabPane:!0,children:[(0,f.jsx)(i.A.TabPane,{tab:d("category.list"),children:(0,f.jsx)(B,{parentId:t,type:a})},"list"),(0,f.jsx)(i.A.TabPane,{tab:d("requests"),children:(0,f.jsx)(L,{parentId:t,type:a})},"request")]})}},26639:(e,l,t)=>{t.d(l,{A:()=>_});var a=t(9950),i=t(3969),n=t(87094),d=t(41988),s=t(55902),o=t(99674),r=t(8724),u=t(25933),c=t(48538),v=t(98591),p=t(47992),m=t(16254),h=t(70030),g=t(91854),x=t(13564),A=t(12598),y=t(31281),j=t(12449),f=t(74623),b=t(28264),w=t(44414);function _(e){var l,t;let{form:_,handleSubmit:k,request:I=!0}=e;const{t:C}=(0,h.B)(),S=(0,g.wA)(),N=(0,x.Zp)(),{params:q}=(0,g.d4)((e=>e.requestModels),g.bN),{activeMenu:z}=(0,g.d4)((e=>e.menu),g.bN),{defaultLang:M,languages:O}=(0,g.d4)((e=>e.formLang),g.bN),{myShop:V}=(0,g.d4)((e=>e.myShop),g.bN),{state:P}=(0,x.zy)(),[$,B]=(0,a.useState)(!1),[H,F]=(0,a.useState)(null!==(l=z.data)&&void 0!==l&&l.image?null===(t=z.data)||void 0===t?void 0:t.image:[]);return(0,w.jsxs)(i.A,{name:"category-form",layout:"vertical",onFinish:e=>{var l,t,a,i;const n={title:(0,y.A)(O,e),description:(0,y.A)(O,e,"description"),keywords:null===e||void 0===e||null===(l=e.keywords)||void 0===l?void 0:l.join(","),parent_id:(null===P||void 0===P?void 0:P.parentId)||(null===e||void 0===e||null===(t=e.parent_id)||void 0===t?void 0:t.value),input:null===e||void 0===e?void 0:e.input,images:null===H||void 0===H?void 0:H.map((e=>null===e||void 0===e?void 0:e.name)),active:Number(null===e||void 0===e?void 0:e.active),type:null!==P&&void 0!==P&&P.parentId?"sub_main":"main"},d={type:"category",id:null===e||void 0===e?void 0:e.id,data:{...e,keywords:null===e||void 0===e||null===(a=e.keywords)||void 0===a?void 0:a.join(","),parent_id:(null===P||void 0===P?void 0:P.parentId)||(null===e||void 0===e||null===(i=e.parent_id)||void 0===i?void 0:i.value),input:null===e||void 0===e?void 0:e.input,images:null===H||void 0===H?void 0:H.map((e=>null===e||void 0===e?void 0:e.name)),active:Number(null===e||void 0===e?void 0:e.active),type:null!==P&&void 0!==P&&P.parentId?"sub_main":"main"}},s=I?d:n;B(!0),k(s).then((()=>{const e=null!==P&&void 0!==P&&P.parentId?`seller/category/${null===P||void 0===P?void 0:P.parentUuid}`:"seller/categories",l={...q,shop_id:null===V||void 0===V?void 0:V.id,type:null!==P&&void 0!==P&&P.parentId?"sub_main":"main",parent_id:null===P||void 0===P?void 0:P.parentId};j.oR.success(C("successfully.updated")),(0,g.vA)((()=>{S((0,f.EK)({...z,nextUrl:e})),S((0,b.uO)(l))})),N(`/${e}`,{state:{tab:"request"}})})).finally((()=>{B(!1)}))},initialValues:{active:!0,...z.data},form:_,children:[(0,w.jsxs)(n.A,{gutter:12,children:[(0,w.jsx)(d.A,{span:12,children:O.map((e=>(0,w.jsx)(i.A.Item,{label:C("name"),name:`title[${(null===e||void 0===e?void 0:e.locale)||"en"}]`,hidden:(null===e||void 0===e?void 0:e.locale)!==M,rules:[{required:(null===e||void 0===e?void 0:e.locale)===M,message:C("required")},{type:"string",min:2,max:200,message:C("min.2.max.200.chars")}],children:(0,w.jsx)(s.A,{})},null===e||void 0===e?void 0:e.locale)))}),(0,w.jsx)(d.A,{span:12,children:O.map((e=>(0,w.jsx)(i.A.Item,{label:C("description"),name:`description[${(null===e||void 0===e?void 0:e.locale)||"en"}]`,hidden:(null===e||void 0===e?void 0:e.locale)!==M,rules:[{required:(null===e||void 0===e?void 0:e.locale)===M,message:C("required")},{type:"string",min:2,max:200,message:C("min.2.max.200.chars")}],children:(0,w.jsx)(v.A,{rows:2})},null===e||void 0===e?void 0:e.locale)))}),(0,w.jsx)(d.A,{span:12,children:(0,w.jsx)(i.A.Item,{label:C("keywords"),name:"keywords",rules:[{required:!0,message:C("required")}],children:(0,w.jsx)(o.A,{mode:"tags",style:{width:"100%"}})})}),!(null!==P&&void 0!==P&&P.parentId)&&(0,w.jsx)(d.A,{span:12,children:(0,w.jsx)(i.A.Item,{label:C("parent.category"),name:"parent_id",rules:[{required:!0,message:C("required")}],children:(0,w.jsx)(p.G,{fetchOptions:e=>{const l={perPage:100,type:null!==P&&void 0!==P&&P.parentId?"main":"sub_shop",active:1,search:e};return A.A.selectMyCategoryPaginate(l).then((e=>e.data.map((e=>{var l;return{label:null===e||void 0===e||null===(l=e.translation)||void 0===l?void 0:l.title,value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}}))))}})})}),(0,w.jsx)(d.A,{span:12,children:(0,w.jsx)(i.A.Item,{name:"input",label:C("position"),rules:[{required:!0,message:C("required")}],children:(0,w.jsx)(r.A,{min:0,parser:e=>parseInt(e,10),max:32767,className:"w-100"})})}),(0,w.jsx)(d.A,{span:4,children:(0,w.jsx)(i.A.Item,{label:C("image"),name:"images",rules:[{required:!(null!==H&&void 0!==H&&H.length),message:C("required")}],children:(0,w.jsx)(m.A,{type:"categories",imageList:H,setImageList:F,form:_,multiple:!1})})}),(0,w.jsx)(d.A,{span:2,children:(0,w.jsx)(i.A.Item,{label:C("active"),name:"active",valuePropName:"checked",children:(0,w.jsx)(u.A,{})})})]}),(0,w.jsx)(c.A,{type:"primary",htmlType:"submit",loading:$,children:C("submit")})]})}},28221:(e,l,t)=>{t.r(l),t.d(l,{default:()=>f});var a=t(9950),i=t(3969),n=t(23263),d=t(90650),s=t(13564),o=t(71999),r=t(91854),u=t(74623),c=t(12598),v=t(70030),p=t(8228),m=t(88986),h=t(28264),g=t(41064),x=t(62466),A=t(10995),y=t(26639),j=t(44414);const f=()=>{const{t:e}=(0,v.B)(),l=(0,r.wA)(),[t,f]=(0,a.useState)(null),{activeMenu:b}=(0,r.d4)((e=>e.menu),r.bN),{params:w}=(0,r.d4)((e=>e.requestModels),r.bN),{user:_}=(0,r.d4)((e=>e.auth),r.bN),{state:k}=(0,s.zy)(),{languages:I}=(0,r.d4)((e=>e.formLang),r.bN),[C,S]=(0,a.useState)(!1),[N]=i.A.useForm(),{uuid:q}=(0,s.g)();(0,a.useEffect)((()=>{z(q),l((0,u.km)(b))}),[q,null===k||void 0===k?void 0:k.parentId]),(0,m.A)((()=>{b.refetch&&(z(q),l((0,u.km)(b)))}),[b.refetch]),(0,a.useEffect)((()=>()=>{const e=N.getFieldsValue(!0);(0,r.vA)((()=>{l((0,u.Ok)({activeMenu:b,data:e})),l((0,h.uO)({...w,type:null!==k&&void 0!==k&&k.parentId?"sub_main":"main",parent_id:null===k||void 0===k?void 0:k.parentId,shop_id:null===_||void 0===_?void 0:_.shop_id}))}))}),[]);const z=e=>{e&&(S(!0),c.A.getById(e).then((e=>{var t,a;let i=e.data;const n={...i,...(0,g.A)(I,i,["title","description"]),image:[(0,x.A)(null===i||void 0===i?void 0:i.img)],keywords:null===i||void 0===i?void 0:i.keywords.split(","),id:null===i||void 0===i?void 0:i.id,input:null===i||void 0===i?void 0:i.input,parent_id:{label:null===i||void 0===i||null===(t=i.parent)||void 0===t||null===(a=t.translation)||void 0===a?void 0:a.title,value:null===i||void 0===i?void 0:i.parent_id,key:null===i||void 0===i?void 0:i.parent_id}};f(i.id),l((0,u.Ok)({activeMenu:b,data:n})),N.setFieldsValue(n)})).finally((()=>{S(!1),l((0,u.km)(b))})))};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(n.A,{title:null!==k&&void 0!==k&&k.parentId?e("edit.sub.category"):e("edit.category"),extra:(0,j.jsx)(o.A,{}),children:C?(0,j.jsx)("div",{className:"d-flex justify-content-center align-items-center py-5",children:(0,j.jsx)(d.A,{size:"large",className:"mt-5 pt-5"})}):(0,j.jsx)(y.A,{form:N,handleSubmit:e=>p.A.requestChange(e)})}),!!t&&!(null!==k&&void 0!==k&&k.parentId)&&(0,j.jsx)(A.default,{type:"sub_main",parentId:t})]})}},28645:(e,l,t)=>{t.d(l,{A:()=>h});var a=t(9950),i=t(66362),n=t(69216),d=t(80737),s=t(25933),o=t(57811),r=t(81541),u=t(48538),c=t(89323),v=t(70030),p=t(44414);const{Text:m}=i.A,h=e=>{let{columns:l=[],setColumns:t,style:i,size:h="",iconOnly:g}=e;const{t:x}=(0,v.B)(),[A,y]=(0,a.useState)(!1),j=(0,p.jsx)(n.A,{children:null===l||void 0===l?void 0:l.map(((e,a)=>(0,p.jsx)(n.A.Item,{children:(0,p.jsxs)(d.A,{className:"d-flex justify-content-between",children:[(0,p.jsx)(m,{children:e.title}),(0,p.jsx)(s.A,{defaultChecked:!0,onClick:()=>function(e){const a=null===l||void 0===l?void 0:l.map((l=>(l.dataIndex===e.dataIndex&&(l.is_show=!(null!==l&&void 0!==l&&l.is_show)),l)));t(a)}(e),disabled:1===a})]})},e+a)))});return(0,p.jsx)(o.A,{overlay:j,trigger:["click"],onVisibleChange:e=>{y(e)},visible:A,children:(0,p.jsx)(r.A,{title:x("change.columns"),children:(0,p.jsx)(u.A,{style:{...i},size:h,icon:(0,p.jsx)(c.A,{}),children:g?null:x("Columns")})})})}},31281:(e,l,t)=>{function a(e,l){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"title";const a=null===e||void 0===e?void 0:e.map((e=>({[null===e||void 0===e?void 0:e.locale]:l[`${t}[${null===e||void 0===e?void 0:e.locale}]`]?l[`${t}[${null===e||void 0===e?void 0:e.locale}]`]:void 0})));return Object.assign({},...a)}t.d(l,{A:()=>a})},35116:(e,l,t)=>{t.d(l,{A:()=>r});t(9950);var a=t(48538),i=t(44070),n=t(12449),d=t(70030),s=t(13311),o=t(44414);function r(e){let{size:l="",onClick:t,type:r="default",...u}=e;const{t:c}=(0,d.B)(),{isDemo:v}=(0,s.A)();return(0,o.jsx)(a.A,{size:l,icon:(0,o.jsx)(i.A,{}),onClick:e=>{v?n.oR.warning(c("cannot.work.demo")):t(e)},type:r,...u})}},41064:(e,l,t)=>{function a(e,l){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["title"];if(null===l||void 0===l||!l.translations)return{};const{translations:a}=l,i=(e,l)=>{const t=null===a||void 0===a?void 0:a.find((l=>(null===l||void 0===l?void 0:l.locale)===(null===e||void 0===e?void 0:e.locale)));return t||{[l]:""}},n=e.flatMap((e=>t.flatMap((l=>({[`${l}[${null===e||void 0===e?void 0:e.locale}]`]:i(e,l)[l]})))));return Object.assign({},...n)}t.d(l,{A:()=>a})},47992:(e,l,t)=>{t.d(l,{G:()=>r});var a=t(9950),i=t(95491),n=t.n(i),d=t(99674),s=t(90650),o=t(44414);const r=e=>{let{fetchOptions:l,debounceTimeout:t=400,onClear:i,...r}=e;const[u,c]=(0,a.useState)(!1),[v,p]=(0,a.useState)([]),m=(0,a.useMemo)((()=>n()((e=>{p([]),c(!0),l(e).then((e=>{p(e),c(!1)}))}),t)),[l,t]);return(0,o.jsx)(d.A,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:m,onClear:()=>{m(""),i&&i()},notFoundContent:u?(0,o.jsx)(s.A,{size:"small"}):"no results",...r,options:v,onFocus:()=>{m("")}})}},53387:(e,l,t)=>{t.d(l,{A:()=>o});var a=t(89379),i=t(9950);const n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};var d=t(25085),s=function(e,l){return i.createElement(d.A,(0,a.A)((0,a.A)({},e),{},{ref:l,icon:n}))};s.displayName="PlusCircleOutlined";const o=i.forwardRef(s)},71999:(e,l,t)=>{t.d(l,{A:()=>r});var a=t(9950),i=t(17811),n=t(91854),d=t(82406),s=t(12437),o=t(44414);const r=()=>{const e=(0,n.wA)(),{languages:l,defaultLang:t}=(0,n.d4)((e=>e.formLang),n.bN);(0,a.useEffect)((()=>{s.A.getAllActive().then((l=>{let{data:t}=l;e((0,d.Nn)(t)),e((0,d.Qq)(t.find((e=>!(null===e||void 0===e||!e.default))).locale))}))}),[]);return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(i.Ay.Group,{value:t,onChange:l=>{let{target:{value:t}}=l;e((0,d.Qq)(t))},className:"float-right",buttonStyle:"solid",children:null===l||void 0===l?void 0:l.map((e=>(0,o.jsx)(i.Ay.Button,{value:e.locale,children:e.title},e.id)))})})}},88810:(e,l,t)=>{t.d(l,{A:()=>n});var a=t(20978),i=t(44414);const n=e=>{let{image:l,row:t,size:n=100}=e;return(0,i.jsx)(a.A,{src:l||"https://via.placeholder.com/150",alt:"img_gallery",width:n,height:n,className:"rounded border",preview:!0,placeholder:!l,style:{objectFit:"contain"}},l+(null===t||void 0===t?void 0:t.id))}},89323:(e,l,t)=>{t.d(l,{A:()=>o});var a=t(89379),i=t(9950);const n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var d=t(25085),s=function(e,l){return i.createElement(d.A,(0,a.A)((0,a.A)({},e),{},{ref:l,icon:n}))};s.displayName="TableOutlined";const o=i.forwardRef(s)}}]);