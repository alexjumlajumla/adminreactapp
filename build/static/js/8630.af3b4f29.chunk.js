"use strict";(self.webpackChunkjumlajumla_dashboard=self.webpackChunkjumlajumla_dashboard||[]).push([[8630],{21777:(e,l,t)=>{t.d(l,{A:()=>i});t(9950);var s=t(32645),a=t(32312),n=t(48538),r=t(70030),d=t(44414);const i=e=>{let{open:l,handleCancel:t,text:i,click:o,loading:u,subTitle:c}=e;const{t:h}=(0,r.B)();return(0,d.jsxs)(s.A,{closable:!1,visible:l,footer:null,centered:!0,children:[(0,d.jsx)(a.Ay,{status:"warning",title:i,subTitle:c}),(0,d.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,d.jsx)(n.A,{type:"primary",className:"mr-2",onClick:o,loading:u,children:h("yes")}),(0,d.jsx)(n.A,{onClick:()=>t(),children:h("no")})]})]})}},98630:(e,l,t)=>{t.r(l),t.d(l,{default:()=>S});var s=t(9950),a=t(12678),n=t(29633),r=t(80737),d=t(48538),i=t(23263),o=t(12203),u=t(12449),c=t(76083),h=t(55386),x=t(91854),v=t(74623),p=t(88986),m=t(8168),j=t(70030),f=t(47526),g=t(25966),A=t(89702),y=t(59051),k=t.n(y),w=t(13564),b=(t(35116),t(28645)),C=t(21777),_=t(44414);function S(){const{t:e}=(0,j.B)(),l=(0,x.wA)(),t=(0,w.Zp)(),[y,S]=(0,s.useState)([{title:e("order.id"),dataIndex:"order",key:"order",render:s=>(0,_.jsxs)("div",{className:"text-hover",onClick:()=>(s=>{l((0,v.X4)({id:"order_details",url:`seller/order/details/${s}`,name:e("order.details")})),t(`/seller/order/details/${s}`)})(null===s||void 0===s?void 0:s.id),children:["#",null===s||void 0===s?void 0:s.id]}),sorter:!0,is_show:!0},{title:e("user"),dataIndex:"user",key:"user",is_show:!0,render:e=>(0,_.jsxs)("div",{className:"text-hover",children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})},{title:e("shop"),dataIndex:"order",key:"shop",is_show:!0,render:e=>{var l,t;return(0,_.jsx)("div",{className:"text-hover",children:null===(l=e.shop)||void 0===l||null===(t=l.translation)||void 0===t?void 0:t.title})}},{title:e("rating"),dataIndex:"rating",key:"rating",is_show:!0,render:e=>(0,_.jsx)(n.A,{disabled:!0,defaultValue:e})},{title:e("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0,render:e=>k()(e).format("YYYY-MM-DD HH:mm")},{title:e("options"),key:"options",dataIndex:"options",is_show:!0,render:(e,l)=>(0,_.jsx)(r.A,{children:(0,_.jsx)(d.A,{type:"primary",icon:(0,_.jsx)(a.A,{}),onClick:()=>P(l.id)})})}]),{setIsModalVisible:I}=(0,s.useContext)(h.o),[N,M]=(0,s.useState)(null),[T,P]=(0,s.useState)(null),[R,Y]=(0,s.useState)(!1),[$,z]=(0,s.useState)(null),[B,D]=(0,s.useState)(null),{activeMenu:H}=(0,x.d4)((e=>e.menu),x.bN),{reviews:O,meta:V,loading:E,params:K}=(0,x.d4)((e=>e.orderReview),x.bN);(0,s.useEffect)((()=>{H.refetch&&(l((0,g.ju)()),l((0,v.km)(H)))}),[H.refetch]),(0,p.A)((()=>{const e=H.data,t={sort:null===e||void 0===e?void 0:e.sort,column:null===e||void 0===e?void 0:e.column,perPage:null===e||void 0===e?void 0:e.perPage,page:null===e||void 0===e?void 0:e.page};l((0,g.ju)(t))}),[H.data]);const X={id:N,onChange:e=>{M(e)}};return(0,_.jsxs)(i.A,{title:e("order.reviews"),extra:(0,_.jsx)(r.A,{wrap:!0,children:(0,_.jsx)(b.A,{columns:y,setColumns:S})}),children:[(0,_.jsx)(o.A,{scroll:{x:!0},rowSelection:X,columns:null===y||void 0===y?void 0:y.filter((e=>e.is_show)),dataSource:O,pagination:{pageSize:K.perPage,page:K.page,total:V.total,defaultCurrent:K.page},rowKey:e=>e.id,onChange:function(e,t,s){const{pageSize:a,current:n}=e,{field:r,order:d}=s,i=(0,m.A)(d);l((0,v.Ok)({activeMenu:H,data:{perPage:a,page:n,column:r,sort:i}}))},loading:E}),(0,_.jsx)(c.A,{click:()=>{Y(!0);const t={...Object.assign({},...N.map(((e,l)=>({[`ids[${l}]`]:e}))))};f.A.delete(t).then((()=>{u.oR.success(e("successfully.deleted")),l((0,g.ju)()),I(!1)})).finally((()=>Y(!1)))},text:e($?"delete":"all.delete"),setText:M,loading:R}),T&&(0,_.jsx)(A.A,{id:T,handleCancel:()=>P(null)}),B&&(0,_.jsx)(C.A,{open:B,handleCancel:()=>D(null),click:B.restore?()=>{Y(!0),f.A.restoreAll().then((()=>{u.oR.success(e("successfully.restored")),l((0,g.ju)()),D(null)})).finally((()=>Y(!1)))}:()=>{Y(!0),f.A.dropAll().then((()=>{u.oR.success(e("successfully.deleted")),l((0,g.ju)()),D(null)})).finally((()=>Y(!1)))},text:B.restore?e("restore.modal.text"):e("read.carefully"),subTitle:B.restore?"":e("confirm.deletion"),loading:R,setText:M})]})}}}]);