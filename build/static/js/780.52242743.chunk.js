"use strict";(self.webpackChunkjumlajumla_dashboard=self.webpackChunkjumlajumla_dashboard||[]).push([[780],{31281:(e,t,l)=>{function i(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"title";const i=null===e||void 0===e?void 0:e.map((e=>({[null===e||void 0===e?void 0:e.locale]:t[`${l}[${null===e||void 0===e?void 0:e.locale}]`]?t[`${l}[${null===e||void 0===e?void 0:e.locale}]`]:void 0})));return Object.assign({},...i)}l.d(t,{A:()=>i})},90780:(e,t,l)=>{l.r(t),l.d(t,{default:()=>j});var i=l(9950),n=l(13564),o=l(12449),a=l(3969),s=l(23263),c=l(90650),d=l(91854),u=l(74623),r=l(73271),f=l(58920),v=l(71999),h=l(31281),m=l(70030),p=l(44266),A=l(44414);function j(){const{t:e}=(0,m.B)(),{activeMenu:t}=(0,d.d4)((e=>e.menu),d.bN),{languages:l}=(0,d.d4)((e=>e.formLang),d.bN),j=(0,d.wA)(),[g]=a.A.useForm(),b=(0,n.Zp)(),{uuid:x}=(0,n.g)(),[$,k]=(0,i.useState)(!1);(0,i.useEffect)((()=>()=>{const e=g.getFieldsValue(!0);j((0,u.Ok)({activeMenu:t,data:e}))}),[]);function y(e){if(!e)return{};const{translations:t}=e,i=l.map((e=>{var l,i,n;return{[`title[${e.locale}]`]:null===(l=t.find((t=>t.locale===e.locale)))||void 0===l?void 0:l.title,[`description[${e.locale}]`]:null===(i=t.find((t=>t.locale===e.locale)))||void 0===i?void 0:i.description,[`short_desc[${e.locale}]`]:null===(n=t.find((t=>t.locale===e.locale)))||void 0===n?void 0:n.short_desc}}));return Object.assign({},...i)}return(0,i.useEffect)((()=>{t.refetch&&(e=>{k(!0),f.A.getById(e).then((e=>{let t=e.data;g.setFieldsValue({...t,...y(t)})})).finally((()=>{k(!1),j((0,u.km)(t))}))})(x)}),[t.refetch]),(0,A.jsx)(s.A,{title:e("edit.notification"),extra:(0,A.jsx)(v.A,{}),children:$?(0,A.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,A.jsx)(c.A,{size:"large",className:"py-5"})}):(0,A.jsx)(p.A,{form:g,handleSubmit:i=>{const n={type:"notification",title:(0,h.A)(l,i),description:(0,h.A)(l,i,"description"),short_desc:(0,h.A)(l,i,"short_desc")},a="notifications";return f.A.update(x,n).then((()=>{o.oR.success(e("successfully.updated")),(0,d.vA)((()=>{j((0,u.EK)({...t,nextUrl:a})),j((0,r.b)({}))})),b(`/${a}`)}))}})})}}}]);