"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[213],{80213:(e,t,a)=>{a.r(t),a.d(t,{default:()=>b});var i=a(47313),s=a(10976),n=a(77181),d=a(23560),o=a(97890),u=a(73431),l=a(2717),r=a(90954),c=a(30763),v=a(49991),p=a(24511),h=a(75336),m=a(71740),g=a(46417);const b=()=>{const{t:e}=(0,p.$)(),t=(0,o.s0)(),a=(0,l.I0)(),[b]=s.Z.useForm(),{activeMenu:f}=(0,l.v9)((e=>e.menu),l.wU),{languages:Z}=(0,l.v9)((e=>e.formLang),l.wU),[k,w]=(0,i.useState)(null);(0,i.useEffect)((()=>()=>{const e=b.getFieldsValue(!0);a((0,r.nc)({activeMenu:f,data:e}))}),[]);return(0,g.jsx)(n.Z,{title:e("add.category"),extra:(0,g.jsx)(u.Z,{}),children:(0,g.jsx)(m.Z,{form:b,handleSubmit:(i,s)=>{var n,o,u;const p={title:(0,h.Z)(Z,i),description:(0,h.Z)(Z,i,"description"),type:null!==(n=i.parent_id)&&void 0!==n&&n.value?"sub_shop":"shop",active:Number(null===i||void 0===i?void 0:i.active),keywords:null===i||void 0===i||null===(o=i.keywords)||void 0===o?void 0:o.join(","),parent_id:null===i||void 0===i||null===(u=i.parent_id)||void 0===u?void 0:u.value,images:null===s||void 0===s?void 0:s.map((e=>null===e||void 0===e?void 0:e.name)),input:null===i||void 0===i?void 0:i.input},m="catalog/shop/categories";return c.Z.create(p).then((()=>{d.Am.success(e("successfully.created")),(0,l.dC)((()=>{a((0,r.ph)({...f,nextUrl:m})),a((0,v.a)({}))})),t(`/${m}`)})).catch((e=>w(e.response.data.params)))},error:k})})}}}]);