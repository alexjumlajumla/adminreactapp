"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[2211],{82211:(l,e,i)=>{i.r(e),i.d(e,{default:()=>C});var n=i(47313),t=i(2717),a=i(90954),d=i(97890),o=i(24511),s=i(23560),r=i(56140),c=i(77181),u=i(83371),v=i(68197),m=i(59624),h=i(93709),x=i(45705),p=i(59491),j=i(72652),b=i(97421),Z=i(71810),g=i(14349),y=i(10976),I=i(9274),f=i(66672),$=i(46417);function q(l){let{data:e,handleCancel:i,handleOk:t,visible:a}=l;const{t:d}=(0,o.$)(),[s]=y.Z.useForm(),[r,c]=(0,n.useState)(!1);return(0,$.jsx)(I.Z,{title:d(e.title),visible:a,onCancel:i,footer:[(0,$.jsx)(p.Z,{type:"primary",onClick:()=>s.submit(),loading:r,children:d("save")}),(0,$.jsx)(p.Z,{type:"default",onClick:i,children:d("cancel")})],children:(0,$.jsx)(y.Z,{layout:"vertical",onFinish:l=>{c(!0);const e={...l,status:"canceled"};t(e)},form:s,children:(0,$.jsx)(y.Z.Item,{children:(0,$.jsx)(v.Z,{className:"mt-4",children:(0,$.jsx)(m.Z,{span:24,children:(0,$.jsx)(y.Z.Item,{name:"status_note",label:d("note"),rules:[{validator:(l,e)=>e?e&&""===(null===e||void 0===e?void 0:e.trim())?Promise.reject(new Error(d("no.empty.space"))):e&&(null===e||void 0===e?void 0:e.trim().length)<2?Promise.reject(new Error(d("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(d("required")))}],children:(0,$.jsx)(f.Z.TextArea,{maxLength:250,showCount:!0})})})})})})})}const{Text:k}=r.Z,w={type:"product"},C=()=>{var l,e,i,r,y,I,f,C,_,N,S,E,P,A,F,L,O,U,T,z;const B=(0,t.I0)(),M=(0,d.s0)(),{t:V}=(0,o.$)(),{id:D}=(0,d.UO)(),{activeMenu:G}=(0,t.v9)((l=>l.menu)),{defaultLang:H}=(0,t.v9)((l=>l.formLang),t.wU),[J,K]=(0,n.useState)(!1),[Q,R]=(0,n.useState)(!1),[W,X]=(0,n.useState)({}),[Y,ll]=(0,n.useState)({}),[el,il]=(0,n.useState)(""),[nl,tl]=(0,n.useState)(!1);function al(l){R(!0);const e="catalog/products";g.Z.changeStatus(D,l).then((()=>{M(`/${e}`,{state:{tab:"request"}}),B((0,a.ph)({...G,nextUrl:e})),s.Am.success(V("successfully.changed")),B((0,Z.aw)(w))})).finally((()=>{tl(!1),R(!1)}))}(0,n.useEffect)((()=>{var l;l=D,K(!0),g.Z.getById(l).then((l=>{var e;X(l.data.data),ll(l.data.model),il(null===(e=l.data)||void 0===e?void 0:e.status_note)})).finally((()=>{K(!1),B((0,a.A_)(G))}))}),[D]);const dl=W,ol=Y;return J?(0,$.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,$.jsx)(j.Z,{size:"large",className:"py-5"})}):(0,$.jsxs)($.Fragment,{children:[(0,$.jsxs)(c.Z,{children:[(0,$.jsxs)(u.Z,{bordered:!0,title:V("changed.info"),children:[(0,$.jsx)(u.Z.Item,{label:`${V("title")} (${H})`,span:3,children:(0,$.jsx)(k,{type:(null===dl||void 0===dl?void 0:dl[`title[${H}]`])!==(null===ol||void 0===ol||null===(l=ol.translation)||void 0===l?void 0:l.title)?"danger":void 0,children:null===dl||void 0===dl?void 0:dl[`title[${H}]`]})}),(0,$.jsx)(u.Z.Item,{label:`${V("description")} (${H})`,span:3,children:(0,$.jsx)(k,{type:dl[`description[${H}]`]!==(null===ol||void 0===ol||null===(e=ol.translation)||void 0===e?void 0:e.description)?"danger":void 0,children:dl[`description[${H}]`]})}),(0,$.jsx)(u.Z.Item,{label:V("shop"),span:1.5,children:(0,$.jsx)(k,{type:(null===dl||void 0===dl||null===(i=dl.shop)||void 0===i?void 0:i.translation.title)!==(null===ol||void 0===ol||null===(r=ol.shop)||void 0===r?void 0:r.translation.title)?"danger":void 0,children:null===dl||void 0===dl||null===(y=dl.shop)||void 0===y?void 0:y.translation.title})}),(0,$.jsx)(u.Z.Item,{label:V("category"),span:1.5,children:(0,$.jsx)(k,{type:(null===dl||void 0===dl||null===(I=dl.category)||void 0===I?void 0:I.label)!==(null===ol||void 0===ol||null===(f=ol.category)||void 0===f?void 0:f.translation.title)?"danger":void 0,children:null===dl||void 0===dl||null===(C=dl.category)||void 0===C?void 0:C.label})}),(0,$.jsx)(u.Z.Item,{label:V("brand"),span:1.5,children:null===dl||void 0===dl||null===(_=dl.brand)||void 0===_?void 0:_.label}),(0,$.jsx)(u.Z.Item,{label:V("unit"),span:1.5,children:null===dl||void 0===dl||null===(N=dl.unit)||void 0===N?void 0:N.label}),(0,$.jsx)(u.Z.Item,{label:V("images"),span:3,children:(0,$.jsx)(v.Z,{gutter:12,children:null===dl||void 0===dl||null===(S=dl.images)||void 0===S?void 0:S.map(((l,e)=>(0,$.jsx)(m.Z,{children:(0,$.jsx)("img",{width:80,alt:"product",src:l.url})},"image"+e)))})}),(0,$.jsx)(u.Z.Item,{label:V("tax"),children:null===dl||void 0===dl?void 0:dl.tax}),(0,$.jsx)(u.Z.Item,{label:V("min.quantity"),children:null===dl||void 0===dl?void 0:dl.min_qty}),(0,$.jsx)(u.Z.Item,{label:V("max.quantity"),children:null===dl||void 0===dl?void 0:dl.max_qty})]}),null===dl||void 0===dl||null===(E=dl.stocks)||void 0===E?void 0:E.map(((l,e)=>{var i;return l?(0,$.jsxs)(u.Z,{bordered:!0,className:"mt-4",children:[(0,$.jsx)(u.Z.Item,{label:V("price"),span:2,children:l.price}),(0,$.jsx)(u.Z.Item,{label:V("quantity"),span:2,children:l.quantity}),null===l||void 0===l||null===(i=l.ids)||void 0===i?void 0:i.map(((l,e)=>(0,$.jsx)(u.Z.Item,{label:null===dl||void 0===dl?void 0:dl.extras[e].label,children:null===l||void 0===l?void 0:l.label},"extra"+e)))]},"desc"+e):""})),(0,$.jsxs)(u.Z,{bordered:!0,className:"mt-4",title:V("original.info"),children:[(0,$.jsx)(u.Z.Item,{label:`${V("title")} (${H})`,span:3,column:3,children:null===ol||void 0===ol||null===(P=ol.translation)||void 0===P?void 0:P.title}),(0,$.jsx)(u.Z.Item,{label:`${V("description")} (${H})`,span:3,column:3,children:null===ol||void 0===ol||null===(A=ol.translation)||void 0===A?void 0:A.description}),(0,$.jsx)(u.Z.Item,{label:V("shop"),span:1.5,column:1.5,children:null===ol||void 0===ol||null===(F=ol.shop)||void 0===F?void 0:F.translation.title}),(0,$.jsx)(u.Z.Item,{label:V("category"),span:1.5,column:1.5,children:null===ol||void 0===ol||null===(L=ol.category)||void 0===L?void 0:L.translation.title}),(0,$.jsx)(u.Z.Item,{label:V("brand"),span:1.5,column:1.5,children:null===ol||void 0===ol||null===(O=ol.brand)||void 0===O?void 0:O.title}),(0,$.jsx)(u.Z.Item,{label:V("unit"),span:1.5,column:1.5,children:null===ol||void 0===ol||null===(U=ol.unit)||void 0===U?void 0:U.translation.title}),(0,$.jsx)(u.Z.Item,{label:V("images"),span:3,column:3,children:(0,$.jsx)(v.Z,{gutter:12,children:null===ol||void 0===ol||null===(T=ol.galleries)||void 0===T?void 0:T.map(((l,e)=>(0,$.jsx)(m.Z,{children:(0,$.jsx)("img",{width:80,alt:"product",src:b.bV+l.path})},"image"+e)))})}),(0,$.jsx)(u.Z.Item,{span:3,column:3,label:V("tax"),children:null===ol||void 0===ol?void 0:ol.tax}),(0,$.jsx)(u.Z.Item,{span:3,column:3,label:V("min.quantity"),children:null===ol||void 0===ol?void 0:ol.min_qty}),(0,$.jsx)(u.Z.Item,{span:3,column:3,label:V("max.quantity"),children:null===ol||void 0===ol?void 0:ol.max_qty})]}),null===ol||void 0===ol||null===(z=ol.stocks)||void 0===z?void 0:z.map(((l,e)=>{var i;return l?(0,$.jsxs)(u.Z,{bordered:!0,className:"mt-4",children:[(0,$.jsx)(u.Z.Item,{label:V("price"),span:2,column:2,children:null===l||void 0===l?void 0:l.price}),(0,$.jsx)(u.Z.Item,{label:V("quantity"),span:2,column:2,children:null===l||void 0===l?void 0:l.quantity}),null===l||void 0===l||null===(i=l.extras)||void 0===i?void 0:i.map(((l,e)=>{var i,n;return(0,$.jsx)(u.Z.Item,{label:null===l||void 0===l||null===(i=l.group)||void 0===i||null===(n=i.translation)||void 0===n?void 0:n.title,span:2,column:2,children:null===l||void 0===l?void 0:l.value},"extra"+e)}))]},"desc"+e):""})),el&&(0,$.jsx)(h.Z,{className:"mt-4",message:V("status.note"),description:el,type:"error"}),(0,$.jsx)("div",{className:"d-flex justify-content-end mt-4",children:(0,$.jsxs)(x.Z,{children:[(0,$.jsx)(p.Z,{type:"primary",onClick:()=>{al({status:"approved"})},children:V("accept")}),(0,$.jsx)(p.Z,{type:"primary",danger:!0,onClick:()=>{tl(!0)},children:V("decline")})]})})]}),(0,$.jsx)(q,{data:{title:"decline"},visible:nl,handleCancel:()=>tl(!1),handleOk:al,laoding:Q})]})}}}]);