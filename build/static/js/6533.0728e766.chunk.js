"use strict";(self.webpackChunkjumlajumla_dashboard=self.webpackChunkjumlajumla_dashboard||[]).push([[6533],{76533:(a,e,t)=>{t.r(e),t.d(e,{default:()=>f});var l=t(9950),d=t(23263),s=t(48538),n=t(91854),o=t(70030),u=t(72540),i=t(9313),p=t(88349),r=t(82371);const c={upload:a=>r.A.post("dashboard/admin/project-upload",a),update:a=>r.A.post("dashboard/admin/project-update",a)};var m=t(74623),h=t(12449),j=t(44414);function f(){const[a,e]=(0,l.useState)(!1),t=(0,n.wA)(),{t:r}=(0,o.B)(),{activeMenu:f}=(0,n.d4)((a=>a.menu),n.bN),b=a=>({uid:a.title,name:a.title,status:"done",url:a.title,created:!0});return(0,j.jsx)(d.A,{title:r("update"),extra:(0,j.jsx)(s.A,{type:"primary",icon:(0,j.jsx)(i.A,{}),loading:a,onClick:()=>{e(!0),c.update().then((()=>h.oR.success(r("successfully.updated")))).finally((()=>e(!1)))},children:r("update.database")}),children:(0,j.jsxs)(u.A,{name:"file",multiple:!1,maxCount:1,customRequest:a=>{let{file:e,onSuccess:l}=a;const d=new FormData;d.append("file",e),c.upload(d).then((a=>{let{data:e}=a;t((0,m.Ok)({activeMenu:f,data:b(e)})),l("ok")}))},defaultFileList:null!==f&&void 0!==f&&f.data?[null===f||void 0===f?void 0:f.data]:null,beforeUpload:a=>{const e="image/png"===a.type,t="image/jpg"===a.type,l="image/jpeg"===a.type;if(e||l||t)return h.oR.error(`${a.name} is not valid file`),!1},children:[(0,j.jsx)("p",{className:"ant-upload-drag-icon",children:(0,j.jsx)(p.A,{})}),(0,j.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,j.jsx)("p",{className:"ant-upload-hint",children:"In order to update database using this file you need to click button above"})]})})}}}]);