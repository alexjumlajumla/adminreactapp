"use strict";(self.webpackChunkjumlajumla_dashboard=self.webpackChunkjumlajumla_dashboard||[]).push([[1228],{35047:(l,d,i)=>{i.r(d),i.d(d,{default:()=>Al});var o=i(3969),e=i(87094),n=i(41988),v=i(23263),t=i(48538),a=i(9950),u=i(92270),s=i(23758),r=i(91854),c=i(51242),h=i(13564),p=i(74623),x=i(88986),y=i(80415),m=i(70030),j=i(41397);const g=l=>{if(l)return(0,j.isArray)(l)?l.map((l=>({label:`${(null===l||void 0===l?void 0:l.firstname)||""} ${(null===l||void 0===l?void 0:l.lastname)||""}`,value:null===l||void 0===l?void 0:l.id,id:null===l||void 0===l?void 0:l.id}))):{label:`${(null===l||void 0===l?void 0:l.firstname)||""} ${(null===l||void 0===l?void 0:l.lastname)||""}`,value:null===l||void 0===l?void 0:l.id,key:null===l||void 0===l?void 0:l.id}};var A=i(59051),f=i.n(A),_=i(21215),b=i.n(_),k=i(37295),q=i(90650),N=i(40895),w=i(92979),S=i(65820),C=i(1201),$=i(31526),z=i(8750),M=i(29949),I=i(32645),T=i(20978),P=i(91524),F=i(80737),B=i(47933),D=i(22576),O=i(53774),Y=i(50630),H=i(21055),E=i(91348),V=i(44414);const W=l=>{var d,i,o,u,s,h,p,x,y,j,g;let{uuid:A,type:f="add",onCancel:_}=l;const{t:b}=(0,m.B)(),k=(0,r.wA)(),[N,w]=(0,a.useState)(!1),[S,C]=(0,a.useState)({}),[$,M]=(0,a.useState)({}),[W,Z]=(0,a.useState)([]),[L,Q]=(0,a.useState)([]),[U,G]=(0,a.useState)([]),[K,R]=(0,a.useState)([]),[J,X]=(0,a.useState)([]),[ll,dl]=(0,a.useState)({extras:[],stock:{id:0,quantity:1,price:0}}),[il,ol]=(0,a.useState)(null!==(d=null===S||void 0===S?void 0:S.min_qty)&&void 0!==d?d:1),el=l=>{var d;const i=null===K||void 0===K?void 0:K.reduce(((l,d)=>{var i,o,e,n,v,t,a;return l+(null!==(i=null===d||void 0===d||null===(o=d.product)||void 0===o||null===(e=o.stock)||void 0===e?void 0:e.price)&&void 0!==i?i:0)*(null!==(n=null!==(v=null===d||void 0===d||null===(t=d.product)||void 0===t?void 0:t.quantity)&&void 0!==v?v:null===d||void 0===d||null===(a=d.product)||void 0===a?void 0:a.min_qty)&&void 0!==n?n:1)}),0);return(null!==i&&void 0!==i?i:0)+(null!==(d=null===ll||void 0===ll?void 0:ll.stock)&&void 0!==d?d:0)?null===ll||void 0===ll?void 0:ll.stock[l||"price"]:0};return(0,a.useEffect)((()=>(A&&(l=>{w(!0),B.A.getById(l).then((l=>{var d,i,o,e,n,v;C(null===l||void 0===l?void 0:l.data);const t=(0,D.w)(null===l||void 0===l?void 0:l.data);Z(null===t||void 0===t?void 0:t.extras),ol(null!==(d=null!==(i=null===l||void 0===l||null===(o=l.data)||void 0===o?void 0:o.min_qty)&&void 0!==i?i:null===l||void 0===l||null===(e=l.data)||void 0===e?void 0:e.quantity)&&void 0!==d?d:1),Q(null===t||void 0===t?void 0:t.stock),dl((0,D.A)(U,null===t||void 0===t?void 0:t.extras,null===t||void 0===t?void 0:t.stock)),null===(n=(0,D.A)("",null===t||void 0===t?void 0:t.extras,null===t||void 0===t?void 0:t.stock))||void 0===n||null===(v=n.extras)||void 0===v||v.forEach((l=>{G((d=>[...d,l[0]]))}))})).finally((()=>{w(!1)}))})(A),()=>{})),[A]),(0,a.useEffect)((()=>{var l;if(null!==ll&&void 0!==ll&&null!==(l=ll.stock)&&void 0!==l&&l.addons){var d,i;return(l=>{R(l)})(null===ll||void 0===ll||null===(d=ll.stock)||void 0===d||null===(i=d.addons)||void 0===i?void 0:i.filter((l=>null===J||void 0===J?void 0:J.includes(String(null===l||void 0===l?void 0:l.addon_id)))))}}),[J,null===S||void 0===S?void 0:S.uuid,null===ll||void 0===ll||null===(i=ll.stock)||void 0===i?void 0:i.addons]),(0,a.useEffect)((()=>{null!==ll&&void 0!==ll&&ll.stock&&M({...ll.stock,extras:U})}),[null===ll||void 0===ll?void 0:ll.stock,U]),(0,V.jsx)(I.A,{visible:!!A,title:(null===S||void 0===S||null===(o=S.translation)||void 0===o?void 0:o.title)||b("product"),onCancel:_,footer:[(0,V.jsx)(t.A,{type:"primary",disabled:N,onClick:()=>{const l={stock_id:null===$||void 0===$?void 0:$.id,quantity:il,addons:null!==K&&void 0!==K&&K.length?null===K||void 0===K?void 0:K.map((l=>{var d,i,o,e,n,v;return{stock_id:null===l||void 0===l||null===(d=l.product)||void 0===d||null===(i=d.stock)||void 0===i?void 0:i.id,quantity:null!==(o=null!==(e=null===l||void 0===l||null===(n=l.product)||void 0===n?void 0:n.quantity)&&void 0!==e?e:null===l||void 0===l||null===(v=l.product)||void 0===v?void 0:v.min_qty)&&void 0!==o?o:1}})):[]};(0,r.vA)((()=>{k((0,c.U$)(l))})),_()},children:b(f)},"addUpdateOrderProductModal"),(0,V.jsx)(t.A,{onClick:_,children:b("cancel")},"closeOrderProductModal")],children:(0,V.jsxs)(v.A,{children:[N&&(0,V.jsx)("div",{className:"loader",children:(0,V.jsx)(q.A,{})}),(0,V.jsxs)(e.A,{gutter:12,children:[(0,V.jsx)(n.A,{span:8,children:(0,V.jsx)(T.A,{src:(null===S||void 0===S?void 0:S.img)||"https://via.placeholder.com/150",alt:(null===S||void 0===S||null===(u=S.translation)||void 0===u?void 0:u.title)||b("N/A"),height:200,style:{objectFit:"contain"}})}),(0,V.jsx)(n.A,{span:16,children:(0,V.jsxs)(P.A,{title:(null===S||void 0===S||null===(s=S.translation)||void 0===s?void 0:s.title)||b("product"),children:[(0,V.jsxs)(P.A.Item,{label:b("price"),span:3,children:[(0,V.jsx)("div",{className:null!==$&&void 0!==$&&$.discount?"strike":"",children:(0,O.A)(el())}),!(null===$||void 0===$||!$.discount)&&(0,V.jsx)("div",{className:"ml-2 font-weight-bold",children:(0,O.A)(el("total_price"))})]}),(0,V.jsx)(P.A.Item,{label:b("in.stock"),span:3,children:(0,Y.A)(null!==(h=null===$||void 0===$?void 0:$.quantity)&&void 0!==h?h:1,null===S||void 0===S?void 0:S.unit)}),(0,V.jsx)(P.A.Item,{label:b("tax"),span:3,children:(0,O.A)(null===$||void 0===$?void 0:$.tax)})]})})]}),!(null===ll||void 0===ll||null===(p=ll.extras)||void 0===p||!p.length)&&(null===ll||void 0===ll||null===(x=ll.extras)||void 0===x?void 0:x.map(((l,d)=>(0,V.jsx)("div",{className:"extra-group",children:(0,V.jsx)(F.A,{className:"extras-select",wrap:!0,children:null===l||void 0===l?void 0:l.map((l=>(0,V.jsx)("span",{className:"extras-text rounded "+(null!==U&&void 0!==U&&U.find((d=>(null===d||void 0===d?void 0:d.id)===(null===l||void 0===l?void 0:l.id)))?"selected":""),onClick:()=>(l=>{var d,i,o,e,n;const v=U.findIndex((d=>(null===d||void 0===d?void 0:d.extra_group_id)===(null===l||void 0===l?void 0:l.extra_group_id)));let t=U;v>-1&&(t=null===(d=t)||void 0===d?void 0:d.slice(0,v)),null===(i=t)||void 0===i||i.push(l);const a=null===(o=t)||void 0===o||null===(e=o.map((l=>null===l||void 0===l?void 0:l.id)))||void 0===e?void 0:e.join(",");let u=(0,D.A)(a,W,L);dl(u),null===u||void 0===u||null===(n=u.extras)||void 0===n||n.forEach((d=>{var i;const o=U.findIndex((i=>{var o,e;return(null===(o=d[0])||void 0===o?void 0:o.extra_group_id)!==(null===l||void 0===l?void 0:l.extra_group_id)?(null===i||void 0===i?void 0:i.extra_group_id)===(null===(e=d[0])||void 0===e?void 0:e.extra_group_id):(null===i||void 0===i?void 0:i.extra_group_id)===(null===l||void 0===l?void 0:l.extra_group_id)}));if((null===(i=d[0])||void 0===i?void 0:i.level)>=(null===l||void 0===l?void 0:l.level)){var e;let i=(null===(e=d[0])||void 0===e?void 0:e.extra_group_id)!==(null===l||void 0===l?void 0:l.extra_group_id)?d[0]:l;-1===o?t.push(i):t[o]=i}})),G(t)})(l),style:{padding:"0 10px"},children:(null===l||void 0===l?void 0:l.value)||b("N/A")},null===l||void 0===l?void 0:l.id)))})},`extra-group_${d}`)))),(0,V.jsx)(H.A,{showExtras:ll,selectedValues:J,handleChange:l=>{const d=String(null===l||void 0===l?void 0:l.addon_id);null!==J&&void 0!==J&&J.includes(d)?X((l=>l.filter((l=>l!==d)))):X((l=>[...l,d]))},addonCalculate:(l,d)=>{dl((i=>{var o;return{...i,stock:{...null===i||void 0===i?void 0:i.stock,addons:null===i||void 0===i||null===(o=i.stock)||void 0===o?void 0:o.addons.map((i=>(null===i||void 0===i?void 0:i.addon_id)===l?{...i,product:{...null===i||void 0===i?void 0:i.product,quantity:d}}:i))}}})),R((i=>i.map((i=>(null===i||void 0===i?void 0:i.addon_id)===l?{...i,product:{...null===i||void 0===i?void 0:i.product,quantity:d}}:i))))}}),(0,V.jsx)(e.A,{gutter:12,className:"mt-5",children:(0,V.jsx)(n.A,{span:24,children:(0,V.jsxs)(F.A,{children:[(0,V.jsx)(t.A,{type:"primary",icon:(0,V.jsx)(E.A,{}),onClick:()=>{1!==il&&(il<=(null===S||void 0===S?void 0:S.min_qty)||ol((l=>l-1)))},disabled:il===(null===S||void 0===S?void 0:S.min_qty)}),(null!==il&&void 0!==il?il:1)*(null!==(y=null===S||void 0===S?void 0:S.interval)&&void 0!==y?y:1),null===S||void 0===S||null===(j=S.unit)||void 0===j||null===(g=j.translation)||void 0===g?void 0:g.title,(0,V.jsx)(t.A,{type:"primary",icon:(0,V.jsx)(z.A,{}),onClick:()=>{il>=(null===S||void 0===S?void 0:S.quantity)||il>=(null===S||void 0===S?void 0:S.max_qty)||ol((l=>l+1))},disabled:il===(null===S||void 0===S?void 0:S.quantity)||il===(null===S||void 0===S?void 0:S.max_qty)})]})})})]})})},Z=()=>{const{t:l}=(0,m.B)(),d=(0,S.s)(),{products:i,loading:o}=(0,r.d4)((l=>l.product),r.bN);return(0,V.jsxs)(V.Fragment,{children:[o&&(0,V.jsx)("div",{className:"loader",children:(0,V.jsx)(q.A,{})}),(0,V.jsx)("div",{className:"products-row order-items",children:null!==i&&void 0!==i&&i.length?null===i||void 0===i?void 0:i.map((i=>{var o,e,n;return(0,V.jsxs)(v.A,{className:"products-col",cover:(0,V.jsx)("img",{alt:(null===i||void 0===i||null===(o=i.translation)||void 0===o?void 0:o.title)||l("N/A"),src:(null===i||void 0===i?void 0:i.img)||"https://via.placeholder.com/150"}),onClick:()=>{var l;l=null===i||void 0===i?void 0:i.uuid,d.set("uuid",l)},children:[(0,V.jsx)($.A,{title:(null===i||void 0===i||null===(e=i.translation)||void 0===e?void 0:e.title)||l("N/A")}),(0,V.jsx)("div",{className:"preview",children:(0,V.jsx)(z.A,{})}),null===i||void 0===i||null===(n=i.stocks)||void 0===n?void 0:n.map((l=>{var d,i;return(0,V.jsxs)("span",{className:null!==l&&void 0!==l&&l.bonus?"show-bonus":"d-none",children:[(0,V.jsx)(M.ob7,{})," ",null===l||void 0===l||null===(d=l.bonus)||void 0===d?void 0:d.value,"+",null===l||void 0===l||null===(i=l.bonus)||void 0===i?void 0:i.bonus_quantity]})}))]},null===i||void 0===i?void 0:i.id)})):(0,V.jsx)(e.A,{style:{width:"100%"},children:(0,V.jsx)(n.A,{span:24,children:(0,V.jsx)(C.A,{})})})}),!!d.get("uuid")&&(0,V.jsx)(W,{uuid:d.get("uuid"),onCancel:()=>{d.reset("uuid")}})]})};var L=i(8297),Q=i(80905),U=i(37963),G=i(62572),K=i(66432);const R=()=>{const{t:l}=(0,m.B)(),d=(0,S.s)(),[i,o]=(0,a.useState)({shop:!1,brand:!1,category:!1}),e=(l,i)=>{d.set(l,i)};return(0,V.jsxs)(F.A,{wrap:!0,children:[(0,V.jsx)(L.A,{defaultValue:d.get("search"),handleChange:l=>{e("search",l)},placeholder:l("product.search"),style:{width:200}}),(0,V.jsx)(Q.j,{fetchOptions:l=>{let{page:d=1,search:i=""}=l;const e={search:null!==i&&void 0!==i&&i.length?i:void 0,perPage:20,page:d};return U.A.getAll(e).then((l=>{var d;return o((d=>{var i,o;return{...d,brand:!(null===l||void 0===l||null===(i=l.meta)||void 0===i||null===(o=i.links)||void 0===o||!o.next)}})),null===l||void 0===l||null===(d=l.data)||void 0===d?void 0:d.map((l=>(0,K.A)(l)))}))},hasMore:null===i||void 0===i?void 0:i.brand,placeholder:l("select.brand"),defaultValue:d.get("brand_id"),onChange:l=>{e("brand_id",null===l||void 0===l?void 0:l.value)},style:{width:200}}),(0,V.jsx)(Q.j,{fetchOptions:l=>{let{page:d=1,search:i=""}=l;const e={search:null!==i&&void 0!==i&&i.length?i:void 0,perPage:20,page:d,type:"main"};return G.A.search(e).then((l=>{var d;return o((d=>{var i,o;return{...d,category:!(null===l||void 0===l||null===(i=l.meta)||void 0===i||null===(o=i.links)||void 0===o||!o.next)}})),null===l||void 0===l||null===(d=l.data)||void 0===d?void 0:d.map((l=>(0,K.A)(l)))}))},hasMore:null===i||void 0===i?void 0:i.category,placeholder:l("select.category"),defaultValue:d.get("category_id"),onChange:l=>{e("category_id",null===l||void 0===l?void 0:l.value)},style:{width:200}})]})},J=l=>{var d;let{orderLoading:i}=l;const o=(0,r.wA)(),e=(0,S.s)(),{data:n}=(0,r.d4)((l=>l.order),r.bN),t={shop_id:(null===n||void 0===n||null===(d=n.shop)||void 0===d?void 0:d.id)||void 0,search:e.get("search")||void 0,brand_id:e.get("brand_id")||void 0,category_id:e.get("category_id")||void 0,perPage:20,page:1,active:1};return(0,a.useEffect)((()=>{var l;return null!==n&&void 0!==n&&null!==(l=n.shop)&&void 0!==l&&l.id&&o((0,w.zv)(t)),()=>{}}),[null===n||void 0===n?void 0:n.id,null===t||void 0===t?void 0:t.shop_id,null===t||void 0===t?void 0:t.search,null===t||void 0===t?void 0:t.brand_id,null===t||void 0===t?void 0:t.category_id]),(0,V.jsxs)(v.A,{className:"order-add",children:[i&&(0,V.jsx)("div",{className:"loader",children:(0,V.jsx)(q.A,{})}),(0,V.jsx)(R,{}),(0,V.jsx)(N.A,{}),(0,V.jsx)(Z,{})]})};var X=i(12916),ll=i(88810),dl=i(44070);const il=l=>{var d,i,o,e,v,u,s,r,c,h,p,y,j,g,A,f,_,b,q,N,w,S,C,$,M,I,T,P,B,D,Y,H,W,Z,L,Q,U,G;let{item:K,data:R,handleChangeProductQuantity:J,handleDeleteProduct:il}=l;const{t:ol}=(0,m.B)(),[el,nl]=(0,a.useState)(null!==(d=null===K||void 0===K?void 0:K.quantity)&&void 0!==d?d:0),vl=(0,k.A)(el,300),tl=(l,d)=>{if("increment"===l){var i,o;if((null===K||void 0===K||null===(i=K.stock)||void 0===i||null===(o=i.product)||void 0===o?void 0:o.max_qty)<d)return;nl((l=>l+1))}else if("decrement"===l){var e,n;if((null===K||void 0===K||null===(e=K.stock)||void 0===e||null===(n=e.product)||void 0===n?void 0:n.min_qty)>d||0===d)return;nl((l=>l-1))}};return(0,x.A)((()=>(J({...K,quantity:vl}),()=>{})),[vl]),(0,x.A)((()=>{var l;null!==K&&void 0!==K&&K.quantity&&(null===K||void 0===K?void 0:K.quantity)!==el&&nl(null!==(l=null===K||void 0===K?void 0:K.quantity)&&void 0!==l?l:0)}),[null===K||void 0===K?void 0:K.quantity]),(0,V.jsx)(n.A,{span:24,style:{border:"1px solid var(--input-border)",borderRadius:"12px",padding:"10px 15px",columnGap:"20px"},children:(0,V.jsxs)(F.A,{size:20,children:[(0,V.jsx)(ll.A,{image:null===K||void 0===K||null===(i=K.stock)||void 0===i||null===(o=i.product)||void 0===o?void 0:o.img,id:null===K||void 0===K?void 0:K.stock_id}),(0,V.jsxs)(F.A,{direction:"vertical",size:15,children:[(0,V.jsx)("h3",{style:{margin:0},children:(null===K||void 0===K||null===(e=K.stock)||void 0===e||null===(v=e.product)||void 0===v||null===(u=v.translation)||void 0===u?void 0:u.title)||ol("N/A")}),!(null===K||void 0===K||!K.bonus)&&(0,V.jsx)(X.A,{color:"red",children:ol("bonus")}),!(null===K||void 0===K||null===(s=K.stock)||void 0===s||null===(r=s.stock_extras)||void 0===r||!r.length)&&(0,V.jsx)("div",{children:null===K||void 0===K||null===(c=K.stock)||void 0===c||null===(h=c.stock_extras)||void 0===h?void 0:h.map((l=>(0,V.jsx)(X.A,{children:(null===l||void 0===l?void 0:l.value)||ol("N/A")},null===l||void 0===l?void 0:l.id)))}),!(null===K||void 0===K||null===(p=K.addons)||void 0===p||!p.length)&&(0,V.jsx)("div",{children:null===K||void 0===K||null===(y=K.addons)||void 0===y?void 0:y.map((l=>{var d,i,o;return(0,V.jsx)(X.A,{children:`${(null===l||void 0===l||null===(d=l.product)||void 0===d||null===(i=d.translation)||void 0===i?void 0:i.title)||ol("N/A")} x ${null!==(o=null===l||void 0===l?void 0:l.quantity)&&void 0!==o?o:0}`},null===l||void 0===l?void 0:l.id)}))}),(0,V.jsxs)("div",{style:{display:"flex",columnGap:"10px",fontSize:"16px"},children:[!(null===K||void 0===K||!K.discount)&&(0,V.jsx)("span",{style:{textDecoration:"line-through",color:"orangered"},children:(0,O.A)(null===K||void 0===K?void 0:K.price,null===R||void 0===R||null===(j=R.currency)||void 0===j?void 0:j.symbol,null===R||void 0===R||null===(g=R.currency)||void 0===g?void 0:g.position)}),(0,V.jsx)("span",{children:(0,O.A)(null===K||void 0===K?void 0:K.total_price,null===R||void 0===R||null===(A=R.currency)||void 0===A?void 0:A.symbol,null===R||void 0===R||null===(f=R.currency)||void 0===f?void 0:f.position)})]}),(0,V.jsxs)(F.A,{children:[(0,V.jsx)(t.A,{icon:(0,V.jsx)(E.A,{}),onClick:()=>{tl("decrement",el-1)},disabled:(null===K||void 0===K||null===(_=K.stock)||void 0===_||null===(b=_.product)||void 0===b?void 0:b.min_qty)===el||!(null===K||void 0===K||!K.bonus)}),(0,V.jsxs)(F.A,{children:["before"===(null===K||void 0===K||null===(q=K.stock)||void 0===q||null===(N=q.product)||void 0===N||null===(w=N.unit)||void 0===w?void 0:w.position)&&(0,V.jsx)("span",{children:(null===K||void 0===K||null===(S=K.stock)||void 0===S||null===(C=S.product)||void 0===C||null===($=C.unit)||void 0===$||null===(M=$.translation)||void 0===M?void 0:M.title)||ol("N/A")}),(null!==el&&void 0!==el?el:0)*(null!==(I=null===K||void 0===K||null===(T=K.stock)||void 0===T||null===(P=T.product)||void 0===P?void 0:P.interval)&&void 0!==I?I:1),"after"===(null===K||void 0===K||null===(B=K.stock)||void 0===B||null===(D=B.product)||void 0===D||null===(Y=D.unit)||void 0===Y?void 0:Y.position)&&(0,V.jsx)("span",{children:(null===K||void 0===K||null===(H=K.stock)||void 0===H||null===(W=H.product)||void 0===W||null===(Z=W.unit)||void 0===Z||null===(L=Z.translation)||void 0===L?void 0:L.title)||ol("N/A")})]}),(0,V.jsx)(t.A,{icon:(0,V.jsx)(z.A,{}),onClick:()=>{tl("increment",el+1)},disabled:(null===K||void 0===K||null===(Q=K.stock)||void 0===Q||null===(U=Q.product)||void 0===U?void 0:U.max_qty)===el||(null===K||void 0===K||null===(G=K.stock)||void 0===G?void 0:G.quantity)<=el||!(null===K||void 0===K||!K.bonus)}),(0,V.jsx)(t.A,{icon:(0,V.jsx)(dl.A,{}),onClick:()=>il(K),disabled:!(null===K||void 0===K||!K.bonus)})]})]})]})})},ol=l=>{var d,i,o;return{stock_id:null===l||void 0===l||null===(d=l.stock)||void 0===d?void 0:d.id,quantity:null===l||void 0===l?void 0:l.quantity,addons:null!==l&&void 0!==l&&null!==(i=l.addons)&&void 0!==i&&i.length?null===l||void 0===l||null===(o=l.addons)||void 0===o?void 0:o.map((l=>({stock_id:null===l||void 0===l?void 0:l.id,quantity:null===l||void 0===l?void 0:l.quantity}))):[]}},el=l=>{let{orderLoading:d}=l;const i=(0,r.wA)(),{orderItems:o,data:t}=(0,r.d4)((l=>l.order),r.bN),a=l=>{const d=ol(l);i((0,c.U$)(d))},u=l=>{const d=ol(l);i((0,c.Mx)(d))};return null!==o&&void 0!==o&&o.length?(0,V.jsxs)(v.A,{children:[d&&(0,V.jsx)("div",{className:"loader",children:(0,V.jsx)(q.A,{})}),(0,V.jsx)(e.A,{gutter:12,style:{display:"flex",flexDirection:"column",rowGap:"20px"},children:null===o||void 0===o?void 0:o.map(((l,d)=>(0,V.jsx)(il,{item:l,data:t,handleChangeProductQuantity:a,handleDeleteProduct:u},`${null===l||void 0===l?void 0:l.id}_${d}`)))})]}):(0,V.jsxs)(v.A,{children:[d&&(0,V.jsx)("div",{className:"loader",children:(0,V.jsx)(q.A,{})}),(0,V.jsx)(e.A,{style:{width:"100%"},children:(0,V.jsx)(n.A,{span:24,children:(0,V.jsx)(C.A,{id:"nosell"})})})]})};var nl=i(99674),vl=i(87864),tl=i(53271),al=i(85842);const ul=l=>{let{form:d}=l;const{t:i}=(0,m.B)(),[e,v]=(0,a.useState)({user:!1,address:!1}),t=o.A.useWatch("deliveryDate",d);return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(n.A,{span:24,children:(0,V.jsx)(o.A.Item,{name:"user",label:i("user"),rules:[{required:!0,message:i("required")}],children:(0,V.jsx)(Q.j,{hasMore:null===e||void 0===e?void 0:e.user,fetchOptions:async l=>{let{page:d=1,search:i=""}=l;const o={search:null!==i&&void 0!==i&&i.length?i:void 0,perPage:20,page:d};return await tl.A.search(o).then((l=>(v((d=>{var i;return{...d,user:!(null===l||void 0===l||null===(i=l.links)||void 0===i||!i.next)}})),g(null===l||void 0===l?void 0:l.data))))},placeholder:i("select.user"),allowClear:!1})})}),(0,V.jsx)(n.A,{span:24,children:(0,V.jsx)(o.A.Item,{name:"address",label:i("address"),rules:[{required:!0,message:i("required")}],children:(0,V.jsx)(Q.j,{hasMore:null===e||void 0===e?void 0:e.address,fetchOptions:async l=>{let{page:d=1,search:i=""}=l;const o={search:null!==i&&void 0!==i&&i.length?i:void 0,perPage:20,page:d};return await al.A.getAll(o).then((l=>{var d;return v((d=>{var i;return{...d,address:!(null===l||void 0===l||null===(i=l.links)||void 0===i||!i.next)}})),null===l||void 0===l||null===(d=l.data)||void 0===d?void 0:d.map((l=>{var d,i,o,e,n,v,t,a,u;return{label:(null===l||void 0===l||null===(d=l.address)||void 0===d?void 0:d.address)||(null===l||void 0===l?void 0:l.title),value:`${(null===l||void 0===l||null===(i=l.address)||void 0===i?void 0:i.address)||(null===l||void 0===l?void 0:l.title)}_${(null===l||void 0===l||null===(o=l.location)||void 0===o?void 0:o.latitude)||(null===l||void 0===l||null===(e=l.location)||void 0===e?void 0:e[0])}_${(null===l||void 0===l||null===(n=l.location)||void 0===n?void 0:n.longitude)||(null===l||void 0===l||null===(v=l.location)||void 0===v?void 0:v[1])}`,key:`${(null===l||void 0===l||null===(t=l.address)||void 0===t?void 0:t.address)||(null===l||void 0===l?void 0:l.title)}_${null===l||void 0===l||null===(a=l.location)||void 0===a?void 0:a.latitude}_${null===l||void 0===l||null===(u=l.location)||void 0===u?void 0:u.longitude}`}}))}))},placeholder:i("select.address"),allowClear:!1})})}),(0,V.jsx)(n.A,{span:12,children:(0,V.jsx)(o.A.Item,{name:"deliveryDate",label:i("delivery.date"),rules:[{required:!0,message:i("required")}],children:(0,V.jsx)(vl.A,{placeholder:i("select.delivery.date"),format:"YYYY-MM-DD",className:"w-100",showToday:!1,disabledDate:l=>l&&l<f()().startOf("day")})})}),(0,V.jsx)(n.A,{span:12,children:(0,V.jsx)(o.A.Item,{name:"deliveryTime",label:i("delivery.time"),rules:[{required:!0,message:i("required")}],children:(0,V.jsx)(vl.A,{placeholder:i("select.delivery.time"),format:"HH:mm",className:"w-100",showNow:!1,picker:"time",disabled:!t})})})]})};var sl=i(39236),rl=i(22276);const cl=l=>{let{form:d}=l;const{t:i}=(0,m.B)(),{data:e}=(0,r.d4)((l=>l.order),r.bN),[v,t]=(0,a.useState)({deliveryZone:!1,table:!1}),u=o.A.useWatch("deliveryZone",d);return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(n.A,{span:12,children:(0,V.jsx)(o.A.Item,{name:"deliveryZone",label:i("delivery.zone"),rules:[{required:!0,message:i("required")}],children:(0,V.jsx)(Q.j,{hasMore:null===v||void 0===v?void 0:v.deliveryZone,fetchOptions:async l=>{var d;let{search:i,page:o=1}=l;const n={search:null!==i&&void 0!==i&&i.length?i:void 0,shop_id:null===e||void 0===e||null===(d=e.shop)||void 0===d?void 0:d.id,perPage:20,page:o};return await sl.A.getAll(n).then((l=>{var d;return t((d=>{var i;return{...d,deliveryZone:!(null===l||void 0===l||null===(i=l.links)||void 0===i||!i.next)}})),null===l||void 0===l||null===(d=l.data)||void 0===d?void 0:d.map((l=>(0,K.A)(l)))}))},placeholder:i("select.delivery.zone"),allowClear:!1,onChange:()=>{d.setFieldsValue({table:void 0})}})})}),(0,V.jsx)(n.A,{span:12,children:(0,V.jsx)(o.A.Item,{name:"table",label:i("table"),rules:[{required:!0,message:i("required")}],children:(0,V.jsx)(Q.j,{hasMore:null===v||void 0===v?void 0:v.table,fetchOptions:async l=>{var d;let{search:o,page:n=1}=l;const v={search:null!==o&&void 0!==o&&o.length?o:void 0,shop_section_id:(null===u||void 0===u?void 0:u.value)||void 0,shop_id:null===e||void 0===e||null===(d=e.shop)||void 0===d?void 0:d.id,perPage:20,page:n};return await rl.A.getAll(v).then((l=>{var d;return t((d=>{var i;return{...d,table:!(null===l||void 0===l||null===(i=l.links)||void 0===i||!i.next)}})),null===l||void 0===l||null===(d=l.data)||void 0===d?void 0:d.map((l=>({label:(null===l||void 0===l?void 0:l.name)||i("N/A"),value:null===l||void 0===l?void 0:l.id,key:null===l||void 0===l?void 0:l.id})))}))},placeholder:i("select.table"),allowClear:!1,refetchOnFocus:!0,disabled:!u})})})]})},hl=(l,d)=>{switch(l){case"delivery":return(0,V.jsx)(ul,{form:d});case"dine_in":return(0,V.jsx)(cl,{form:d});default:return null}},pl=l=>{let{form:d}=l;const{t:i}=(0,m.B)(),{data:t}=(0,r.d4)((l=>l.order),r.bN),u=(0,a.useMemo)((()=>y.fz.map(((l,d)=>({label:i(l),value:l,key:d})))),[null===t||void 0===t?void 0:t.id]),s=o.A.useWatch("deliveryType",d),c=o.A.useWatch("paymentType",d);return(0,x.A)((()=>("dine_in"===(null===s||void 0===s?void 0:s.value)&&"wallet"===(null===c||void 0===c?void 0:c.value)&&d.setFieldsValue({paymentType:null}),()=>{})),[null===s||void 0===s?void 0:s.value,null===c||void 0===c?void 0:c.value]),(0,V.jsx)(v.A,{children:(0,V.jsxs)(e.A,{gutter:12,children:[(0,V.jsx)(n.A,{span:24,children:(0,V.jsx)(o.A.Item,{name:"deliveryType",label:i("delivery.type"),rules:[{required:!0,message:i("required")}],children:(0,V.jsx)(nl.A,{labelInValue:!0,options:u,placeholder:i("select.delivery.type")})})}),hl(null===s||void 0===s?void 0:s.value,d)]})})};var xl=i(17491);const yl=l=>{let{form:d}=l;const{t:i}=(0,m.B)(),[t,u]=(0,a.useState)({paymentType:!1}),s=o.A.useWatch("deliveryType",d);return(0,V.jsx)(v.A,{children:(0,V.jsxs)(e.A,{gutter:12,children:[(0,V.jsx)(n.A,{span:12,children:(0,V.jsx)(o.A.Item,{name:"currency",label:i("currency"),rules:[{required:!0,message:i("required")}],children:(0,V.jsx)(nl.A,{placeholder:i("select.currency"),labelInValue:!0,disabled:!0})})}),(0,V.jsx)(n.A,{span:12,children:(0,V.jsx)(o.A.Item,{name:"paymentType",label:i("payment.type"),rules:[{required:!0,message:i("required")}],children:(0,V.jsx)(Q.j,{placeholder:i("select.payment.type"),hasMore:null===t||void 0===t?void 0:t.paymentType,fetchOptions:async l=>{let{page:d=1,search:o=""}=l;const e={search:null!==o&&void 0!==o&&o.length?o:void 0,perPage:20,page:d};return await xl.A.getAll(e).then((l=>(u((d=>{var i;return{...d,paymentType:!(null===l||void 0===l||null===(i=l.links)||void 0===i||!i.next)}})),null===l||void 0===l?void 0:l.data.filter((l=>"dine_in"===(null===s||void 0===s?void 0:s.value)?"cash"===l.tag:"cash"===l.tag||"wallet"===l.tag)).map((l=>({label:i(l.tag)||i("N/A"),value:null===l||void 0===l?void 0:l.tag,key:null===l||void 0===l?void 0:l.id}))))))},refetchOnFocus:!0,allowClear:!1})})})]})})},ml=l=>{let{orderLoading:d,form:i}=l;return d?(0,V.jsx)(v.A,{loading:d}):(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(pl,{form:i}),(0,V.jsx)(yl,{form:i})]})},jl=l=>{let{loading:d}=l;const{t:i}=(0,m.B)(),{data:o,totalPrices:t}=(0,r.d4)((l=>l.order),r.bN),u=(0,a.useCallback)((function(){var l,d;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(0,O.A)(i,null===o||void 0===o||null===(l=o.currency)||void 0===l?void 0:l.symbol,null===o||void 0===o||null===(d=o.currency)||void 0===d?void 0:d.position)}),[null===o||void 0===o?void 0:o.id]);return(0,V.jsxs)(v.A,{children:[d&&(0,V.jsx)("div",{className:"loader",children:(0,V.jsx)(q.A,{})}),(0,V.jsx)(e.A,{gutter:12,children:(0,V.jsxs)(n.A,{span:24,children:[(0,V.jsxs)("div",{className:"flex",children:[(0,V.jsx)("h4",{style:{fontSize:"16px"},children:i("sub.total")}),(0,V.jsx)("h4",{style:{fontSize:"16px"},children:u(null===t||void 0===t?void 0:t.price)})]}),(0,V.jsxs)("div",{className:"flex",children:[(0,V.jsx)("h4",{style:{fontSize:"16px"},children:i("shop.tax")}),(0,V.jsx)("h4",{style:{fontSize:"16px"},children:u(null===t||void 0===t?void 0:t.total_shop_tax)})]}),(0,V.jsxs)("div",{className:"flex",children:[(0,V.jsx)("h4",{style:{fontSize:"16px"},children:i("delivery.fee")}),(0,V.jsx)("h4",{style:{fontSize:"16px"},children:u(null===t||void 0===t?void 0:t.delivery_fee)})]}),(0,V.jsxs)("div",{className:"flex",children:[(0,V.jsx)("h4",{style:{fontSize:"16px"},children:i("service.fee")}),(0,V.jsx)("h4",{style:{fontSize:"16px"},children:u(null===t||void 0===t?void 0:t.service_fee)})]}),(0,V.jsxs)("div",{className:"flex",children:[(0,V.jsx)("h4",{style:{fontSize:"16px"},children:i("discount")}),(0,V.jsx)("h4",{style:{fontSize:"16px",color:"orangered"},children:`- ${u(null===t||void 0===t?void 0:t.total_discount)}`})]}),(0,V.jsxs)("div",{className:"flex",children:[(0,V.jsx)("h4",{style:{fontSize:"16px"},children:i("coupon")}),(0,V.jsx)("h4",{style:{fontSize:"16px",color:"orangered"},children:`- ${u(null===t||void 0===t?void 0:t.coupon_price)}`})]}),(0,V.jsx)(N.A,{}),(0,V.jsxs)("div",{className:"flex",children:[(0,V.jsx)("h3",{style:{fontSize:"18px"},children:i("total.price")}),(0,V.jsx)("h3",{style:{fontSize:"18px"},children:u(null===t||void 0===t?void 0:t.total_price)})]})]})})]})};var gl=i(64498);const Al=()=>{var l,d;const i=(0,r.wA)(),j=(0,h.Zp)(),[A]=o.A.useForm(),{t:_}=(0,m.B)(),{id:q}=(0,h.g)(),{activeMenu:N}=(0,r.d4)((l=>l.menu),r.bN),{calculateProductsBody:w,data:S}=(0,r.d4)((l=>l.order),r.bN),[C,$]=(0,a.useState)(!1),[z,M]=(0,a.useState)(!1),[I,T]=(0,a.useState)(!1),[P,F]=(0,a.useState)(null),B=(0,a.useMemo)((()=>y.fz.map(((l,d)=>({label:_(l),value:l,key:d})))),[q]),D=(0,k.A)(w,300),O=o.A.useWatch("deliveryType",A),Y=o.A.useWatch("address",A),H=null===(l=o.A.useWatch("address",A))||void 0===l||null===(d=l.value)||void 0===d?void 0:d.split("_");(0,a.useEffect)((()=>(W(),()=>{})),[q]),(0,x.A)((()=>(N.refetch&&W(),()=>{})),[N.refetch]),(0,x.A)((()=>(null!==S&&void 0!==S&&S.id&&!P&&E(),()=>{})),[null===S||void 0===S?void 0:S.id,D,null===Y||void 0===Y?void 0:Y.value]);const E=async function(){const l=(()=>{var l,d,i,o,e;const n={products:null===w||void 0===w||null===(l=w.filter((l=>!(null!==l&&void 0!==l&&l.bonus))))||void 0===l?void 0:l.map((l=>{var d;return{...l,addons:null!==l&&void 0!==l&&null!==(d=l.addons)&&void 0!==d&&d.length?null===l||void 0===l?void 0:l.addons:void 0}})),currency_id:null===S||void 0===S||null===(d=S.currency)||void 0===d?void 0:d.id,coupon:(null===S||void 0===S||null===(i=S.coupon)||void 0===i?void 0:i.name)||void 0,shop_id:null===S||void 0===S||null===(o=S.shop)||void 0===o?void 0:o.id,type:(null===O||void 0===O?void 0:O.value)||(null===S||void 0===S?void 0:S.delivery_type),tips:null!==(e=null===S||void 0===S?void 0:S.tips)&&void 0!==e?e:void 0,address:null!==H&&void 0!==H&&H.length?{latitude:null===H||void 0===H?void 0:H[(null===H||void 0===H?void 0:H.length)-2],longitude:null===H||void 0===H?void 0:H[(null===H||void 0===H?void 0:H.length)-1]}:null!==S&&void 0!==S&&S.location?null===S||void 0===S?void 0:S.location:void 0};return b().stringify(n,{addQueryPrefix:!0})})();T(!0),await s.A.calculate(l).then((l=>{var d,o,e;i((0,c.pe)({...null===l||void 0===l||null===(d=l.data)||void 0===d?void 0:d.data,stocks:void 0,shop:void 0})),i((0,c.F1)(null===l||void 0===l||null===(o=l.data)||void 0===o||null===(e=o.data)||void 0===e?void 0:e.stocks))})).finally((()=>{T(!1)}))},W=()=>{(async l=>{$(!0),await s.A.getById(l).then((l=>{var d,o,e,n,v,t,a,u,s,h,p,x,y,m,j,b,k,q,N,w,S,C,$,z,M,I,T,P,F,D,O,Y,H,E,V,W,Z,L,Q,U,G,K,R,J,X,ll,dl,il,ol,el,nl,vl,tl,al,ul;const sl={deliveryType:B.find((d=>{var i;return d.value===(null===l||void 0===l||null===(i=l.data)||void 0===i?void 0:i.delivery_type)})),currency:{label:`${null===l||void 0===l||null===(d=l.data)||void 0===d||null===(o=d.currency)||void 0===o?void 0:o.title} ${null===l||void 0===l||null===(e=l.data)||void 0===e||null===(n=e.currency)||void 0===n?void 0:n.symbol}`,value:null===l||void 0===l||null===(v=l.data)||void 0===v||null===(t=v.currency)||void 0===t?void 0:t.id,key:null===l||void 0===l||null===(a=l.data)||void 0===a||null===(u=a.currency)||void 0===u?void 0:u.id},paymentType:null!==l&&void 0!==l&&null!==(s=l.data)&&void 0!==s&&null!==(h=s.transaction)&&void 0!==h&&h.payment_system?{label:_(null===l||void 0===l||null===(p=l.data)||void 0===p||null===(x=p.transaction)||void 0===x||null===(y=x.payment_system)||void 0===y?void 0:y.tag)||_("N/A"),value:null===l||void 0===l||null===(m=l.data)||void 0===m||null===(j=m.transaction)||void 0===j||null===(b=j.payment_system)||void 0===b?void 0:b.tag,key:null===l||void 0===l||null===(k=l.data)||void 0===k||null===(q=k.transaction)||void 0===q||null===(N=q.payment_system)||void 0===N?void 0:N.id}:void 0,user:g(null===l||void 0===l||null===(w=l.data)||void 0===w?void 0:w.user),address:null!==l&&void 0!==l&&null!==(S=l.data)&&void 0!==S&&S.address?{label:null===l||void 0===l||null===(C=l.data)||void 0===C||null===($=C.address)||void 0===$?void 0:$.address,value:`${null===l||void 0===l||null===(z=l.data)||void 0===z||null===(M=z.address)||void 0===M?void 0:M.address}_${null===l||void 0===l||null===(I=l.data)||void 0===I||null===(T=I.location)||void 0===T?void 0:T.latitude}_${null===l||void 0===l||null===(P=l.data)||void 0===P||null===(F=P.location)||void 0===F?void 0:F.longitude}`,key:`${null===l||void 0===l||null===(D=l.data)||void 0===D||null===(O=D.address)||void 0===O?void 0:O.address}_${null===l||void 0===l||null===(Y=l.data)||void 0===Y||null===(H=Y.location)||void 0===H?void 0:H.latitude}_${null===l||void 0===l||null===(E=l.data)||void 0===E||null===(V=E.location)||void 0===V?void 0:V.longitude}`}:null,deliveryDate:null!==l&&void 0!==l&&null!==(W=l.data)&&void 0!==W&&W.delivery_date?f()(null===l||void 0===l||null===(Z=l.data)||void 0===Z?void 0:Z.delivery_date,"YYYY-MM-DD"):null,deliveryTime:null!==l&&void 0!==l&&null!==(L=l.data)&&void 0!==L&&L.delivery_time?f()(null===l||void 0===l||null===(Q=l.data)||void 0===Q?void 0:Q.delivery_time,"HH:mm"):null,table:{label:(null===l||void 0===l||null===(U=l.data)||void 0===U||null===(G=U.table)||void 0===G?void 0:G.name)||_("N/A"),value:null===l||void 0===l||null===(K=l.data)||void 0===K||null===(R=K.table)||void 0===R?void 0:R.id,key:null===l||void 0===l||null===(J=l.data)||void 0===J||null===(X=J.table)||void 0===X?void 0:X.id},deliveryZone:{label:(null===l||void 0===l||null===(ll=l.data)||void 0===ll||null===(dl=ll.table)||void 0===dl||null===(il=dl.shop_section)||void 0===il||null===(ol=il.translation)||void 0===ol?void 0:ol.title)||_("N/A"),value:null===l||void 0===l||null===(el=l.data)||void 0===el||null===(nl=el.table)||void 0===nl||null===(vl=nl.shop_section)||void 0===vl?void 0:vl.id,key:null===l||void 0===l||null===(tl=l.data)||void 0===tl||null===(al=tl.table)||void 0===al||null===(ul=al.shop_section)||void 0===ul?void 0:ul.id}};A.setFieldsValue(sl),(0,r.vA)((()=>{var d,o;i((0,c.B_)(null===l||void 0===l?void 0:l.data)),i((0,c.Hl)(null===l||void 0===l||null===(d=l.data)||void 0===d||null===(o=d.details)||void 0===o?void 0:o.map((l=>{var d,i,o,e;return{stock_id:null===l||void 0===l||null===(d=l.stock)||void 0===d?void 0:d.id,quantity:null!==(i=null===l||void 0===l?void 0:l.quantity)&&void 0!==i?i:0,bonus:(null===l||void 0===l?void 0:l.bonus)||void 0,addons:null!==l&&void 0!==l&&null!==(o=l.addons)&&void 0!==o&&o.length?null===l||void 0===l||null===(e=l.addons)||void 0===e?void 0:e.map((l=>{var d;return{stock_id:(null===l||void 0===l?void 0:l.stock_id)||(null===l||void 0===l?void 0:l.id),quantity:null!==(d=null===l||void 0===l?void 0:l.quantity)&&void 0!==d?d:0}})):[]}}))))}))})).finally((()=>{$(!1)}))})(q),i((0,p.km)(N))};return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(o.A,{form:A,name:"order-edit-form",layout:"vertical",onFinish:l=>{var d,o,e,n,v,t,a,r,h,p,x,y;const m=null===l||void 0===l||null===(d=l.address)||void 0===d||null===(o=d.value)||void 0===o?void 0:o.split("_"),j={shop_id:null===S||void 0===S||null===(e=S.shop)||void 0===e?void 0:e.id,coupon:(null===S||void 0===S||null===(n=S.coupon)||void 0===n?void 0:n.name)||void 0,currency_id:null===l||void 0===l||null===(v=l.currency)||void 0===v?void 0:v.value,payment_type:null===l||void 0===l||null===(t=l.paymentType)||void 0===t?void 0:t.value,delivery_type:null===l||void 0===l||null===(a=l.deliveryType)||void 0===a?void 0:a.value,products:null===w||void 0===w?void 0:w.map((l=>{var d;return{...l,addons:null!==l&&void 0!==l&&null!==(d=l.addons)&&void 0!==d&&d.length?null===l||void 0===l?void 0:l.addons:void 0}}))},g={user_id:null===l||void 0===l||null===(r=l.user)||void 0===r?void 0:r.value,address:{address:null===l||void 0===l||null===(h=l.address)||void 0===h?void 0:h.label,office:null,house:null,floor:null},location:{latitude:null===m||void 0===m?void 0:m[(null===m||void 0===m?void 0:m.length)-2],longitude:null===m||void 0===m?void 0:m[(null===m||void 0===m?void 0:m.length)-1]},delivery_date:null===l||void 0===l||null===(p=l.deliveryDate)||void 0===p?void 0:p.format("YYYY-MM-DD"),delivery_time:null===l||void 0===l||null===(x=l.deliveryTime)||void 0===x?void 0:x.format("HH:mm"),...j},A={table_id:(null===l||void 0===l||null===(y=l.table)||void 0===y?void 0:y.value)||void 0,...j},f="delivery"===(null===O||void 0===O?void 0:O.value)?g:A;M(!0),s.A.update(q,f).then((d=>{var o;u.A.create(d.data.id,{payment_sys_id:null===l||void 0===l||null===(o=l.paymentType)||void 0===o?void 0:o.key}).then((()=>{var l;i((0,c.B_)({})),i((0,c.F1)([])),i((0,c.Hl)([])),i((0,c.pe)({})),F(null===d||void 0===d||null===(l=d.data)||void 0===l?void 0:l.id)})).finally((()=>{M(!1)}))})).catch((()=>{M(!1)}))},children:(0,V.jsxs)(e.A,{gutter:24,children:[(0,V.jsxs)(n.A,{span:16,children:[(0,V.jsx)(J,{orderLoading:C}),(0,V.jsx)(el,{orderLoading:C||I})]}),(0,V.jsx)(n.A,{span:8,children:(0,V.jsxs)("div",{style:{position:"sticky",top:"16px",right:0},children:[(0,V.jsx)(ml,{form:A}),(0,V.jsx)(jl,{loading:C||I}),(0,V.jsx)(v.A,{children:(0,V.jsx)(e.A,{gutter:12,children:(0,V.jsx)(n.A,{span:24,children:(0,V.jsx)(t.A,{type:"primary",htmlType:"submit",style:{minWidth:"100%"},loading:z,disabled:I,children:_("update")})})})})]})})]})}),!!P&&(0,V.jsx)(gl.A,{orderId:P,handleClose:()=>{F(null);const l="orders-board";i((0,p.EK)({...N,nextUrl:l})),j(`/${l}`)}})]})}},65820:(l,d,i)=>{i.d(d,{s:()=>v});var o=i(13564),e=i(21215),n=i.n(e);const v=()=>{const l=(0,o.Zp)(),d=(0,o.zy)(),i=n().parse(d.search,{ignoreQueryPrefix:!0});return{values:i,set:(d,o)=>l({search:n().stringify({...i,[d]:o})}),reset:d=>{const o={...i};o[d]&&delete o[d],l({search:n().stringify({...o})})},clear:()=>l({search:n().stringify({})}),merge:d=>l({search:n().stringify({...i,...d})}),get:l=>i[l],setMultiple:d=>{const o={...i,...d};l({search:n().stringify(o)})},resetMultiple:d=>{const o={...i};d.forEach((l=>{o[l]&&delete o[l]})),l({search:n().stringify(o)})}}}},80415:(l,d,i)=>{i.d(d,{Av:()=>s,HF:()=>e,HV:()=>a,LH:()=>o,No:()=>t,Qt:()=>v,fz:()=>u,g$:()=>n});const o={new:[1,2,3,4,5],accepted:[1,2,3,4,5],ready:[1,2,3,4,5],on_a_way:[1,2,3,4,5],delivered:[1,2,3,4,5],canceled:[1,2,3,4,5],cooking:[1,2,3,4,5]},e=["progress","paid","canceled","rejected","refund"],n=["before","after"],v=["blue","red","gold","volcano","cyan","lime"],t=["new","accepted","cooking","ready","ended"],a=["new","accepted","cooking","ready","on_a_way","delivered","canceled"],u=["dine_in","delivery","pickup"],s=["male","female"]}}]);