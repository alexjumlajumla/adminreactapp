(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[3856],{33834:(i,l,o)=>{"use strict";o.d(l,{K:()=>e});var t=o(97890),n=o(74776),d=o.n(n);const e=()=>{const i=(0,t.s0)(),l=(0,t.TH)(),o=d().parse(l.search,{ignoreQueryPrefix:!0});return{values:o,set:(l,t)=>i({search:d().stringify({...o,[l]:t})}),reset:l=>{const t={...o};t[l]&&delete t[l],i({search:d().stringify({...t})})},clear:()=>i({search:d().stringify({})}),merge:l=>i({search:d().stringify({...o,...l})}),get:i=>o[i],setMultiple:l=>{const t={...o,...l};i({search:d().stringify(t)})},resetMultiple:l=>{const t={...o};l.forEach((i=>{t[i]&&delete t[i]})),i({search:d().stringify(t)})}}}},52509:(i,l,o)=>{"use strict";o.r(l),o.d(l,{default:()=>k});var t=o(47313),n=o(83999),d=o(77181),e=o(72652),v=o(73431),a=o(97890),u=o(17101),s=o(2717),r=o(90954),c=o(24511),p=o(33834),h=o(80314),g=o(8163),x=o(96077),f=o(17231),_=o(78873),j=o(47668),b=o(97307),m=o(46417);const{Step:y}=n.Z,k=()=>{var i;const{t:l}=(0,c.$)(),{uuid:o}=(0,a.UO)(),k=(0,p.K)(),Z=(0,s.I0)(),{activeMenu:S}=(0,s.v9)((i=>i.menu),s.wU),{languages:M}=(0,s.v9)((i=>i.formLang),s.wU),[w,E]=(0,t.useState)(S.refetch),F=Number((null===(i=k.values)||void 0===i?void 0:i.step)||0);(0,t.useEffect)((()=>{N(o)}),[]),(0,h.Z)((()=>{S.refetch&&N(o)}),[S.refetch]);const O=()=>{const i=F+1;k.set("step",i)},$=()=>{const i=F-1;k.set("step",i)},C=i=>{var l;return i?{label:null!==i&&void 0!==i&&i.translation?null===i||void 0===i||null===(l=i.translation)||void 0===l?void 0:l.title:null===i||void 0===i?void 0:i.title,value:null===i||void 0===i?void 0:i.id}:null},N=i=>{E(!0),u.Z.getById(i).then((i=>{var l,o,t,n,d,e,v,a,u,s,c;const p={};null===i||void 0===i||null===(l=i.data)||void 0===l||null===(o=l.stocks)||void 0===o||o.forEach((i=>{var l;null===i||void 0===i||null===(l=i.extras)||void 0===l||l.forEach((l=>{var o,t,n,d,e;(null===l||void 0===l?void 0:l.extra_group_id)in p?null!==p&&void 0!==p&&null!==(o=p[null===l||void 0===l?void 0:l.extra_group_id])&&void 0!==o&&null!==(t=o.values)&&void 0!==t&&t.some((i=>(null===i||void 0===i?void 0:i.value)===(null===l||void 0===l?void 0:l.id)))||null===p||void 0===p||null===(n=p[null===l||void 0===l?void 0:l.extra_group_id])||void 0===n||null===(d=n.values)||void 0===d||d.push({value:null===l||void 0===l?void 0:l.id,label:null===l||void 0===l?void 0:l.value,stock_id:null===i||void 0===i?void 0:i.id}):p[null===l||void 0===l?void 0:l.extra_group_id]={label:null===l||void 0===l||null===(e=l.group.translation)||void 0===e?void 0:e.title,value:null===l||void 0===l?void 0:l.extra_group_id,id:null===l||void 0===l?void 0:l.extra_group_id,stock_id:null===i||void 0===i?void 0:i.id,values:[{value:null===l||void 0===l?void 0:l.id,label:null===l||void 0===l?void 0:l.value,stock_id:null===i||void 0===i?void 0:i.id}]}}))}));const h={...i.data,...U(null===i||void 0===i?void 0:i.data),shop:C(null===i||void 0===i||null===(t=i.data)||void 0===t?void 0:t.shop),category:C(null===i||void 0===i||null===(n=i.data)||void 0===n?void 0:n.category),brand:C(null===i||void 0===i||null===(d=i.data)||void 0===d?void 0:d.brand),kitchen:C(null===i||void 0===i||null===(e=i.data)||void 0===e?void 0:e.kitchen),unit:C(null===i||void 0===i||null===(v=i.data)||void 0===v?void 0:v.unit),images:(g=null===i||void 0===i||null===(a=i.data)||void 0===a?void 0:a.galleries,g.map((i=>({uid:null===i||void 0===i?void 0:i.id,name:null===i||void 0===i?void 0:i.path,url:null===i||void 0===i?void 0:i.path})))),extras:Object.values(p),stocks:null===i||void 0===i||null===(u=i.data)||void 0===u||null===(s=u.stocks)||void 0===s?void 0:s.map((i=>{var l;return{...i,...Object.assign({},...null===i||void 0===i||null===(l=i.extras)||void 0===l?void 0:l.map(((i,l)=>({[`extras[${l}]`]:i.id})))),quantity:(null===i||void 0===i?void 0:i.quantity)||0,price:(null===i||void 0===i?void 0:i.price)||0,extras:void 0}})),properties:null===i||void 0===i||null===(c=i.data)||void 0===c?void 0:c.properties,translation:void 0,translations:void 0};var g;Z((0,r.nc)({activeMenu:S,data:h}))})).finally((()=>{E(!1),Z((0,r.A_)(S))}))},U=i=>{if(null===i||void 0===i||!i.translations)return{};const{translations:l}=i,o=null===M||void 0===M?void 0:M.map((i=>{var o,t;return{[`title[${null===i||void 0===i?void 0:i.locale}]`]:null===l||void 0===l||null===(o=l.find((l=>(null===l||void 0===l?void 0:l.locale)===(null===i||void 0===i?void 0:i.locale))))||void 0===o?void 0:o.title,[`description[${null===i||void 0===i?void 0:i.locale}]`]:null===l||void 0===l||null===(t=l.find((l=>(null===l||void 0===l?void 0:l.locale)===(null===i||void 0===i?void 0:i.locale))))||void 0===t?void 0:t.description}}));return Object.assign({},...o)};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(d.Z,{title:l("edit.product"),extra:(0,m.jsx)(v.Z,{}),children:(0,m.jsx)(n.Z,{current:F,onChange:i=>{Z((0,r.nc)({activeMenu:S,data:{...S.data,step:i}})),k.set("step",i)},children:x.S.map((i=>(0,m.jsx)(y,{title:l(i.title)},i.title)))})}),w?(0,m.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,m.jsx)(e.Z,{size:"large",className:"py-5"})}):(0,m.jsxs)("div",{children:["First-content"===x.S[F].content&&(0,m.jsx)(b.Z,{next:O,action_type:"edit"}),"Second-content"===x.S[F].content&&(0,m.jsx)(j.Z,{next:O,prev:$}),"Third-content"===x.S[F].content&&(0,m.jsx)(g.Z,{next:O,prev:$}),"Fourth-content"===x.S[F].content&&(0,m.jsx)(f.Z,{next:O,prev:$}),"Finish-content"===x.S[F].content&&(0,m.jsx)(_.Z,{prev:$})]})]})}},24654:()=>{}}]);