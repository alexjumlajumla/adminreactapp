"use strict";(self.webpackChunkjumlajumla_dashboard=self.webpackChunkjumlajumla_dashboard||[]).push([[3241],{3241:(e,s,t)=>{t.r(s),t.d(s,{default:()=>I});var l=t(9950),i=t(12678),n=t(44070),r=t(29633),d=t(80737),a=t(48538),o=t(23263),u=t(12203),c=t(12449),h=t(76083),x=t(55386),p=t(91854),v=t(74623),g=t(88986),m=t(8168),f=t(70030),j=t(12408),A=t(25966),k=t(18583),y=t(59051),w=t.n(y),C=t(13564),b=t(35116),_=t(28645),S=t(21777),Y=t(44414);function I(){const{t:e}=(0,f.B)(),s=(0,p.wA)(),t=(0,C.Zp)(),[y,I]=(0,l.useState)([{title:e("order.id"),dataIndex:"order",key:"order",render:l=>(0,Y.jsxs)("div",{className:"text-hover",onClick:()=>(l=>{s((0,v.X4)({id:"order_details",url:`order/details/${l}`,name:e("order.details")})),t(`/order/details/${l}`)})(l.id),children:["#",l.id]}),sorter:!0,is_show:!0},{title:e("user"),dataIndex:"user",key:"user",is_show:!0,render:l=>(0,Y.jsxs)("div",{className:"text-hover",onClick:()=>{return i=l,s((0,v.X4)({url:`/users/user/${i.uuid}`,id:"user_info",name:e("user.info")})),void t(`/users/user/${i.uuid}`,{state:{user_id:i.id}});var i},children:[null===l||void 0===l?void 0:l.firstname," ",(null===l||void 0===l?void 0:l.lastname)||""]})},{title:e("shop"),dataIndex:"shop",key:"shop",is_show:!0,render:l=>{var i;return(0,Y.jsx)("div",{className:"text-hover",onClick:()=>{return i=l,s((0,v.X4)({id:"edit-shop",url:`shop/${i.uuid}`,name:e("edit.shop")})),void t(`/shop/${i.uuid}`);var i},children:null===l||void 0===l||null===(i=l.translation)||void 0===i?void 0:i.title})}},{title:e("rating"),dataIndex:"rating",key:"rating",is_show:!0,render:e=>(0,Y.jsx)(r.A,{disabled:!0,defaultValue:e})},{title:e("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0,render:e=>w()(e).format("YYYY-MM-DD HH:mm")},{title:e("options"),key:"options",dataIndex:"options",is_show:!0,render:(e,s)=>(0,Y.jsxs)(d.A,{children:[(0,Y.jsx)(a.A,{type:"primary",icon:(0,Y.jsx)(i.A,{}),onClick:()=>T(s.id)}),(0,Y.jsx)(b.A,{icon:(0,Y.jsx)(n.A,{}),onClick:()=>{M([s.id]),N(!0),B(!0)}})]})}]),{setIsModalVisible:N}=(0,l.useContext)(x.o),[$,M]=(0,l.useState)(null),[R,T]=(0,l.useState)(null),[P,z]=(0,l.useState)(!1),[X,B]=(0,l.useState)(null),[D,H]=(0,l.useState)(null),{activeMenu:O}=(0,p.d4)((e=>e.menu),p.bN),{reviews:V,meta:E,loading:K,params:Z}=(0,p.d4)((e=>e.orderReview),p.bN);console.log("reviews => ",V);(0,l.useEffect)((()=>{O.refetch&&(s((0,A.gY)()),s((0,v.km)(O)))}),[O.refetch]),(0,g.A)((()=>{const e=O.data,t={sort:null===e||void 0===e?void 0:e.sort,column:null===e||void 0===e?void 0:e.column,perPage:null===e||void 0===e?void 0:e.perPage,page:null===e||void 0===e?void 0:e.page};s((0,A.gY)(t))}),[O.data]);const q={id:$,onChange:e=>{M(e)}};return(0,Y.jsxs)(o.A,{title:e("order.reviews"),extra:(0,Y.jsxs)(d.A,{wrap:!0,children:[(0,Y.jsx)(b.A,{size:"",onClick:()=>{null===$||0===$.length?c.oR.warning(e("select.the.product")):(N(!0),B(!1))},children:e("delete.selected")}),(0,Y.jsx)(_.A,{columns:y,setColumns:I})]}),children:[(0,Y.jsx)(u.A,{scroll:{x:!0},rowSelection:q,columns:null===y||void 0===y?void 0:y.filter((e=>e.is_show)),dataSource:V,pagination:{pageSize:Z.perPage,page:Z.page,total:E.total,defaultCurrent:Z.page},rowKey:e=>e.id,onChange:function(e,t,l){const{pageSize:i,current:n}=e,{field:r,order:d}=l,a=(0,m.A)(d);s((0,v.Ok)({activeMenu:O,data:{perPage:i,page:n,column:r,sort:a}}))},loading:K}),(0,Y.jsx)(h.A,{click:()=>{z(!0);const t={...Object.assign({},...$.map(((e,s)=>({[`ids[${s}]`]:e}))))};j.A.delete(t).then((()=>{c.oR.success(e("successfully.deleted")),s((0,A.gY)()),N(!1)})).finally((()=>z(!1)))},text:e(X?"delete":"all.delete"),setText:M,loading:P}),R&&(0,Y.jsx)(k.A,{id:R,handleCancel:()=>T(null)}),D&&(0,Y.jsx)(S.A,{open:D,handleCancel:()=>H(null),click:D.restore?()=>{z(!0),j.A.restoreAll().then((()=>{c.oR.success(e("successfully.restored")),s((0,A.gY)()),H(null)})).finally((()=>z(!1)))}:()=>{z(!0),j.A.dropAll().then((()=>{c.oR.success(e("successfully.deleted")),s((0,A.gY)()),H(null)})).finally((()=>z(!1)))},text:D.restore?e("restore.modal.text"):e("read.carefully"),subTitle:D.restore?"":e("confirm.deletion"),loading:P,setText:M})]})}},21777:(e,s,t)=>{t.d(s,{A:()=>a});t(9950);var l=t(32645),i=t(32312),n=t(48538),r=t(70030),d=t(44414);const a=e=>{let{open:s,handleCancel:t,text:a,click:o,loading:u,subTitle:c}=e;const{t:h}=(0,r.B)();return(0,d.jsxs)(l.A,{closable:!1,visible:s,footer:null,centered:!0,children:[(0,d.jsx)(i.Ay,{status:"warning",title:a,subTitle:c}),(0,d.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,d.jsx)(n.A,{type:"primary",className:"mr-2",onClick:o,loading:u,children:h("yes")}),(0,d.jsx)(n.A,{onClick:()=>t(),children:h("no")})]})]})}}}]);