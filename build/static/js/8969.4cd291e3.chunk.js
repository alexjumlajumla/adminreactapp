(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[8969],{89802:(e,l,t)=>{"use strict";t.d(l,{q:()=>d});var a=t(47313),i=t(74294),s=t(72652),n=t(46417);const d=e=>{let{fetchOptions:l,refetch:t=!1,...d}=e;const[o,r]=(0,a.useState)(!1),[u,c]=(0,a.useState)([]);return(0,n.jsx)(i.Z,{labelInValue:!0,filterOption:!1,notFoundContent:o?(0,n.jsx)(s.Z,{size:"small"}):"no results",...d,options:o?[]:u,onFocus:()=>{u.length&&!t||(r(!0),l().then((e=>{c(e),r(!1)})))}})}},33834:(e,l,t)=>{"use strict";t.d(l,{K:()=>n});var a=t(97890),i=t(74776),s=t.n(i);const n=()=>{const e=(0,a.s0)(),l=(0,a.TH)(),t=s().parse(l.search,{ignoreQueryPrefix:!0});return{values:t,set:(l,a)=>e({search:s().stringify({...t,[l]:a})}),reset:l=>{const a={...t};a[l]&&delete a[l],e({search:s().stringify({...a})})},clear:()=>e({search:s().stringify({})}),merge:l=>e({search:s().stringify({...t,...l})}),get:e=>t[e],setMultiple:l=>{const a={...t,...l};e({search:s().stringify(a)})},resetMultiple:l=>{const a={...t};l.forEach((e=>{a[e]&&delete a[e]})),e({search:s().stringify(a)})}}}},78507:(e,l,t)=>{"use strict";t.r(l),t.d(l,{default:()=>A});var a=t(47313),i=t(16848),s=t(83999),n=t(77181),d=t(72652),o=t(10976),r=t(45705),u=t(59491),c=t(9274),v=t(68197),p=t(59624),m=t(66672),h=t(78508),x=t(12019),y=t(47515),j=t(2717),Z=t(73431),k=t(46417);function g(e){let{editData:l,handleCancel:t,editProperty:i}=e;const[s]=o.Z.useForm(),{defaultLang:n,languages:d}=(0,j.v9)((e=>e.formLang),j.wU);return(0,a.useEffect)((()=>{s.setFieldsValue(l)}),[l]),(0,k.jsxs)(c.Z,{title:"Edit product property",visible:!!l,okText:"Save",onCancel:t,onOk:()=>s.submit(),children:[(0,k.jsx)(v.Z,{className:"mb-3",children:(0,k.jsx)(p.Z,{span:24,children:(0,k.jsx)(Z.Z,{})})}),(0,k.jsx)(o.Z,{form:s,layout:"vertical",onFinish:e=>{const t={...l,...e};i(t)},children:(0,k.jsxs)(v.Z,{className:"mt-4",children:[(0,k.jsx)(p.Z,{span:24,children:d.map((e=>(0,k.jsx)(o.Z.Item,{label:"Key",name:`key[${e.locale}]`,rules:[{required:e.locale===n,message:""}],hidden:e.locale!==n,children:(0,k.jsx)(m.Z,{})},"key"+e.locale)))}),(0,k.jsx)(p.Z,{span:24,children:d.map((e=>(0,k.jsx)(o.Z.Item,{label:"Value",name:`value[${e.locale}]`,rules:[{required:e.locale===n,message:""}],hidden:e.locale!==n,children:(0,k.jsx)(m.Z,{})},"value"+e.locale)))})]})})]})}var f=t(90954),b=t(18333),q=t(24511),_=t(97890),S=t(55940);const w=e=>{var l;let{next:t,prev:i,isRequest:s,mode:d}=e;const{t:Z}=(0,q.$)(),w=(0,j.I0)(),$=(0,_.TH)(),{uuid:F}=(0,_.UO)(),I=(0,_.s0)(),{activeMenu:C}=(0,j.v9)((e=>e.menu),j.wU),{defaultLang:N,languages:O}=(0,j.v9)((e=>e.formLang),j.wU),[V]=o.Z.useForm(),[E,M]=(0,a.useState)(null),[U,W]=(0,a.useState)((null===(l=C.data)||void 0===l?void 0:l.properties)||[]),[R,T]=(0,a.useState)(!1),z=[{key:"2",title:Z("key"),render:(e,l)=>l[`key[${N}]`]},{key:"4",title:Z("value"),render:(e,l)=>l[`value[${N}]`]},{key:"5",title:Z("options"),render:e=>(0,k.jsxs)(r.Z,{children:[(0,k.jsx)(u.Z,{type:"primary",icon:(0,k.jsx)(x.Z,{}),onClick:()=>M(e)}),(0,k.jsx)(S.Z,{type:"primary",danger:!0,icon:(0,k.jsx)(y.Z,{}),onClick:()=>L(e)})]})}];(0,a.useEffect)((()=>{if(U.length&&F){const e=U;w((0,f.nc)({activeMenu:C,data:{...C.data,properties:e}}))}}),[U]);const L=e=>{c.Z.confirm({title:Z("delete.product"),okText:Z("yes"),okType:"danger",onOk:()=>{W((l=>l.filter((l=>l.id!==e.id))))}})},A=()=>M(null);return(0,k.jsxs)(n.Z,{children:[(0,k.jsx)(o.Z,{layout:"vertical",form:V,onFinish:e=>{const l={...e,id:parseInt(50*Math.random())};W((e=>[...e,l])),V.resetFields()},children:(0,k.jsxs)(v.Z,{gutter:12,className:"mb-3",children:[(0,k.jsx)(p.Z,{span:8,children:O.map((e=>(0,k.jsx)(o.Z.Item,{name:`key[${e.locale}]`,rules:[{required:e.locale===N,message:""}],hidden:e.locale!==N,children:(0,k.jsx)(m.Z,{placeholder:Z("key")})},"key"+e.locale)))}),(0,k.jsx)(p.Z,{span:8,children:O.map((e=>(0,k.jsx)(o.Z.Item,{name:`value[${e.locale}]`,rules:[{required:e.locale===N,message:""}],hidden:e.locale!==N,children:(0,k.jsx)(m.Z,{placeholder:Z("value")})},"value"+e.locale)))}),(0,k.jsx)(p.Z,{span:4,children:(0,k.jsx)(u.Z,{type:"primary",htmlType:"submit",children:Z("save")})})]})}),(0,k.jsx)(h.Z,{scroll:{x:!0},columns:z,dataSource:U,pagination:!1,rowKey:e=>e.id}),(0,k.jsx)(g,{editData:E,handleCancel:A,editProperty:e=>{W((l=>l.map((l=>l.id===e.id?e:l)))),A()}}),(0,k.jsxs)(r.Z,{className:"mt-4",children:[(0,k.jsx)(u.Z,{onClick:i,children:Z("prev")}),(0,k.jsx)(u.Z,{type:"primary",onClick:function(){const e=function(){let e=[],l=[];return U.forEach((t=>{let a={},i={};O.forEach((e=>{a[e.locale]=t[`key[${e.locale}]`],i[e.locale]=t[`value[${e.locale}]`]})),e.push(a),l.push(i)})),{key:e,value:l}}();if(s)return w((0,f.nc)({activeMenu:C,data:{...C.data,properties:U,props:e}})),void t();let l=$.state;if($.state&&"edit"===d)return l.properties=U,l.props=e,void I(`/seller/product/${F}?step=4`,{state:$.state});T(!0),b.Z.properties(F,e).then((()=>{t()})).finally((()=>T(!1)))},loading:R,children:Z("next")})]})]})};var $=t(44902),F=t(16124),I=t(46155),C=t(22307),N=t(89802),O=t(89281),V=t(33724),E=t(85104),M=t(37630);const U=e=>{var l;let{prev:t,next:i,isRequest:s,mode:d}=e;const{t:c}=(0,q.$)(),[h]=o.Z.useForm(),x=(0,_.s0)(),Z=(0,j.I0)(),{uuid:g}=(0,_.UO)(),{activeMenu:S}=(0,j.v9)((e=>e.menu),j.wU),{myShop:w}=(0,j.v9)((e=>e.myShop),j.wU),[$,U]=(0,a.useState)(null),W=(0,_.TH)(),{defaultLang:R}=(0,j.v9)((e=>e.formLang),j.wU),{settings:T}=(0,j.v9)((e=>e.globalSettings)),{defaultCurrency:z}=(0,j.v9)((e=>e.currency),j.wU),[L,A]=(0,a.useState)(null),[B,K]=(0,a.useState)([]);function D(e){U(!0),b.Z.getById(e).then((e=>{var l;!function(e,l){const t=(0,V.Z)(e),a=t.map((e=>{var t,a;if(e.every((e=>"undefined"!==typeof e.stock_id))){var i;const t=null===l||void 0===l?void 0:l.find((l=>l.extras.every((l=>e.some((e=>e.value===l.id)))))),a=[];return null===t||void 0===t||null===(i=t.addons)||void 0===i||i.forEach((e=>{var l,t,i;e.product&&a.push({label:(null===e||void 0===e||null===(l=e.product)||void 0===l||null===(t=l.translation)||void 0===t?void 0:t.title)||(null===e||void 0===e?void 0:e.label),value:(null===e||void 0===e||null===(i=e.product)||void 0===i?void 0:i.id)||(null===e||void 0===e?void 0:e.value)})})),{price:(null===t||void 0===t?void 0:t.price)||0,quantity:(null===t||void 0===t?void 0:t.quantity)||0,sku:null===t||void 0===t?void 0:t.sku,stock_id:null===t||void 0===t?void 0:t.id,tax:(null===S||void 0===S?void 0:S.data.tax)||0,addons:a,...Object.assign({},...e.map(((e,l)=>{var t;return{[`extras[${l}]`]:{label:e.label,value:e.value,group:null===(t=e.group.translation)||void 0===t?void 0:t.title}}})))}}return{price:void 0,quantity:0,tax:(null===(t=S.data)||void 0===t?void 0:t.tax)||0,sku:null===S||void 0===S||null===(a=S.data)||void 0===a?void 0:a.sku,addons:[],...Object.assign({},...e.map(((e,l)=>({[`extras[${l}]`]:{label:e.label,value:e.value}}))))}}));let i=[];if(0===t.length&&0!==(null===l||void 0===l?void 0:l.length)){var s,n;const e=null===l||void 0===l?void 0:l.at(0),t=[];null===e||void 0===e||null===(s=e.addons)||void 0===s||s.forEach((e=>{var l,a,i;e.product&&t.push({label:(null===e||void 0===e||null===(l=e.product)||void 0===l||null===(a=l.translation)||void 0===a?void 0:a.title)||(null===e||void 0===e?void 0:e.label),value:(null===e||void 0===e||null===(i=e.product)||void 0===i?void 0:i.id)||(null===e||void 0===e?void 0:e.value)})})),i=[{price:(null===e||void 0===e?void 0:e.price)||0,quantity:(null===e||void 0===e?void 0:e.quantity)||0,sku:null===e||void 0===e?void 0:e.sku,tax:(null===(n=S.data)||void 0===n?void 0:n.tax)||0,addons:e?t:[]}]}var d,o;0===t.length&&0===(null===l||void 0===l?void 0:l.length)&&(i=[{price:void 0,quantity:0,sku:null===S||void 0===S||null===(d=S.data)||void 0===d?void 0:d.sku,tax:(null===(o=S.data)||void 0===o?void 0:o.tax)||0,addons:[]}]);const r=i.concat(a);K(l.map((e=>e.id))),h.setFieldsValue({stocks:r})}(null===S||void 0===S||null===(l=S.data.extras)||void 0===l?void 0:l.map((e=>e.values||[])),e.data.stocks)})).finally((()=>{U(!1)}))}const H=async e=>{const l={search:e,addon:1,shop_id:w.id,active:1,"statuses[0]":"published","statuses[1]":"pending"},t=await b.Z.getAll(l).then((e=>e.data.map((e=>{var l;return{label:null===e||void 0===e||null===(l=e.translation)||void 0===l?void 0:l.title,value:null===e||void 0===e?void 0:e.id}}))))||[];return[{label:c("all.addons"),value:"all",key:"all"},...t]};(0,a.useEffect)((()=>{var e;if(s)if(null!==(e=W.state)&&void 0!==e&&e.generate){var l,t,a,i,n;const e=(0,V.Z)(null===S||void 0===S||null===(l=S.data.extras)||void 0===l?void 0:l.map((e=>e.values||[]))),s=e.map((e=>{var l,t;if(e.every((e=>"undefined"!==typeof e.stock_id))){var a,i,s;const l=null===(a=S.data)||void 0===a||null===(i=a.actualStocks)||void 0===i?void 0:i.find((l=>l.extras.every((l=>e.some((e=>e.value===l.id)))))),t=[];return null===l||void 0===l||null===(s=l.addons)||void 0===s||s.forEach((e=>{var l,a,i;e.product&&t.push({label:(null===e||void 0===e||null===(l=e.product)||void 0===l||null===(a=l.translation)||void 0===a?void 0:a.title)||(null===e||void 0===e?void 0:e.label),value:(null===e||void 0===e||null===(i=e.product)||void 0===i?void 0:i.id)||(null===e||void 0===e?void 0:e.value)})})),{price:(null===l||void 0===l?void 0:l.price)||0,quantity:(null===l||void 0===l?void 0:l.quantity)||0,stock_id:null===l||void 0===l?void 0:l.id,sku:null===l||void 0===l?void 0:l.sku,tax:(null===S||void 0===S?void 0:S.data.tax)||0,addons:t,...Object.assign({},...e.map(((e,l)=>({[`extras[${l}]`]:{label:e.label,value:e.value,group:S.data.extras[l].label}}))))}}return{price:0,quantity:0,tax:(null===(l=S.data)||void 0===l?void 0:l.tax)||0,sku:null===S||void 0===S||null===(t=S.data)||void 0===t?void 0:t.sku,addons:[],...Object.assign({},...e.map(((e,l)=>({[`extras[${l}]`]:{label:e.label,value:e.value}}))))}}));let v=[];if(0===e.length&&0!==(null===(t=S.data)||void 0===t||null===(a=t.actualStocks)||void 0===a?void 0:a.length)){var d,o,r;const e=null===(d=S.data.actualStocks)||void 0===d?void 0:d.at(0),l=[];null===e||void 0===e||null===(o=e.addons)||void 0===o||o.forEach((e=>{var t,a,i;e.product&&l.push({label:(null===e||void 0===e||null===(t=e.product)||void 0===t||null===(a=t.translation)||void 0===a?void 0:a.title)||(null===e||void 0===e?void 0:e.label),value:(null===e||void 0===e||null===(i=e.product)||void 0===i?void 0:i.id)||(null===e||void 0===e?void 0:e.value)})})),v=[{price:(null===e||void 0===e?void 0:e.price)||0,quantity:(null===e||void 0===e?void 0:e.quantity)||0,sku:null===e||void 0===e?void 0:e.sku,tax:(null===(r=S.data)||void 0===r?void 0:r.tax)||0,addons:e?l:[]}]}var u,c;if(0===(null===e||void 0===e?void 0:e.length)&&0===(null===(i=S.data)||void 0===i||null===(n=i.actualStocks)||void 0===n?void 0:n.length))v=[{price:void 0,quantity:0,sku:null===S||void 0===S||null===(u=S.data)||void 0===u?void 0:u.sku,tax:(null===(c=S.data)||void 0===c?void 0:c.tax)||0,addons:[]}];const p=v.concat(s);K(S.data.actualStocks.map((e=>e.id))),h.setFieldsValue({stocks:p})}else{var v;const e=S.data.stocks.map((e=>{var l;return{price:e.price||0,quantity:e.quantity||0,tax:S.data.tax,sku:e.sku,stock_id:e.stock_id,...Object.assign({},...null===(l=e.ids)||void 0===l?void 0:l.map(((e,l)=>({[`extras[${l}]`]:{label:e.label,value:e.value,group:e.group}}))))}}));K((null===(v=S.data)||void 0===v?void 0:v.delete_ids)||[]),h.setFieldsValue({stocks:e})}else D(g)}),[s,null===(l=W.state)||void 0===l?void 0:l.generate]);const P=(e,l,t)=>e.map((e=>Object.assign(e,{[l]:t}))),G=(e,l)=>{const t=e?(0,M.Z)(6):l,{stocks:a}=h.getFieldsValue();h.setFieldsValue({"set.all.sku":t,stock:P(a,"sku",t)})};return(0,k.jsx)(n.Z,{title:S.data&&S.data[`title[${R}]`]?`${S.data[`title[${R}]`]}`:"",loading:!!$,children:(0,k.jsxs)(o.Z,{layout:"vertical",form:h,onFinish:e=>{var l,t,a;A(!0);const{stocks:n}=e;let o,r=n.filter((e=>{var l,t;let{price:a,quantity:i}=e;return!(null!==S&&void 0!==S&&null!==(l=S.data)&&void 0!==l&&null!==(t=l.stocks)&&void 0!==t&&t.some((e=>{let{price:l,quantity:t}=e;return a===l||i===t})))}));var u;null===(l=S.data)||void 0===l||null===(t=l.extras)||void 0===t||!t.length?o=[{price:n[0].price,quantity:n[0].quantity,addons:n[0].addons?!(r.length>0||s||W.state)||null!==(u=W.state)&&void 0!==u&&u.create||"1"===(null===T||void 0===T?void 0:T.product_auto_approve)?n[0].addons.map((e=>e.value)):n[0].addons.map((e=>e)):[],stock_id:n[0].stock_id,sku:n[0].sku}]:o=n.map((e=>{var l,t,a,i,n,d;return{price:e.price,quantity:e.quantity,ids:!(r.length>0||s||W.state)||null!==(l=W.state)&&void 0!==l&&l.create||"0"!==(null===T||void 0===T?void 0:T.product_auto_approve)?null===(a=S.data)||void 0===a?void 0:a.extras.map(((l,t)=>e[`extras[${t}]`].value)):null===(t=S.data)||void 0===t?void 0:t.extras.map(((l,t)=>e[`extras[${t}]`])),addons:e.addons?!(r.length>0||s||W.state)||null!==(i=W.state)&&void 0!==i&&i.create||"1"===(null===T||void 0===T?void 0:T.product_auto_approve)?null===(d=e.addons)||void 0===d?void 0:d.map((e=>e.value)):null===(n=e.addons)||void 0===n?void 0:n.map((e=>e)):[],stock_id:e.stock_id,sku:e.sku}}));const c=B.filter(((e,l)=>{var t;return(null===(t=n[l])||void 0===t?void 0:t.stock_id)&&!n.some((l=>(null===l||void 0===l?void 0:l.stock_id)===e))}));let v=W.state;return s?(Z((0,f.nc)({activeMenu:S,data:{...S.data,stocks:o,delete_ids:c}})),void i()):!(r.length>0||W.state)||"edit"!==d||null!==(a=W.state)&&void 0!==a&&a.create||"0"!==(null===T||void 0===T?void 0:T.product_auto_approve)?void b.Z.stocks(g,{extras:o,delete_ids:c}).then((()=>i())).finally((()=>A(!1))):(W.state?(v.stocks=o,v.delete_ids=c):v={...S.data,stocks:o,delete_ids:c},void x(`/seller/product/${g}?step=3`,{state:v}))},children:[(0,k.jsxs)(v.Z,{gutter:12,align:"middle",children:[(0,k.jsx)(p.Z,{span:5,style:{marginRight:"10px"},children:(0,k.jsx)(o.Z.Item,{label:c("sku"),name:"set.all.sku",children:(0,k.jsx)(m.Z,{className:"w-100",onChange:e=>G(!1,e.target.value)})})}),(0,k.jsx)(p.Z,{children:(0,k.jsx)(o.Z.Item,{label:" ",name:"sku",children:(0,k.jsx)(u.Z,{icon:(0,k.jsx)(E.Z,{}),onClick:()=>G(!0)})})}),(0,k.jsx)(p.Z,{span:4,children:(0,k.jsx)(o.Z.Item,{label:c("price"),name:"set.all.price",rules:[{type:"number",min:0,message:c("must.be.positive.number")}],children:(0,k.jsx)(F.Z,{className:"w-100",onChange:function(e){const{stocks:l}=h.getFieldsValue();h.setFieldsValue({stocks:P(l,"price",e)})}})})}),(0,k.jsx)(p.Z,{span:4,children:(0,k.jsx)(o.Z.Item,{label:c("quantity"),name:"set.all.quantity",rules:[{type:"number",min:0,message:c("must.be.positive.number")}],children:(0,k.jsx)(F.Z,{className:"w-100",onChange:function(e){const{stocks:l}=h.getFieldsValue();h.setFieldsValue({stocks:P(l,"quantity",e)})}})})}),(0,k.jsx)(p.Z,{children:(0,k.jsx)(o.Z.Item,{label:c("addons"),name:"addons",children:(0,k.jsx)(O.h,{mode:"multiple",style:{minWidth:"300px"},fetchOptions:H,allowClear:!0,onChange:function(e){const{stocks:l}=h.getFieldsValue();h.setFieldsValue({stocks:P(l,"addons",e)})}})})})]}),(0,k.jsx)(I.Z,{}),(0,k.jsx)("h2",{children:c("values")}),(0,k.jsx)(o.Z.List,{name:"stocks",children:(e,l)=>{let{remove:t}=l;return(0,k.jsx)("div",{children:e.map(((e,l)=>{var a,i,s,n;return(0,k.jsxs)(v.Z,{gutter:12,align:"middle",style:{flexWrap:"nowrap",overflowX:"auto"},hidden:!(null!==(a=S.data)&&void 0!==a&&null!==(i=a.extras)&&void 0!==i&&i.length)&&e.key,children:[null===(s=S.data)||void 0===s||null===(n=s.extras)||void 0===n?void 0:n.map(((e,t)=>(0,k.jsx)(p.Z,{children:(0,k.jsx)(o.Z.Item,{label:null===e||void 0===e?void 0:e.label,name:[l,`extras[${t}]`],rules:[{required:!0,message:c("required")}],children:(0,k.jsx)(N.q,{fetchOptions:()=>{return l=e.value,C.Z.getGroupById(l).then((e=>e.data.extra_values.map((e=>({label:e.value,value:e.id})))));var l},className:"w-100",disabled:!0,style:{minWidth:200}})})},"extra"+e.value))),(0,k.jsx)(p.Z,{children:(0,k.jsx)(o.Z.Item,{label:c("addons"),name:[l,"addons"],rules:[{required:!1,message:c("required")}],children:(0,k.jsx)(O.h,{mode:"multiple",style:{minWidth:"300px"},fetchOptions:H,allowClear:!0})})}),(0,k.jsx)(p.Z,{children:(0,k.jsx)(o.Z.Item,{label:c("sku"),name:[l,"sku"],children:(0,k.jsx)(m.Z,{className:"w-100",style:{minWidth:200}})})}),(0,k.jsx)(p.Z,{children:(0,k.jsx)(o.Z.Item,{label:c("quantity"),name:[l,"quantity"],rules:[{required:!0,message:c("required")}],children:(0,k.jsx)(F.Z,{min:0,className:"w-100",style:{minWidth:200}})})}),(0,k.jsx)(p.Z,{children:(0,k.jsx)(o.Z.Item,{label:`${c("price")} (${null===z||void 0===z?void 0:z.symbol})`,name:[l,"price"],rules:[{required:!0,message:c("requried")}],children:(0,k.jsx)(F.Z,{min:0,className:"w-100",style:{minWidth:200}})})}),(0,k.jsxs)(p.Z,{children:[(0,k.jsx)(o.Z.Item,{label:c("tax"),name:[l,"tax"],children:(0,k.jsx)(F.Z,{className:"w-100",disabled:!0,style:{minWidth:200},addonAfter:"%"})}),(0,k.jsx)(o.Z.Item,{hidden:!0,label:c("id"),name:[l,"stock_id"],children:(0,k.jsx)(F.Z,{className:"w-100",disabled:!0,style:{minWidth:200},addonAfter:"%"})})]})," ",(0,k.jsx)(p.Z,{children:(0,k.jsx)(o.Z.Item,{noStyle:!0,shouldUpdate:(l,t)=>l.stocks[e.name].price!==t.stocks[e.name].price,children:l=>{let{getFieldValue:t}=l;const a=t(["stocks",e.name,"tax"])||0,i=t(["stocks",e.name,"price"]),s=0===a?i:i*a/100+i;return(0,k.jsx)(o.Z.Item,{label:`${c("total.price")} (${null===z||void 0===z?void 0:z.symbol})`,children:(0,k.jsx)(F.Z,{min:1,disabled:!0,value:s,className:"w-100",style:{minWidth:200}})})}})}),(0,k.jsx)(p.Z,{children:e.key?(0,k.jsx)(u.Z,{type:"primary",className:"mt-2",danger:!0,icon:(0,k.jsx)(y.Z,{}),onClick:()=>{t(e.name)}}):""})]},e.key)}))})}}),(0,k.jsxs)(r.Z,{className:"mt-4",children:[(0,k.jsx)(u.Z,{onClick:t,children:c("prev")}),(0,k.jsx)(u.Z,{type:"primary",htmlType:"submit",loading:!!L,children:c("next")})]})]})})};var W=t(89904),R=t(32937),T=t(33834),z=t(81218);const{Step:L}=s.Z,A=()=>{var e;const{t:l}=(0,q.$)(),{id:t}=(0,_.UO)(),o=(0,T.K)(),{activeMenu:r}=(0,j.v9)((e=>e.menu),j.wU),u=(0,j.I0)(),c=Number((null===(e=o.values)||void 0===e?void 0:e.step)||0),[v,p]=(0,a.useState)(r.refetch),m=()=>{const e=c+1;o.set("step",e)},h=()=>{const e=c-1;o.set("step",e)};(0,a.useEffect)((()=>{var e;r.refetch&&(e=t,p(!0),z.Z.getById(e).then((e=>{var l,t;let a=e.data.data;u((0,f.nc)({activeMenu:r,data:{...a,request_id:e.data.id,actualStocks:null===(l=e.data.model)||void 0===l?void 0:l.stocks,model_id:null===(t=e.data.model)||void 0===t?void 0:t.id,model:e.data.model}}))})).finally((()=>{p(!1),u((0,f.A_)(r))})))}),[r.refetch]);return(0,a.useEffect)((()=>()=>{u((0,f.ph)({...r,nextUrl:"seller/products"}))}),[]),(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(n.Z,{title:l("edit.food"),extra:(0,k.jsx)(Z.Z,{}),children:(0,k.jsx)(s.Z,{current:c,onChange:e=>{u((0,f.nc)({activeMenu:r,data:{...r.data,step:e}})),o.set("step",e)},children:i.S.map((e=>(0,k.jsx)(L,{title:l(e.title)},e.title)))})}),v?(0,k.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,k.jsx)(d.Z,{size:"large",className:"py-5"})}):(0,k.jsxs)("div",{className:"",children:["First-content"===i.S[c].content&&(0,k.jsx)(R.Z,{isRequest:!0,next:m,action_type:"edit"}),"Second-content"===i.S[c].content&&(0,k.jsx)(W.Z,{isRequest:!0,next:m,prev:h}),"Third-content"===i.S[c].content&&(0,k.jsx)(U,{isRequest:!0,next:m,prev:h}),"Fourth-content"===i.S[c].content&&(0,k.jsx)(w,{isRequest:!0,next:m,prev:h}),"Finish-content"===i.S[c].content&&(0,k.jsx)($.Z,{isRequest:!0,prev:h})]})]})}},85104:(e,l,t)=>{"use strict";t.d(l,{Z:()=>o});var a=t(1413),i=t(47313);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888.3 693.2c-42.5-24.6-94.3-18-129.2 12.8l-53-30.7V523.6c0-15.7-8.4-30.3-22-38.1l-136-78.3v-67.1c44.2-15 76-56.8 76-106.1 0-61.9-50.1-112-112-112s-112 50.1-112 112c0 49.3 31.8 91.1 76 106.1v67.1l-136 78.3c-13.6 7.8-22 22.4-22 38.1v151.6l-53 30.7c-34.9-30.8-86.8-37.4-129.2-12.8-53.5 31-71.7 99.4-41 152.9 30.8 53.5 98.9 71.9 152.2 41 42.5-24.6 62.7-73 53.6-118.8l48.7-28.3 140.6 81c6.8 3.9 14.4 5.9 22 5.9s15.2-2 22-5.9L674.5 740l48.7 28.3c-9.1 45.7 11.2 94.2 53.6 118.8 53.3 30.9 121.5 12.6 152.2-41 30.8-53.6 12.6-122-40.7-152.9zm-673 138.4a47.6 47.6 0 01-65.2-17.6c-13.2-22.9-5.4-52.3 17.5-65.5a47.6 47.6 0 0165.2 17.6c13.2 22.9 5.4 52.3-17.5 65.5zM522 463.8zM464 234a48.01 48.01 0 0196 0 48.01 48.01 0 01-96 0zm170 446.2l-122 70.3-122-70.3V539.8l122-70.3 122 70.3v140.4zm239.9 133.9c-13.2 22.9-42.4 30.8-65.2 17.6-22.8-13.2-30.7-42.6-17.5-65.5s42.4-30.8 65.2-17.6c22.9 13.2 30.7 42.5 17.5 65.5z"}}]},name:"deployment-unit",theme:"outlined"};var n=t(17469),d=function(e,l){return i.createElement(n.Z,(0,a.Z)((0,a.Z)({},e),{},{ref:l,icon:s}))};d.displayName="DeploymentUnitOutlined";const o=i.forwardRef(d)},24654:()=>{}}]);