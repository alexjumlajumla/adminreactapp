(self.webpackChunkjumlajumla_dashboard=self.webpackChunkjumlajumla_dashboard||[]).push([[5589],{31976:(t,l,e)=>{"use strict";e.r(l),e.d(l,{default:()=>j});var i=e(9950),n=e(86366),a=e(23263),o=e(90650),d=e(71999),s=e(13564),r=e(47933),u=e(91854),v=e(74623),c=e(70030),p=e(65820),h=e(88565),f=e(60837),g=e(27720),x=e(3678),m=e(44414);const{Step:y}=n.A,j=()=>{var t;const{t:l}=(0,c.B)(),{uuid:e}=(0,s.g)(),j=(0,p.s)(),{activeMenu:b}=(0,u.d4)((t=>t.menu),u.bN),{languages:k}=(0,u.d4)((t=>t.formLang),u.bN),A=(0,u.wA)(),C=Number((null===(t=j.values)||void 0===t?void 0:t.step)||0),[N,M]=(0,i.useState)(b.refetch),$=()=>{const t=C+1;j.set("step",t)},_=()=>{const t=C-1;j.set("step",t)},O=t=>t?{label:t.translation?t.translation.title:t.title,value:t.id}:null;function w(t){if(null===t||void 0===t||!t.translations)return{};const{translations:l}=t,e=k.map((t=>{var e,i;return{[`title[${t.locale}]`]:null===(e=l.find((l=>l.locale===t.locale)))||void 0===e?void 0:e.title,[`description[${t.locale}]`]:null===(i=l.find((l=>l.locale===t.locale)))||void 0===i?void 0:i.description}}));return Object.assign({},...e)}(0,i.useEffect)((()=>{b.refetch&&function(t){M(!0),r.A.getById(t).then((t=>{var l,e,i,n,a,o,d,s,r,u,c,p,h,f,g,x,m;const y={...t.data,...w(null===t||void 0===t?void 0:t.data),shop:O(null===t||void 0===t||null===(l=t.data)||void 0===l?void 0:l.shop),category:O(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.category),brand:O(null===t||void 0===t||null===(i=t.data)||void 0===i?void 0:i.brand),unit:O(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.unit),images:(j=null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.galleries,j.map((t=>({uid:t.id,name:t.path,url:t.path})))),extras:null===t||void 0===t||null===(o=t.data)||void 0===o||null===(d=o.stocks)||void 0===d||null===(s=d[0])||void 0===s||null===(r=s.extras)||void 0===r?void 0:r.map((t=>null===t||void 0===t?void 0:t.extra_group_id)),stocks:null===t||void 0===t||null===(u=t.data)||void 0===u||null===(c=u.stocks)||void 0===c?void 0:c.map((t=>{var l,e;return{...t,...Object.assign({},...null===t||void 0===t||null===(l=t.extras)||void 0===l?void 0:l.map(((t,l)=>({[`extras[${l}]`]:null===t||void 0===t?void 0:t.id})))),quantity:null!==(e=null===t||void 0===t?void 0:t.quantity)&&void 0!==e?e:0,extras:void 0}})),properties:null===t||void 0===t||null===(p=t.data)||void 0===p||null===(h=p.properties)||void 0===h?void 0:h.map(((t,l)=>({id:l,[`key[${null===t||void 0===t?void 0:t.locale}]`]:null===t||void 0===t?void 0:t.key,[`value[${null===t||void 0===t?void 0:t.locale}]`]:null===t||void 0===t?void 0:t.value}))),translation:void 0,translations:void 0,interval:null!==(f=null===t||void 0===t||null===(g=t.data)||void 0===g?void 0:g.interval)&&void 0!==f?f:1,tax:null!==(x=null===t||void 0===t||null===(m=t.data)||void 0===m?void 0:m.tax)&&void 0!==x?x:0};var j;A((0,v.Ok)({activeMenu:b,data:y}))})).finally((()=>{M(!1),A((0,v.km)(b))}))}(e)}),[b.refetch]);return(0,m.jsxs)(a.A,{title:l("addon.edit"),extra:(0,m.jsx)(d.A,{}),children:[(0,m.jsx)(n.A,{current:C,onChange:t=>{A((0,v.Ok)({activeMenu:b,data:{...b.data,step:t}})),j.set("step",t)},children:h.C.map((t=>(0,m.jsx)(y,{title:l(t.title)},t.title)))}),N?(0,m.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,m.jsx)(o.A,{size:"large",className:"py-5"})}):(0,m.jsxs)("div",{className:"steps-content",children:["First-content"===h.C[C].content&&(0,m.jsx)(x.A,{next:$,action_type:"edit"}),"Third-content"===h.C[C].content&&(0,m.jsx)(g.A,{next:$,prev:_,current:C}),"Finish-content"===h.C[C].content&&(0,m.jsx)(f.A,{prev:_})]})]})}},42634:()=>{},65820:(t,l,e)=>{"use strict";e.d(l,{s:()=>o});var i=e(13564),n=e(21215),a=e.n(n);const o=()=>{const t=(0,i.Zp)(),l=(0,i.zy)(),e=a().parse(l.search,{ignoreQueryPrefix:!0});return{values:e,set:(l,i)=>t({search:a().stringify({...e,[l]:i})}),reset:l=>{const i={...e};i[l]&&delete i[l],t({search:a().stringify({...i})})},clear:()=>t({search:a().stringify({})}),merge:l=>t({search:a().stringify({...e,...l})}),get:t=>e[t],setMultiple:l=>{const i={...e,...l};t({search:a().stringify(i)})},resetMultiple:l=>{const i={...e};l.forEach((t=>{i[t]&&delete i[t]})),t({search:a().stringify(i)})}}}}}]);