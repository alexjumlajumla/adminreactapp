"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[4830],{48008:(e,t,s)=>{s.d(t,{Z:()=>a});s(47313);var l=s(9274),i=s(87569),n=s(59491),r=s(24511),d=s(46417);const a=e=>{let{open:t,handleCancel:s,text:a,click:o,loading:u,subTitle:c}=e;const{t:h}=(0,r.$)();return(0,d.jsxs)(l.Z,{closable:!1,visible:t,footer:null,centered:!0,children:[(0,d.jsx)(i.ZP,{status:"warning",title:a,subTitle:c}),(0,d.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,d.jsx)(n.Z,{type:"primary",className:"mr-2",onClick:o,loading:u,children:h("yes")}),(0,d.jsx)(n.Z,{onClick:()=>s(),children:h("no")})]})]})}},14830:(e,t,s)=>{s.r(t),s.d(t,{default:()=>$});var l=s(47313),i=s(31741),n=s(47515),r=s(55613),d=s(45705),a=s(59491),o=s(77181),u=s(78508),c=s(23560),h=s(69658),x=s(74580),v=s(2717),p=s(90954),m=s(80314),g=s(13945),f=s(24511),j=s(94765),Z=s(27290),k=s(27266),w=s(70816),y=s.n(w),C=s(97890),b=s(55940),_=s(53233),N=s(48008),S=s(46417);function $(){const{t:e}=(0,f.$)(),t=(0,v.I0)(),s=(0,C.s0)(),[w,$]=(0,l.useState)([{title:e("order.id"),dataIndex:"order",key:"order",render:l=>(0,S.jsxs)("div",{className:"text-hover",onClick:()=>(l=>{t((0,p.bL)({id:"order_details",url:`order/details/${l}`,name:e("order.details")})),s(`/order/details/${l}`)})(l.id),children:["#",l.id]}),sorter:!0,is_show:!0},{title:e("user"),dataIndex:"user",key:"user",is_show:!0,render:l=>(0,S.jsxs)("div",{className:"text-hover",onClick:()=>{return i=l,t((0,p.bL)({url:`/users/user/${i.uuid}`,id:"user_info",name:e("user.info")})),void s(`/users/user/${i.uuid}`,{state:{user_id:i.id}});var i},children:[null===l||void 0===l?void 0:l.firstname," ",(null===l||void 0===l?void 0:l.lastname)||""]})},{title:e("shop"),dataIndex:"shop",key:"shop",is_show:!0,render:l=>{var i;return(0,S.jsx)("div",{className:"text-hover",onClick:()=>{return i=l,t((0,p.bL)({id:"edit-shop",url:`shop/${i.uuid}`,name:e("edit.shop")})),void s(`/shop/${i.uuid}`);var i},children:null===l||void 0===l||null===(i=l.translation)||void 0===i?void 0:i.title})}},{title:e("rating"),dataIndex:"rating",key:"rating",is_show:!0,render:e=>(0,S.jsx)(r.Z,{disabled:!0,defaultValue:e})},{title:e("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0,render:e=>y()(e).format("YYYY-MM-DD HH:mm")},{title:e("options"),key:"options",dataIndex:"options",is_show:!0,render:(e,t)=>(0,S.jsxs)(d.Z,{children:[(0,S.jsx)(a.Z,{type:"primary",icon:(0,S.jsx)(i.Z,{}),onClick:()=>T(t.id)}),(0,S.jsx)(b.Z,{icon:(0,S.jsx)(n.Z,{}),onClick:()=>{M([t.id]),I(!0),L(!0)}})]})}]),{setIsModalVisible:I}=(0,l.useContext)(x._),[A,M]=(0,l.useState)(null),[P,T]=(0,l.useState)(null),[W,Y]=(0,l.useState)(!1),[z,L]=(0,l.useState)(null),[D,H]=(0,l.useState)(null),{activeMenu:U}=(0,v.v9)((e=>e.menu),v.wU),{reviews:V,meta:E,loading:K,params:O}=(0,v.v9)((e=>e.orderReview),v.wU);console.log("reviews => ",V);(0,l.useEffect)((()=>{U.refetch&&(t((0,Z.WN)()),t((0,p.A_)(U)))}),[U.refetch]),(0,m.Z)((()=>{const e=U.data,s={sort:null===e||void 0===e?void 0:e.sort,column:null===e||void 0===e?void 0:e.column,perPage:null===e||void 0===e?void 0:e.perPage,page:null===e||void 0===e?void 0:e.page};t((0,Z.WN)(s))}),[U.data]);const R={id:A,onChange:e=>{M(e)}};return(0,S.jsxs)(o.Z,{title:e("order.reviews"),extra:(0,S.jsxs)(d.Z,{wrap:!0,children:[(0,S.jsx)(b.Z,{size:"",onClick:()=>{null===A||0===A.length?c.Am.warning(e("select.the.product")):(I(!0),L(!1))},children:e("delete.selected")}),(0,S.jsx)(_.Z,{columns:w,setColumns:$})]}),children:[(0,S.jsx)(u.Z,{scroll:{x:!0},rowSelection:R,columns:null===w||void 0===w?void 0:w.filter((e=>e.is_show)),dataSource:V,pagination:{pageSize:O.perPage,page:O.page,total:E.total,defaultCurrent:O.page},rowKey:e=>e.id,onChange:function(e,s,l){const{pageSize:i,current:n}=e,{field:r,order:d}=l,a=(0,g.Z)(d);t((0,p.nc)({activeMenu:U,data:{perPage:i,page:n,column:r,sort:a}}))},loading:K}),(0,S.jsx)(h.Z,{click:()=>{Y(!0);const s={...Object.assign({},...A.map(((e,t)=>({[`ids[${t}]`]:e}))))};j.Z.delete(s).then((()=>{c.Am.success(e("successfully.deleted")),t((0,Z.WN)()),I(!1)})).finally((()=>Y(!1)))},text:e(z?"delete":"all.delete"),setText:M,loading:W}),P&&(0,S.jsx)(k.Z,{id:P,handleCancel:()=>T(null)}),D&&(0,S.jsx)(N.Z,{open:D,handleCancel:()=>H(null),click:D.restore?()=>{Y(!0),j.Z.restoreAll().then((()=>{c.Am.success(e("successfully.restored")),t((0,Z.WN)()),H(null)})).finally((()=>Y(!1)))}:()=>{Y(!0),j.Z.dropAll().then((()=>{c.Am.success(e("successfully.deleted")),t((0,Z.WN)()),H(null)})).finally((()=>Y(!1)))},text:D.restore?e("restore.modal.text"):e("read.carefully"),subTitle:D.restore?"":e("confirm.deletion"),loading:W,setText:M})]})}}}]);