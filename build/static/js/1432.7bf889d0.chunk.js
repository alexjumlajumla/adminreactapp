"use strict";(self.webpackChunkjumlajumla_dashboard=self.webpackChunkjumlajumla_dashboard||[]).push([[1432],{21432:(e,t,l)=>{l.r(t),l.d(t,{default:()=>q});var n=l(9950),i=l(25933),a=l(12203),s=l(55386),c=l(84509),d=l(76083),r=l(91854),o=l(53496),u=l(74623),h=l(34996),A=l(70030),m=l(3969),v=l(32645),j=l(48538),x=l(87094),f=l(41988),g=l(55902),p=l(81446),b=l(71999),y=l(31281),_=l(41064),C=l(44414);function k(e){let{modal:t,handleCancel:l}=e;const{activeMenu:i}=(0,r.d4)((e=>e.menu),r.bN),{languages:a,defaultLang:s}=(0,r.d4)((e=>e.formLang),r.bN),[c]=m.A.useForm(),d=(0,r.wA)(),{t:o}=(0,A.B)(),[k,q]=(0,n.useState)(!1),[N,I]=(0,n.useState)(!1);(0,n.useEffect)((()=>{var e;t&&(e=t.id,q(!0),h.A.getById(e).then((e=>{let{data:t}=e;const l=(0,_.A)(a,t,["title","client_title","secret_title"]);c.setFieldsValue({...t,...l})})).finally((()=>q(!1))))}),[t]);return(0,C.jsx)(v.A,{visible:!!t,title:o("edit.payment"),onCancel:l,footer:[(0,C.jsx)(j.A,{type:"primary",onClick:()=>c.submit(),loading:N,children:o("save")},"save-btn"),(0,C.jsx)(j.A,{type:"default",onClick:l,children:o("cancel")},"cancel-btn")],children:k?(0,C.jsx)(p.A,{}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{className:"d-flex justify-content-end",children:(0,C.jsx)(b.A,{})}),(0,C.jsx)(m.A,{form:c,layout:"vertical",onFinish:e=>{const n={client_id:e.client_id,secret_id:e.secret_id,title:(0,y.A)(a,e,"title"),client_title:(0,y.A)(a,e,"client_title"),secret_title:(0,y.A)(a,e,"secret_title")};I(!0),h.A.update(t.id,n).then((()=>{l(),d((0,u.Ms)(i))})).finally((()=>I(!1)))},children:(0,C.jsxs)(x.A,{gutter:12,children:[(0,C.jsx)(f.A,{span:24,children:a.map((e=>(0,C.jsx)(m.A.Item,{label:o("title"),name:`title[${e.locale}]`,rules:[{required:e.locale===s,message:o("required")}],hidden:e.locale!==s,children:(0,C.jsx)(g.A,{})})))}),(0,C.jsx)(f.A,{span:24,children:a.map((e=>(0,C.jsx)(m.A.Item,{label:o("client.title"),name:`client_title[${e.locale}]`,rules:[{required:e.locale===s,message:o("required")}],hidden:e.locale!==s,children:(0,C.jsx)(g.A,{})})))}),(0,C.jsx)(f.A,{span:24,children:a.map((e=>(0,C.jsx)(m.A.Item,{label:o("secret.title"),name:`secret_title[${e.locale}]`,rules:[{required:e.locale===s,message:o("requried")}],hidden:e.locale!==s,children:(0,C.jsx)(g.A,{})})))}),(0,C.jsx)(f.A,{span:24,children:(0,C.jsx)(m.A.Item,{label:o("client.id"),name:"client_id",rules:[{required:!0,message:o("required")}],children:(0,C.jsx)(g.A,{})})}),(0,C.jsx)(f.A,{span:24,children:(0,C.jsx)(m.A.Item,{label:o("secret.id"),name:"secret_id",rules:[{required:!0,message:o("required")}],children:(0,C.jsx)(g.A,{})})})]})})]})})}function q(){const{t:e}=(0,A.B)(),[t,l]=(0,n.useState)(null),[m,v]=(0,n.useState)(null),[j,x]=(0,n.useState)(!1),{setIsModalVisible:f}=(0,n.useContext)(s.o),{payments:g,loading:p}=(0,r.d4)((e=>e.payment),r.bN),{activeMenu:b}=(0,r.d4)((e=>e.menu),r.bN),y=(0,r.wA)(),_=[{title:e("title"),dataIndex:"tag",key:"tag"},{title:e("active"),dataIndex:"active",key:"active",render:(e,t)=>(0,C.jsx)(i.A,{onChange:()=>{f(!0),l(t.id)},checked:e})}];return(0,n.useEffect)((()=>{b.refetch&&(y((0,o.CK)()),y((0,u.km)(b)))}),[b.refetch]),(0,C.jsxs)(c.A,{headerTitle:e("payments"),children:[(0,C.jsx)(a.A,{scroll:{x:!0},columns:_,dataSource:g,rowKey:e=>e.id,loading:p,pagination:!1}),(0,C.jsx)(d.A,{click:function(){x(!0),h.A.setActive(t).then((()=>{f(!1),l(null),y((0,o.CK)())})).finally((()=>x(!1)))},text:e("set.active.payment"),loading:j}),m&&(0,C.jsx)(k,{modal:m,handleCancel:()=>v(null)})]})}},31281:(e,t,l)=>{function n(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"title";const n=null===e||void 0===e?void 0:e.map((e=>({[null===e||void 0===e?void 0:e.locale]:t[`${l}[${null===e||void 0===e?void 0:e.locale}]`]?t[`${l}[${null===e||void 0===e?void 0:e.locale}]`]:void 0})));return Object.assign({},...n)}l.d(t,{A:()=>n})},41064:(e,t,l)=>{function n(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["title"];if(null===t||void 0===t||!t.translations)return{};const{translations:n}=t,i=(e,t)=>{const l=null===n||void 0===n?void 0:n.find((t=>(null===t||void 0===t?void 0:t.locale)===(null===e||void 0===e?void 0:e.locale)));return l||{[t]:""}},a=e.flatMap((e=>l.flatMap((t=>({[`${t}[${null===e||void 0===e?void 0:e.locale}]`]:i(e,t)[t]})))));return Object.assign({},...a)}l.d(t,{A:()=>n})},53387:(e,t,l)=>{l.d(t,{A:()=>d});var n=l(89379),i=l(9950);const a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};var s=l(25085),c=function(e,t){return i.createElement(s.A,(0,n.A)((0,n.A)({},e),{},{ref:t,icon:a}))};c.displayName="PlusCircleOutlined";const d=i.forwardRef(c)},71999:(e,t,l)=>{l.d(t,{A:()=>r});var n=l(9950),i=l(17811),a=l(91854),s=l(82406),c=l(12437),d=l(44414);const r=()=>{const e=(0,a.wA)(),{languages:t,defaultLang:l}=(0,a.d4)((e=>e.formLang),a.bN);(0,n.useEffect)((()=>{c.A.getAllActive().then((t=>{let{data:l}=t;e((0,s.Nn)(l)),e((0,s.Qq)(l.find((e=>!(null===e||void 0===e||!e.default))).locale))}))}),[]);return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(i.Ay.Group,{value:l,onChange:t=>{let{target:{value:l}}=t;e((0,s.Qq)(l))},className:"float-right",buttonStyle:"solid",children:null===t||void 0===t?void 0:t.map((e=>(0,d.jsx)(i.Ay.Button,{value:e.locale,children:e.title},e.id)))})})}},84509:(e,t,l)=>{l.d(t,{A:()=>o});l(9950);var n=l(13564),i=l(23263),a=l(48538),s=l(91854),c=l(74623),d=l(53387),r=l(44414);const o=e=>{let{children:t,containerName:l,headerTitle:o,subtitle:u,navLInkTo:h,buttonTitle:A,state:m}=e;const v=(0,s.wA)(),j=(0,n.Zp)();return(0,r.jsx)("div",{className:l,children:(0,r.jsx)(i.A,{title:o,extra:A?(0,r.jsx)(a.A,{type:"primary",icon:(0,r.jsx)(d.A,{}),onClick:()=>{let e="";const t=h.split("");"/"===t[0]&&t.shift(),e=t.join("");const l={id:e,url:e,name:A};v((0,c.X4)(l)),j(h)},children:A}):null,children:t})})}}}]);