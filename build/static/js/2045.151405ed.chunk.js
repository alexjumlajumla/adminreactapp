"use strict";(self.webpackChunkjumlajumla_dashboard=self.webpackChunkjumlajumla_dashboard||[]).push([[2045],{10156:(l,e,i)=>{i.d(e,{A:()=>A});var n=i(9950),s=i(3969),d=i(32645),o=i(48538),t=i(87094),a=i(41988),r=i(99674),v=i(91854),c=i(57056),u=i(74623),m=i(70030),x=i(29514),h=i(47992),j=i(66209),p=i(80415),y=i(44414);function A(l){var e,i,A,g;let{orderDetails:b,handleCancel:f}=l;const{t:N}=(0,m.B)(),{activeMenu:_}=(0,v.d4)((l=>l.menu),v.bN),[k]=s.A.useForm(),w=(0,v.wA)(),[C,S]=(0,n.useState)(!1),I=p.HF.map((l=>({label:N(l),value:l,key:l})));(0,n.useEffect)((()=>{w((0,x.d8)({}))}),[]);return(0,y.jsx)(d.A,{visible:!!b,title:b.title,onCancel:f,footer:[(0,y.jsx)(o.A,{type:"primary",onClick:()=>k.submit(),loading:C,children:N("save")}),(0,y.jsx)(o.A,{type:"default",onClick:f,children:N("cancel")})],children:(0,y.jsx)(s.A,{form:k,layout:"vertical",onFinish:l=>{var e,i;const n={deliveryman:null===l||void 0===l||null===(e=l.deliveryman)||void 0===e?void 0:e.value,transaction_status:(null===l||void 0===l||null===(i=l.transaction_status)||void 0===i?void 0:i.value)||(null===l||void 0===l?void 0:l.transaction_status)||void 0};S(!0),c.A.updateDelivery(b.id,n).then((()=>{f(),w((0,u.Ms)(_))})).finally((()=>S(!1)))},initialValues:{deliveryman:{label:null===b||void 0===b||null===(e=b.deliveryman)||void 0===e?void 0:e.firstname,value:null===(i=b.deliveryman)||void 0===i?void 0:i.id,key:null===(A=b.deliveryman)||void 0===A?void 0:A.id},transaction_status:null===b||void 0===b||null===(g=b.transaction)||void 0===g?void 0:g.status},children:(0,y.jsxs)(t.A,{gutter:12,children:[(0,y.jsx)(a.A,{span:24,children:(0,y.jsx)(s.A.Item,{label:N("deliveryman"),name:"deliveryman",rules:[{required:!0,message:N("required")}],children:(0,y.jsx)(h.G,{fetchOptions:l=>{var e,i;const n={perPage:10,page:1,search:null!==l&&void 0!==l&&l.length?l:void 0,"address[latitude]":(null===b||void 0===b||null===(e=b.location)||void 0===e?void 0:e.latitude)||void 0,"address[longitude]":(null===b||void 0===b||null===(i=b.location)||void 0===i?void 0:i.longitude)||void 0};return j.A.getDeliverymans(n).then((l=>l.data.map((l=>({label:null===l||void 0===l?void 0:l.firstname,value:null===l||void 0===l?void 0:l.id})))))}})})}),(null===b||void 0===b?void 0:b.transaction)&&(0,y.jsx)(a.A,{span:24,children:(0,y.jsx)(s.A.Item,{label:N("transaction.status"),name:"transaction_status",children:(0,y.jsx)(r.A,{options:I})})})]})})})}},12970:(l,e,i)=>{function n(l){var e,i;let n=null===l||void 0===l?void 0:l.slice(0,1),s=null===l||void 0===l?void 0:l.lastIndexOf("@"),d=null===l||void 0===l?void 0:l.slice(1,s-1);d=null===(e=d)||void 0===e?void 0:e.replace(/./g,"*");let o=null===l||void 0===l?void 0:l.slice(s-1,l.length);return null===n||void 0===n||null===(i=n.concat(d))||void 0===i?void 0:i.concat(o)}i.d(e,{A:()=>n})},16503:(l,e,i)=>{i.d(e,{A:()=>p});var n=i(3969),s=i(87094),d=i(41988),o=i(99674),t=i(40895),a=i(80737),r=i(48538),v=i(70030),c=i(80415),u=i(9950),m=i(57056),x=i(91854),h=i(74623),j=i(44414);const p=l=>{let{data:e,onCancel:i,refreshOrders:p}=l;const[y]=n.A.useForm(),{t:A}=(0,v.B)(),g=(0,x.wA)(),{activeMenu:b}=(0,x.d4)((l=>l.menu),x.bN),[f,N]=(0,u.useState)(!1),_=c.HF.map((l=>({label:A(l),value:l,key:l})));return(0,j.jsx)(n.A,{form:y,layout:"vertical",initialValues:{status:e.status},onFinish:l=>{var n;const s={status:null===l||void 0===l||null===(n=l.status)||void 0===n?void 0:n.value,transaction_id:e.id};N(!0),m.A.updateTransactionStatus(e.payable_id,s).finally((()=>{N(!1),i(),p?p():g((0,h.Ms)(b))}))},children:(0,j.jsxs)(s.A,{gutter:12,children:[(0,j.jsx)(d.A,{span:24,children:(0,j.jsx)(n.A.Item,{label:A("status"),name:"status",rules:[{required:!0,message:A("required")}],children:(0,j.jsx)(o.A,{options:_,labelInValue:!0})})}),(0,j.jsx)(t.A,{}),(0,j.jsx)(d.A,{span:24,children:(0,j.jsxs)(a.A,{style:{display:"flex",justifyContent:"end"},children:[(0,j.jsx)(r.A,{onClick:i,children:A("cancel")}),(0,j.jsx)(r.A,{type:"primary",htmlType:"submit",loading:f,children:A("save")})]})})]})})}},29597:(l,e,i)=>{i.d(e,{A:()=>n});i(63620);function n(l){if(null===l||void 0===l||!l.location)return{lat:47.4143302506288,lng:8.532059477976883};const e=l.location.split(", ");return{lat:Number(null===e||void 0===e?void 0:e[0]),lng:Number(null===e||void 0===e?void 0:e[1])}}},41478:(l,e,i)=>{l.exports=i.p+"static/media/user.fbe7078c52acde79652d.jpg"},42220:(l,e,i)=>{i.d(e,{A:()=>F});var n=i(12403),s=i(86366),d=i(32645),o=i(48538),t=i(23263),a=i(87094),r=i(41988),v=i(12916),c=i(9950),u=i(70030),m=i(57056),x=i(81446),h=i(29949),j=i(91854),p=i(63620),y=i(41478),A=i(73631),g=i(29597),b=i(47965),f=i(50327),N=i(25495),_=i(38310),k=i(44414);const{Step:w}=s.A,C=()=>(0,k.jsx)("img",{src:y,width:"50",alt:"Pin"}),S=()=>(0,k.jsx)("img",{src:A,width:"50",alt:"Pin"}),I=["blue","red","gold","volcano","cyan","lime"],F=l=>{var e,i,y,A,F,M;let{id:Y,handleCancel:D}=l;const{t:q}=(0,u.B)(),[B,z]=(0,c.useState)(null),[H,T]=(0,c.useState)(null),[$,V]=(0,c.useState)(null),{settings:L}=(0,j.d4)((l=>l.globalSettings),j.bN),O=(0,g.A)(L),[E,Z]=(0,c.useState)(0),[G,P]=(0,c.useState)((0,g.A)(L)),[R,W]=(0,c.useState)((0,g.A)(L)),[J,K]=(0,c.useState)([{id:0,name:"new",icon:(0,k.jsx)(b.A,{})},{id:1,name:"accepted",icon:(0,k.jsx)(h.LW,{})},{id:2,name:"ready",icon:(0,k.jsx)(f.NtI,{})},{id:3,name:"on_a_way",icon:(0,k.jsx)(N.o2P,{})},{id:4,name:"delivered",icon:(0,k.jsx)(N.eDZ,{})}]);const{google_map_key:U}=(0,j.d4)((l=>l.globalSettings.settings),j.bN);(0,c.useEffect)((()=>{z(!0),m.A.getById(Y).then((l=>{var e;let{data:i}=l;K("canceled"===i.status?[{id:1,name:"new",icon:(0,k.jsx)(b.A,{})},{id:5,name:"canceled",icon:(0,k.jsx)(_.XfH,{})}]:J),Z("canceled"===i.status?1:null===(e=J.find((l=>l.name===i.status)))||void 0===e?void 0:e.id),V("canceled"===i.status?"error":"success"),T(i),W({lat:i.location.latitude,lng:i.location.longitude}),P({lat:i.shop.location.latitude,lng:i.shop.location.longitude})})).finally((()=>{z(!1)}))}),[]);return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(d.A,{visible:!!Y,title:q("show.locations"),closable:!0,onCancel:D,style:{minWidth:"80vw"},footer:[(0,k.jsx)(o.A,{type:"default",onClick:D,children:q("cancel")},"cancelBtn")],children:B?(0,k.jsx)(x.A,{}):(0,k.jsxs)(t.A,{children:[(0,k.jsx)(s.A,{current:E,status:$,className:"mb-5",children:null===J||void 0===J?void 0:J.map(((l,e)=>(0,k.jsx)(w,{title:q(l.name),icon:null===l||void 0===l?void 0:l.icon},l.id+e)))}),(0,k.jsxs)(a.A,{gutter:12,children:[(0,k.jsxs)(r.A,{span:12,children:[(0,k.jsxs)("h3",{children:[q("order.id")," #",null===H||void 0===H?void 0:H.id]}),(0,k.jsxs)("p",{children:[(0,k.jsx)(h.A5h,{})," ",null===H||void 0===H?void 0:H.created_at]}),(0,k.jsxs)("p",{children:[q("schedulet.at")," ",null===H||void 0===H?void 0:H.delivery_date]}),(0,k.jsxs)("span",{children:[(0,k.jsx)("strong",{children:null===H||void 0===H||null===(e=H.shop)||void 0===e||null===(i=e.translation)||void 0===i?void 0:i.title})," ",null===H||void 0===H||null===(y=H.details)||void 0===y?void 0:y.map(((l,e)=>{var i;return(0,k.jsx)(v.A,{className:"mb-2",color:I[e],children:null===l||void 0===l||null===(i=l.stock)||void 0===i?void 0:i.product.translation.title})}))]})]}),(0,k.jsxs)(r.A,{span:12,children:[(0,k.jsxs)("p",{children:[q("status")," ","new"===(null===H||void 0===H?void 0:H.status)?(0,k.jsx)(v.A,{color:"blue",children:q(null===H||void 0===H?void 0:H.status)}):"canceled"===(null===H||void 0===H?void 0:H.status)?(0,k.jsx)(v.A,{color:"error",children:q(null===H||void 0===H?void 0:H.status)}):(0,k.jsx)(v.A,{color:"cyan",children:q(null===H||void 0===H?void 0:H.status)})]}),(0,k.jsxs)("p",{children:[q("payment.method")," ",(0,k.jsx)("strong",{children:null===H||void 0===H||null===(A=H.transaction)||void 0===A||null===(F=A.payment_system)||void 0===F?void 0:F.tag})]}),(0,k.jsxs)("p",{children:[q("order.type")," ",(0,k.jsx)("strong",{children:null===H||void 0===H?void 0:H.delivery_type})]}),(0,k.jsxs)("p",{children:[q("payment.type")," ",(0,k.jsx)("strong",{children:null===H||void 0===H||null===(M=H.transaction)||void 0===M?void 0:M.status})]})]}),(0,k.jsxs)(r.A,{span:24,className:"mt-5",children:[(0,k.jsx)("h4",{children:q("map")}),(0,k.jsx)("div",{className:"map-container",style:{height:400,width:"100%"},children:(0,k.jsxs)(n.Ay,{bootstrapURLKeys:{key:p.CJ||U},defaultZoom:15,center:O,yesIWantToUseGoogleMapApiInternals:!0,options:{fullscreenControl:!1},onGoogleApiLoaded:l=>{let{map:e,maps:i}=l;const n=[G,R].map((l=>({lat:Number(l.lat||"0"),lng:Number(l.lng||"0")})));let s=new i.LatLngBounds;for(var d=0;d<n.length;d++)s.extend(n[d]);e.fitBounds(s)},children:[(0,k.jsx)(S,{lat:null===G||void 0===G?void 0:G.lat,lng:null===G||void 0===G?void 0:G.lng}),(0,k.jsx)(C,{lat:null===R||void 0===R?void 0:R.lat,lng:null===R||void 0===R?void 0:R.lng})]})})]})]})]})})})}},47992:(l,e,i)=>{i.d(e,{G:()=>r});var n=i(9950),s=i(95491),d=i.n(s),o=i(99674),t=i(90650),a=i(44414);const r=l=>{let{fetchOptions:e,debounceTimeout:i=400,onClear:s,...r}=l;const[v,c]=(0,n.useState)(!1),[u,m]=(0,n.useState)([]),x=(0,n.useMemo)((()=>d()((l=>{m([]),c(!0),e(l).then((l=>{m(l),c(!1)}))}),i)),[e,i]);return(0,a.jsx)(o.A,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:x,onClear:()=>{x(""),s&&s()},notFoundContent:v?(0,a.jsx)(t.A,{size:"small"}):"no results",...r,options:u,onFocus:()=>{x("")}})}},53774:(l,e,i)=>{i.d(e,{A:()=>s});var n=i(83291);function s(){var l,e;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1?arguments[1]:void 0,d=arguments.length>2?arguments[2]:void 0;const o=null===(l=n.M.getState())||void 0===l||null===(e=l.currency)||void 0===e?void 0:e.defaultCurrency,t=Number(i).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),a=s||(null===o||void 0===o?void 0:o.symbol)||"$";return"after"===(d||(null===o||void 0===o?void 0:o.position)||"before")?`${t} ${a}`:`${a} ${t}`}},69447:(l,e,i)=>{i.d(e,{A:()=>p});var n=i(9950),s=i(3969),d=i(32645),o=i(48538),t=i(87094),a=i(41988),r=i(99674),v=i(91854),c=i(70030),u=i(57056),m=i(74623),x=i(80415),h=i(13564),j=i(44414);function p(l){var e;let{orderDetails:i,handleCancel:p}=l;const{t:y}=(0,c.B)(),A=(0,h.Zp)(),[g]=s.A.useForm(),b=(0,v.wA)(),{activeStatusList:f}=(0,v.d4)((l=>l.orderStatus),v.bN),{activeMenu:N}=(0,v.d4)((l=>l.menu),v.bN),_=(0,v.d4)((l=>l.globalSettings.settings),v.bN);console.log("activeStatusList",f);const[k,w]=(0,n.useState)(!1),[C,S]=(0,n.useState)([{id:0,name:"all",active:!0,sort:0},...f,{id:(null===f||void 0===f?void 0:f.length)+1,name:"canceled",active:!0,sort:8}]),I=x.HF.map((l=>({label:y(l),value:l,key:l})));(0,n.useEffect)((()=>{var l;const e=C.findIndex((l=>(null===l||void 0===l?void 0:l.name)===(null===i||void 0===i?void 0:i.status)));let n=[C[e],C[e+1],C[(null===f||void 0===f?void 0:f.length)+1]];e<0&&(n=[C[e+1],C[(null===f||void 0===f?void 0:f.length)+1]]),null===(l=n)||void 0===l||l.map(((l,e,n)=>{(null===l||void 0===l?void 0:l.name)===(null===i||void 0===i?void 0:i.status)&&S(n.slice(e))}))}),[i]);return(0,j.jsx)(d.A,{visible:!!i,title:i.title,onCancel:p,footer:[(0,j.jsx)(o.A,{type:"primary",onClick:()=>g.submit(),loading:k,children:y("save")}),(0,j.jsx)(o.A,{type:"default",onClick:p,children:y("cancel")})],children:(0,j.jsx)(s.A,{form:g,layout:"vertical",onFinish:l=>{var e,n;w(!0);const s={status:(null===l||void 0===l||null===(e=l.status)||void 0===e?void 0:e.value)||(null===l||void 0===l?void 0:l.status),transaction_status:(null===l||void 0===l||null===(n=l.transaction_status)||void 0===n?void 0:n.value)||(null===l||void 0===l?void 0:l.transaction_status)||void 0};u.A.updateStatus(i.id,s).then((l=>{var e,i;"accepted"===(null===l||void 0===l||null===(e=l.data)||void 0===e?void 0:e.status)&&"1"===(null===_||void 0===_?void 0:_.auto_print_order)?(l=>{const e=`seller/generate-invoice/${l}`;b((0,m.X4)({url:e,id:"seller-generate-invoice ",name:y("generate.invoice")})),A(`/${e}?print=true`)})(null===l||void 0===l||null===(i=l.data)||void 0===i?void 0:i.id):(p(),b((0,m.Ms)(N)))})).finally((()=>w(!1)))},initialValues:{status:i.status,transaction_status:null===i||void 0===i||null===(e=i.transaction)||void 0===e?void 0:e.status},children:(0,j.jsxs)(t.A,{gutter:12,children:[(0,j.jsx)(a.A,{span:24,children:(0,j.jsx)(s.A.Item,{label:y("status"),name:"status",rules:[{required:!0,message:y("required")}],children:(0,j.jsx)(r.A,{children:null===C||void 0===C?void 0:C.map((l=>(0,j.jsx)(r.A.Option,{value:l.name,children:y(l.name)},l.id)))})})}),(null===i||void 0===i?void 0:i.transaction)&&(0,j.jsx)(a.A,{span:24,children:(0,j.jsx)(s.A.Item,{label:y("transaction.status"),name:"transaction_status",children:(0,j.jsx)(r.A,{options:I})})})]})})})}},73631:(l,e,i)=>{l.exports=i.p+"static/media/shop.46d7a94ca800c711764a.png"},80415:(l,e,i)=>{i.d(e,{Av:()=>v,HF:()=>s,HV:()=>a,LH:()=>n,No:()=>t,Qt:()=>o,fz:()=>r,g$:()=>d});const n={new:[1,2,3,4,5],accepted:[1,2,3,4,5],ready:[1,2,3,4,5],on_a_way:[1,2,3,4,5],delivered:[1,2,3,4,5],canceled:[1,2,3,4,5],cooking:[1,2,3,4,5]},s=["progress","paid","canceled","rejected","refund"],d=["before","after"],o=["blue","red","gold","volcano","cyan","lime"],t=["new","accepted","cooking","ready","ended"],a=["new","accepted","cooking","ready","on_a_way","delivered","canceled"],r=["dine_in","delivery","pickup"],v=["male","female"]},82045:(l,e,i)=>{i.r(e),i.d(e,{default:()=>U});var n=i(9950),s=i(80737),d=i(12916),o=i(23263),t=i(48538),a=i(87094),r=i(41988),v=i(66362),c=i(74522),u=i(86366),m=i(90650),x=i(12203),h=i(20978),j=i(14936),p=i(74947),y=i(32645),A=i(24513),g=i(81419),b=i(13564),f=i(26689),N=i(57056),_=i(91854),k=i(74623),w=i(29514),C=i(70030),S=i(53774),I=i(90352),F=i(29949),M=i(50327),Y=i(63620),D=i(52423),q=i(16339),B=i(25495),z=i(59051),H=i.n(z),T=i(13311),$=i(12970),V=i(88810),L=i(69447),O=i(10156),E=i(42220),Z=i(3969),G=i(99674),P=i(40895),R=i(80415),W=i(44414);const J=l=>{let{orderDetailId:e,status:i,handleCancel:d}=l;const{t:o}=(0,C.B)(),[v]=Z.A.useForm(),c=(0,_.wA)(),{activeMenu:u}=(0,_.d4)((l=>l.menu),_.bN),[m,x]=(0,n.useState)(!1),h=R.No.map((l=>({label:o(l),value:l,key:l})));return(0,W.jsxs)(Z.A,{layout:"vertical",form:v,initialValues:{status:h.find((l=>(null===l||void 0===l?void 0:l.value)===i))},onFinish:l=>{var i;const n={status:null===l||void 0===l||null===(i=l.status)||void 0===i?void 0:i.value};x(!0),N.A.updateOrderDetailStatus(e,n).then((()=>{d(),c((0,k.Ms)(u))})).finally((()=>{x(!1)}))},children:[(0,W.jsx)(a.A,{gutter:12,children:(0,W.jsx)(r.A,{span:24,children:(0,W.jsx)(Z.A.Item,{name:"status",label:o("status"),rules:[{required:!0,message:o("required")}],children:(0,W.jsx)(G.A,{labelInValue:!0,options:h})})})}),(0,W.jsx)(P.A,{}),(0,W.jsxs)(s.A,{children:[(0,W.jsx)(t.A,{onClick:d,children:o("cancel")}),(0,W.jsx)(t.A,{type:"primary",htmlType:"submit",loading:m,children:o("save")})]})]})};var K=i(16503);function U(){var l,e,i,z,Z,G,P,R,U,X,Q,ll,el,il,nl,sl,dl,ol,tl,al,rl,vl,cl,ul,ml,xl,hl,jl,pl,yl,Al,gl,bl,fl,Nl,_l,kl,wl,Cl,Sl,Il;const{activeMenu:Fl}=(0,_.d4)((l=>l.menu),_.bN),{defaultCurrency:Ml}=(0,_.d4)((l=>l.currency),_.bN),{statusList:Yl}=(0,_.d4)((l=>l.orderStatus),_.bN),Dl=null===Fl||void 0===Fl||null===(l=Fl.data)||void 0===l?void 0:l.data,{t:ql}=(0,C.B)(),{id:Bl}=(0,b.g)(),zl=(0,_.wA)(),Hl=(0,n.useRef)(),Tl=(0,n.useRef)(),{isDemo:$l}=(0,T.A)(),[Vl,Ll]=(0,n.useState)(!1),[Ol,El]=(0,n.useState)(null),[Zl,Gl]=(0,n.useState)(null),[Pl,Rl]=(0,n.useState)(null),[Wl,Jl]=(0,n.useState)(null),[Kl,Ul]=(0,n.useState)(null),{myShop:Xl}=(0,_.d4)((l=>l.myShop),_.bN),Ql=[{title:ql("id"),dataIndex:"id",key:"id",render:(l,e)=>{var i;return null===(i=e.stock)||void 0===i?void 0:i.id}},{title:ql("product.name"),dataIndex:"product",key:"product",render:(l,e)=>{var i,n,o,t,a,r;return(0,W.jsxs)(s.A,{direction:"vertical",className:"relative",children:[null===(i=e.stock)||void 0===i||null===(n=i.product)||void 0===n||null===(o=n.translation)||void 0===o?void 0:o.title,null===(t=e.stock)||void 0===t||null===(a=t.extras)||void 0===a?void 0:a.map((l=>(0,W.jsx)(d.A,{children:null===l||void 0===l?void 0:l.value},l.id))),null===(r=e.addons)||void 0===r?void 0:r.map((l=>{var e,i,n;return(0,W.jsxs)(d.A,{children:[null===(e=l.stock)||void 0===e||null===(i=e.product)||void 0===i||null===(n=i.translation)||void 0===n?void 0:n.title," x ",l.quantity]},l.id)}))]})}},{title:ql("image"),dataIndex:"stock",key:"stock",render:(l,e)=>{var i;return(0,W.jsx)(V.A,{image:null===l||void 0===l||null===(i=l.product)||void 0===i?void 0:i.img,row:e})}},{title:ql("kitchen"),dataIndex:"kitchen",key:"kitchen",render:(l,e)=>{var i;return(null===l||void 0===l||null===(i=l.translation)||void 0===i?void 0:i.title)||ql("N/A")}},{title:ql("status"),dataIndex:"status",key:"status",is_show:!0,render:(l,e)=>(0,W.jsxs)(s.A,{children:["new"===l?(0,W.jsx)(d.A,{color:"blue",children:ql(l)}):"ended"===l?(0,W.jsx)(d.A,{color:"red",children:ql(l)}):"cooking"===l?(0,W.jsx)(d.A,{color:"yellow",children:ql(l)}):(0,W.jsx)(d.A,{color:"green",children:ql(l)}),(0,W.jsx)(A.A,{onClick:()=>Jl(e)})]})},{title:ql("price"),dataIndex:"origin_price",key:"origin_price",render:l=>(0,S.A)(l,null===Ml||void 0===Ml?void 0:Ml.symbol,null===Ml||void 0===Ml?void 0:Ml.symbol)},{title:ql("quantity"),dataIndex:"quantity",key:"quantity",render:(l,e)=>{var i,n,s,d,o,t,a,r;return(0,W.jsxs)("span",{children:[(null!==(i=null===e||void 0===e?void 0:e.quantity)&&void 0!==i?i:1)*(null!==(n=null===e||void 0===e||null===(s=e.stock)||void 0===s||null===(d=s.product)||void 0===d?void 0:d.interval)&&void 0!==n?n:1),null===e||void 0===e||null===(o=e.stock)||void 0===o||null===(t=o.product)||void 0===t||null===(a=t.unit)||void 0===a||null===(r=a.translation)||void 0===r?void 0:r.title]})}},{title:ql("discount"),dataIndex:"discount",key:"discount",render:function(){var l;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1?arguments[1]:void 0;return(0,S.A)((null!==e&&void 0!==e?e:0)/(null!==(l=null===i||void 0===i?void 0:i.quantity)&&void 0!==l?l:1),null===Ml||void 0===Ml?void 0:Ml.symbol,null===Ml||void 0===Ml?void 0:Ml.symbol)}},{title:ql("tax"),dataIndex:"tax",key:"tax",render:(l,e)=>{var i;return(0,S.A)((null!==l&&void 0!==l?l:0)/(null!==(i=null===e||void 0===e?void 0:e.quantity)&&void 0!==i?i:1),null===Ml||void 0===Ml?void 0:Ml.symbol,null===Ml||void 0===Ml?void 0:Ml.symbol)}},{title:ql("total.price"),dataIndex:"total_price",key:"total_price",render:(l,e)=>{var i;const n=(null!==l&&void 0!==l?l:0)+(null===e||void 0===e||null===(i=e.addons)||void 0===i?void 0:i.reduce(((l,e)=>{var i;return l+(null!==(i=null===e||void 0===e?void 0:e.total_price)&&void 0!==i?i:0)}),0));return(0,S.A)(n,null===Ml||void 0===Ml?void 0:Ml.symbol,null===Ml||void 0===Ml?void 0:Ml.position)}},{title:ql("payment.status"),dataIndex:"transaction_status",key:"transaction_status",is_show:!0,render:l=>(0,W.jsx)(d.A,{color:"paid"===l?"green":"progress"===l?"yellow":"red",children:ql(l||"N/A")})},{title:ql("note"),dataIndex:"note",key:"note",render:l=>l||ql("N/A")}],le=[{title:ql("type"),key:"payment_type",render:l=>{var e;return(0,W.jsx)("span",{children:ql((null===(e=l.payment_system)||void 0===e?void 0:e.tag)||"N/A")})}},{title:ql("amount"),key:"amount",render:l=>(0,W.jsx)("span",{children:(0,S.A)(l.price,null===Ml||void 0===Ml?void 0:Ml.symbol)})},{title:ql("status"),key:"status",render:l=>(0,W.jsxs)("span",{children:[(0,W.jsx)(d.A,{children:ql(l.status||"N/A")}),!!l&&"split"!==l.status&&(0,W.jsx)(A.A,{onClick:()=>Ul(l)})]})}],ee=[{title:ql("date"),dataIndex:"date",key:"date",render:(l,e)=>null!==e&&void 0!==e&&e.date?H()(null===e||void 0===e?void 0:e.date).format("YYYY-MM-DD HH:mm"):ql("N/A")},{title:ql("document"),dataIndex:"document",key:"document"},{title:ql("number"),dataIndex:"number",key:"number"},{title:ql("total.price"),dataIndex:"price",key:"price"}],ie=[{price:(0,S.A)(null===Dl||void 0===Dl?void 0:Dl.total_price,Ml.symbol,null===Ml||void 0===Ml?void 0:Ml.symbol),number:(0,W.jsxs)(f.N_,{to:`/seller/generate-invoice/${null===Dl||void 0===Dl?void 0:Dl.id}`,children:["#",null===Dl||void 0===Dl?void 0:Dl.id]}),document:ql("invoice"),date:H()(null===Dl||void 0===Dl||null===(e=Dl.transaction)||void 0===e?void 0:e.created_at).format("YYYY-MM-DD HH:mm")},{price:"-",number:(0,W.jsxs)(f.N_,{to:`/seller/generate-invoice/${null===Dl||void 0===Dl?void 0:Dl.id}`,children:["#",null===Dl||void 0===Dl?void 0:Dl.id]}),document:ql("delivery.reciept"),date:H()(null===Dl||void 0===Dl||null===(i=Dl.transaction)||void 0===i?void 0:i.created_at).format("YYYY-MM-DD HH:mm")}],ne=()=>{El(null),Gl(null),Rl(null)};(0,n.useEffect)((()=>{const l={shop_id:Xl.id};Fl.refetch&&(Ll(!0),N.A.getById(Bl).then((l=>{let{data:e}=l;const i=null===e||void 0===e?void 0:e.currency,n=null===e||void 0===e?void 0:e.user,s=null===e||void 0===e?void 0:e.id,d=null===e||void 0===e?void 0:e.price,o=null===e||void 0===e?void 0:e.created_at,t=null===e||void 0===e?void 0:e.details.map((l=>{var e,i;return{...l,title:null===l||void 0===l||null===(e=l.shop)||void 0===e||null===(i=e.translation)||void 0===i?void 0:i.title}}));zl((0,k.Ok)({activeMenu:Fl,data:{details:t,currency:i,user:n,id:s,createdAt:o,price:d,data:e}}))})).finally((()=>{Ll(!1),zl((0,k.km)(Fl))})),zl((0,I.nr)({})),zl((0,w.d8)(l)))}),[Fl.refetch]);return(0,W.jsxs)("div",{className:"order_details",children:[(0,W.jsx)(o.A,{className:"order-details-info",title:(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(q.iHs,{className:"mr-2 icon"}),`${ql("order")} ${null!==Dl&&void 0!==Dl&&Dl.id?`#${null===Dl||void 0===Dl?void 0:Dl.id} `:""}`," ",ql("from.order")," ",null===Dl||void 0===Dl||null===(z=Dl.user)||void 0===z?void 0:z.firstname," ",(null===Dl||void 0===Dl||null===(Z=Dl.user)||void 0===Z?void 0:Z.lastname)||""]}),extra:"delivered"!==(null===Dl||void 0===Dl?void 0:Dl.status)&&"canceled"!==(null===Dl||void 0===Dl?void 0:Dl.status)&&(0,W.jsx)(s.A,{children:"delivered"!==(null===Dl||void 0===Dl?void 0:Dl.status)&&"canceled"!==(null===Dl||void 0===Dl?void 0:Dl.status)&&(0,W.jsx)(t.A,{type:"primary",onClick:()=>El(Dl),children:ql("change.status")})})}),(0,W.jsxs)(a.A,{gutter:24,children:[(0,W.jsx)(r.A,{span:24,children:(0,W.jsx)(o.A,{children:(0,W.jsxs)(s.A,{className:"justify-content-between w-100",children:[(0,W.jsxs)(s.A,{className:"align-items-start",children:[(0,W.jsx)(g.A,{className:"order-card-icon"}),(0,W.jsxs)("div",{className:"d-flex flex-column",children:[(0,W.jsx)(v.A.Text,{children:ql("delivery.date")}),Vl?(0,W.jsx)(c.A.Button,{size:16}):(0,W.jsxs)(v.A.Text,{className:"order-card-title",children:[null===Dl||void 0===Dl?void 0:Dl.delivery_date," ",null===Dl||void 0===Dl?void 0:Dl.delivery_time]})]})]}),(0,W.jsxs)(s.A,{className:"align-items-start",onClick:()=>{var l;return null===(l=Hl.current)||void 0===l?void 0:l.scrollIntoView({behavior:"smooth"})},children:[(0,W.jsx)(D.aOb,{className:"order-card-icon"}),(0,W.jsxs)("div",{className:"d-flex flex-column",children:[(0,W.jsx)(v.A.Text,{children:ql("total.price")}),Vl?(0,W.jsx)(c.A.Button,{size:16,loading:Vl}):(0,W.jsx)(v.A.Text,{className:"order-card-title",children:(0,S.A)(null===Dl||void 0===Dl?void 0:Dl.total_price,null===Ml||void 0===Ml?void 0:Ml.symbol,null===Ml||void 0===Ml?void 0:Ml.symbol)})]})]}),(0,W.jsxs)(s.A,{className:"align-items-start",children:[(0,W.jsx)(D.j6C,{className:"order-card-icon"}),(0,W.jsxs)("div",{className:"d-flex flex-column",children:[(0,W.jsx)(v.A.Text,{children:ql("messages")}),Vl?(0,W.jsx)(c.A.Button,{size:16}):(0,W.jsx)(v.A.Text,{className:"order-card-title",children:null!==Dl&&void 0!==Dl&&Dl.review?1:0})]})]}),(0,W.jsxs)(s.A,{className:"align-items-start",onClick:()=>Tl.current.scrollIntoView({behavior:"smooth"}),children:[(0,W.jsx)(q.iHs,{className:"order-card-icon"}),(0,W.jsxs)("div",{className:"d-flex flex-column",children:[(0,W.jsx)(v.A.Text,{children:ql("products")}),Vl?(0,W.jsx)(c.A.Button,{size:16}):(0,W.jsx)(v.A.Text,{className:"order-card-title",children:null===Dl||void 0===Dl||null===(G=Dl.details)||void 0===G?void 0:G.reduce(((l,e)=>l+e.quantity),0)})]})]})]})})}),"canceled"!==(null===Dl||void 0===Dl?void 0:Dl.status)&&(0,W.jsx)(r.A,{span:24,children:(0,W.jsx)(o.A,{children:(0,W.jsx)(u.A,{current:null===Yl||void 0===Yl?void 0:Yl.findIndex((l=>l.name===(null===Dl||void 0===Dl?void 0:Dl.status))),children:null===Yl||void 0===Yl?void 0:Yl.slice(0,-1).map((l=>(0,W.jsx)(u.A.Step,{title:ql(l.name)},l.id)))})})}),(0,W.jsxs)(r.A,{span:16,children:[(0,W.jsx)(m.A,{spinning:Vl,children:(0,W.jsx)(o.A,{style:{minHeight:"200px"},children:(0,W.jsxs)(a.A,{hidden:Vl,className:"mb-3 order_detail",children:[(0,W.jsxs)(r.A,{span:12,children:[(0,W.jsxs)("div",{children:[ql("created.date.&.time"),":",(0,W.jsxs)("span",{className:"ml-2",children:[(0,W.jsx)(F.cCc,{className:"mr-1"})," ",H()(null===Dl||void 0===Dl?void 0:Dl.created_at).format("YYYY-MM-DD HH:mm")," "]})]}),(0,W.jsx)("br",{}),"dine_in"===(null===Dl||void 0===Dl?void 0:Dl.delivery_type)&&(0,W.jsxs)(W.Fragment,{children:[(0,W.jsxs)("div",{children:[ql("table"),":",(0,W.jsx)("span",{className:"ml-2",children:null===Dl||void 0===Dl||null===(P=Dl.table)||void 0===P?void 0:P.name})]}),(0,W.jsx)("br",{}),(0,W.jsx)("span",{children:ql("payments")}),(0,W.jsx)(x.A,{columns:le,dataSource:null===Dl||void 0===Dl?void 0:Dl.transactions,pagination:!1})]}),"dine_in"!==(null===Dl||void 0===Dl?void 0:Dl.delivery_type)&&(0,W.jsxs)(W.Fragment,{children:[(0,W.jsxs)("div",{children:[ql("delivery.date.&.time"),":",(0,W.jsxs)("span",{className:"ml-2",children:[(0,W.jsx)(F.cCc,{className:"mr-1"})," ",null===Dl||void 0===Dl?void 0:Dl.delivery_date," ",null===Dl||void 0===Dl?void 0:Dl.delivery_time]})]}),(0,W.jsx)("br",{}),(0,W.jsxs)("div",{children:[ql("house"),":",(0,W.jsx)("span",{className:"ml-2",children:ql(null===Dl||void 0===Dl||null===(R=Dl.address)||void 0===R?void 0:R.house)})]}),(0,W.jsx)("br",{}),(0,W.jsxs)("div",{children:[ql("floor"),":",(0,W.jsx)("span",{className:"ml-2",children:ql(null===Dl||void 0===Dl||null===(U=Dl.address)||void 0===U?void 0:U.floor)})]}),(0,W.jsx)("br",{}),(0,W.jsx)("span",{children:ql("payments")}),(0,W.jsx)(x.A,{columns:le,dataSource:null===Dl||void 0===Dl?void 0:Dl.transactions,pagination:!1}),(0,W.jsxs)(d.A,{className:"map_show mt-3",onClick:()=>Rl(Bl),children:[(0,W.jsx)(M.gwi,{})," ",ql("show.locations")]})]})]}),(0,W.jsxs)(r.A,{span:12,children:[(0,W.jsxs)("div",{children:[ql("status"),":",(0,W.jsx)("span",{className:"ml-2",children:"new"===(null===Dl||void 0===Dl?void 0:Dl.status)?(0,W.jsx)(d.A,{color:"blue",children:ql(null===Dl||void 0===Dl?void 0:Dl.status)}):"canceled"===(null===Dl||void 0===Dl?void 0:Dl.status)?(0,W.jsx)(d.A,{color:"error",children:ql(null===Dl||void 0===Dl?void 0:Dl.status)}):(0,W.jsx)(d.A,{color:"cyan",children:ql(null===Dl||void 0===Dl?void 0:Dl.status)})})]}),(0,W.jsx)("br",{}),(0,W.jsxs)("div",{children:[ql("delivery.type"),":",(0,W.jsx)("span",{className:"ml-2",children:null===Dl||void 0===Dl?void 0:Dl.delivery_type})]}),"dine_in"!==(null===Dl||void 0===Dl?void 0:Dl.delivery_type)&&(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)("br",{}),(0,W.jsxs)("div",{children:[ql("payment.type"),":",(0,W.jsx)("span",{className:"ml-2",children:ql(null===Dl||void 0===Dl||null===(X=Dl.transaction)||void 0===X||null===(Q=X.payment_system)||void 0===Q?void 0:Q.tag)})]}),(0,W.jsx)("br",{}),(0,W.jsxs)("div",{children:[ql("address"),":",(0,W.jsx)("span",{className:"ml-2",children:null===Dl||void 0===Dl||null===(ll=Dl.address)||void 0===ll?void 0:ll.address})]}),(0,W.jsx)("br",{}),(0,W.jsxs)("div",{children:[ql("office"),":",(0,W.jsx)("span",{className:"ml-2",children:null===Dl||void 0===Dl||null===(el=Dl.address)||void 0===el?void 0:el.office})]}),(0,W.jsx)("br",{}),(0,W.jsxs)("div",{children:[ql("otp"),":",(0,W.jsx)("span",{className:"ml-2",children:null!==(il=null===Dl||void 0===Dl?void 0:Dl.otp)&&void 0!==il?il:ql("N/A")})]})]})]})]})})}),!(null===Dl||void 0===Dl||!Dl.image_after_delivered)&&(0,W.jsx)(o.A,{title:ql("order.image"),children:(0,W.jsx)("div",{style:{width:"200px",height:"200px",overflow:"hidden"},children:(0,W.jsx)(h.A,{src:null===Dl||void 0===Dl?void 0:Dl.image_after_delivered,style:{objectFit:"contain"},height:"200px"})})}),"dine_in"!==(null===Dl||void 0===Dl?void 0:Dl.delivery_type)&&(0,W.jsx)(o.A,{title:ql("documents"),children:(0,W.jsx)(x.A,{columns:ee,dataSource:ie,pagination:!1,loading:Vl})}),(0,W.jsxs)(o.A,{className:"w-100 order-table",children:[(0,W.jsx)(x.A,{ref:Tl,scroll:{x:!0},columns:Ql,dataSource:(null===(nl=Fl.data)||void 0===nl?void 0:nl.details)||[],loading:Vl,rowKey:l=>l.id,pagination:!1}),(0,W.jsxs)(s.A,{size:100,className:"d-flex justify-content-end w-100 order-table__summary",children:[(0,W.jsxs)("div",{children:[(0,W.jsxs)("span",{children:[ql("delivery.fee"),":"]}),(0,W.jsx)("br",{}),(0,W.jsxs)("span",{children:[ql("order.tax"),":"]}),(0,W.jsx)("br",{}),(0,W.jsxs)("span",{children:[ql("product"),":"]}),(0,W.jsx)("br",{}),(0,W.jsxs)("span",{children:[ql("discount"),":"]}),(0,W.jsx)("br",{}),(null===Dl||void 0===Dl?void 0:Dl.coupon)&&(0,W.jsxs)(W.Fragment,{children:[(0,W.jsxs)("span",{children:[ql("coupon"),":"]}),(0,W.jsx)("br",{})]}),(0,W.jsxs)("span",{children:[ql("service.fee"),":"]}),(0,W.jsx)("br",{}),(0,W.jsxs)("span",{children:[ql("tips"),":"]}),(0,W.jsx)("br",{}),(0,W.jsxs)("h3",{children:[ql("total.price"),":"]})]}),(0,W.jsxs)("div",{children:[(0,W.jsx)("span",{children:(0,S.A)(null===Dl||void 0===Dl?void 0:Dl.delivery_fee,null===Ml||void 0===Ml?void 0:Ml.symbol,null===Ml||void 0===Ml?void 0:Ml.symbol)}),(0,W.jsx)("br",{}),(0,W.jsx)("span",{children:(0,S.A)(null===Dl||void 0===Dl?void 0:Dl.tax,null===Ml||void 0===Ml?void 0:Ml.symbol,null===Ml||void 0===Ml?void 0:Ml.symbol)}),(0,W.jsx)("br",{}),(0,W.jsx)("span",{children:(0,S.A)(null===Dl||void 0===Dl?void 0:Dl.origin_price,null===Ml||void 0===Ml?void 0:Ml.symbol,null===Ml||void 0===Ml?void 0:Ml.symbol)}),(0,W.jsx)("br",{}),(0,W.jsx)("span",{children:(0,S.A)(null===Dl||void 0===Dl?void 0:Dl.total_discount,null===Ml||void 0===Ml?void 0:Ml.symbol,null===Ml||void 0===Ml?void 0:Ml.symbol)}),(0,W.jsx)("br",{}),(null===Dl||void 0===Dl?void 0:Dl.coupon)&&(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)("span",{children:(0,S.A)(null===Dl||void 0===Dl||null===(sl=Dl.coupon)||void 0===sl?void 0:sl.price,null===Ml||void 0===Ml?void 0:Ml.symbol,null===Ml||void 0===Ml?void 0:Ml.symbol)}),(0,W.jsx)("br",{})]}),(0,W.jsx)("span",{children:(0,S.A)(null===Dl||void 0===Dl?void 0:Dl.service_fee,null===Ml||void 0===Ml?void 0:Ml.symbol,null===Ml||void 0===Ml?void 0:Ml.symbol)}),(0,W.jsx)("br",{}),(0,W.jsx)("span",{children:(0,S.A)(null===Dl||void 0===Dl?void 0:Dl.tips,null===Ml||void 0===Ml?void 0:Ml.symbol,null===Ml||void 0===Ml?void 0:Ml.position)}),(0,W.jsx)("br",{}),(0,W.jsx)("h3",{ref:Hl,children:(0,S.A)(null===Dl||void 0===Dl?void 0:Dl.total_price,null===Ml||void 0===Ml?void 0:Ml.symbol,null===Ml||void 0===Ml?void 0:Ml.symbol)})]})]})]})]}),(0,W.jsxs)(r.A,{span:8,className:"order_info",children:["dine_in"!==(null===Dl||void 0===Dl?void 0:Dl.delivery_type)&&(0,W.jsxs)(W.Fragment,{children:["delivery"===(null===Dl||void 0===Dl?void 0:Dl.delivery_type)&&(0,W.jsxs)(o.A,{title:ql("deliveryman"),extra:"ready"===(null===Dl||void 0===Dl?void 0:Dl.status)&&"pickup"!==(null===Dl||void 0===Dl?void 0:Dl.delivery_type)&&(0,W.jsxs)(t.A,{onClick:()=>Gl(Dl),children:[ql("change"),(0,W.jsx)(A.A,{})]}),children:["new"===(null===Dl||void 0===Dl?void 0:Dl.status)||"accepted"===(null===Dl||void 0===Dl?void 0:Dl.status)?(0,W.jsx)("p",{children:ql("order_status_ready")}):"","new"===(null===Dl||void 0===Dl?void 0:Dl.status)||"accepted"===(null===Dl||void 0===Dl?void 0:Dl.status)||null!==Dl&&void 0!==Dl&&Dl.deliveryman?"":(0,W.jsx)("p",{children:ql("The supplier is not assigned or delivery type pickup")}),(null===Dl||void 0===Dl?void 0:Dl.deliveryman)&&(0,W.jsxs)(s.A,{children:[(0,W.jsx)(j.A,{shape:"square",size:64,src:Y.sE+(null===Dl||void 0===Dl||null===(dl=Dl.deliveryman)||void 0===dl?void 0:dl.img)}),(0,W.jsxs)("div",{children:[(0,W.jsx)("h5",{children:(null===Dl||void 0===Dl||null===(ol=Dl.deliveryman)||void 0===ol?void 0:ol.firstname)+" "+(null===Dl||void 0===Dl||null===(tl=Dl.deliveryman)||void 0===tl?void 0:tl.lastname)}),(0,W.jsxs)("span",{className:"delivery-info",children:[(0,W.jsx)(F.s91,{}),null===Dl||void 0===Dl||null===(al=Dl.deliveryman)||void 0===al?void 0:al.phone]}),(0,W.jsxs)("div",{className:"delivery-info",children:[(0,W.jsx)("b",{children:(0,W.jsx)(M.mm2,{size:16})}),(0,W.jsx)("span",{children:$l?(0,$.A)(null===Dl||void 0===Dl||null===(rl=Dl.deliveryman)||void 0===rl?void 0:rl.email):null===Dl||void 0===Dl||null===(vl=Dl.deliveryman)||void 0===vl?void 0:vl.email})]})]})]})]}),!(null===Dl||void 0===Dl||!Dl.username)&&(0,W.jsxs)(o.A,{title:ql("order.receiver"),children:[(0,W.jsxs)("div",{className:"customer-info",children:[(0,W.jsx)("span",{className:"title",children:ql("name")}),(0,W.jsxs)("span",{className:"description",children:[(0,W.jsx)(F.tVJ,{}),null===Dl||void 0===Dl?void 0:Dl.username]})]}),(0,W.jsxs)("div",{className:"customer-info",children:[(0,W.jsx)("span",{className:"title",children:ql("phone")}),(0,W.jsxs)("span",{className:"description",children:[(0,W.jsx)(F.s91,{}),null===Dl||void 0===Dl?void 0:Dl.phone]})]})]}),!(null===Dl||void 0===Dl||!Dl.user)&&(0,W.jsx)(o.A,{children:(0,W.jsxs)("div",{className:"d-flex w-100 customer-info-container",children:[Vl?(0,W.jsx)(c.A.Avatar,{size:64,shape:"square"}):(0,W.jsx)(j.A,{shape:"square",size:64,src:null===Dl||void 0===Dl||null===(cl=Dl.user)||void 0===cl?void 0:cl.img}),(0,W.jsx)("h5",{className:"customer-name",children:Vl?(0,W.jsx)(c.A.Button,{size:20,style:{width:70}}):(null===Dl||void 0===Dl||null===(ul=Dl.user)||void 0===ul?void 0:ul.firstname)+" "+((null===Dl||void 0===Dl||null===(ml=Dl.user)||void 0===ml?void 0:ml.lastname)||"")}),(0,W.jsxs)("div",{className:"customer-info-detail",children:[(0,W.jsxs)("div",{className:"customer-info",children:[(0,W.jsx)("span",{className:"title",children:ql("phone")}),(0,W.jsxs)("span",{className:"description",children:[(0,W.jsx)(F.s91,{}),Vl?(0,W.jsx)(c.A.Button,{size:16}):(null===Dl||void 0===Dl||null===(xl=Dl.user)||void 0===xl?void 0:xl.phone)||"none"]})]}),(0,W.jsxs)("div",{className:"customer-info",children:[(0,W.jsx)("span",{className:"title",children:ql("email")}),(0,W.jsxs)("span",{className:"description",children:[(0,W.jsx)(M.mm2,{}),Vl?(0,W.jsx)(c.A.Button,{size:16}):$l?(0,$.A)(null===Dl||void 0===Dl||null===(hl=Dl.user)||void 0===hl?void 0:hl.email):null===Dl||void 0===Dl||null===(jl=Dl.user)||void 0===jl?void 0:jl.email]})]}),(0,W.jsxs)("div",{className:"customer-info",children:[(0,W.jsx)("span",{className:"title",children:ql("registration.date")}),(0,W.jsxs)("span",{className:"description",children:[(0,W.jsx)(F.cCc,{}),Vl?(0,W.jsx)(c.A.Button,{size:16}):H()(null===Dl||void 0===Dl||null===(pl=Dl.user)||void 0===pl?void 0:pl.created_at).format("DD-MM-YYYY, hh:mm")]})]}),(0,W.jsxs)("div",{className:"customer-info",children:[(0,W.jsx)("span",{className:"title",children:ql("orders.count")}),(0,W.jsx)("span",{className:"description",children:Vl?(0,W.jsx)(c.A.Button,{size:16}):(0,W.jsx)(p.A,{showZero:!0,style:{backgroundColor:"#3d7de3"},count:(null===Dl||void 0===Dl||null===(yl=Dl.user)||void 0===yl?void 0:yl.orders_count)||0})})]}),(0,W.jsxs)("div",{className:"customer-info",children:[(0,W.jsx)("span",{className:"title",children:ql("spent.since.registration")}),(0,W.jsx)("span",{className:"description",children:Vl?(0,W.jsx)(c.A.Button,{size:16}):(0,W.jsx)(p.A,{showZero:!0,style:{backgroundColor:"#48e33d"},count:(0,S.A)(null===Dl||void 0===Dl||null===(Al=Dl.user)||void 0===Al?void 0:Al.orders_sum_price,null===Ml||void 0===Ml?void 0:Ml.symbol,null===Ml||void 0===Ml?void 0:Ml.symbol)})})]})]})]})}),(null===Dl||void 0===Dl?void 0:Dl.review)&&!Vl&&(0,W.jsx)(o.A,{title:ql("messages"),children:(0,W.jsxs)("div",{className:"order-message",children:[(0,W.jsx)("span",{className:"message",children:null===Dl||void 0===Dl||null===(gl=Dl.review)||void 0===gl?void 0:gl.comment}),(0,W.jsx)(s.A,{className:"w-100 justify-content-end",children:(0,W.jsx)("span",{className:"date",children:H()(null===Dl||void 0===Dl||null===(bl=Dl.review)||void 0===bl?void 0:bl.created_at).format("YYYY-MM-DD HH:mm")})})]})})]}),(0,W.jsx)(o.A,{title:ql("store.information"),children:Vl?(0,W.jsx)(c.A,{avatar:!0,shape:"square",paragraph:{rows:2}}):(0,W.jsxs)(s.A,{className:"w-100",children:[(0,W.jsx)(j.A,{shape:"square",size:64,src:Y.sE+(null===Dl||void 0===Dl||null===(fl=Dl.shop)||void 0===fl?void 0:fl.logo_img)}),(0,W.jsxs)("div",{children:[(0,W.jsx)("h5",{children:null===Dl||void 0===Dl||null===(Nl=Dl.shop)||void 0===Nl||null===(_l=Nl.translation)||void 0===_l?void 0:_l.title}),(null===Dl||void 0===Dl||null===(kl=Dl.shop)||void 0===kl?void 0:kl.phone)&&(0,W.jsxs)("div",{className:"delivery-info",children:[(0,W.jsx)("b",{children:(0,W.jsx)(F.s91,{})}),(0,W.jsx)("span",{children:null===Dl||void 0===Dl||null===(wl=Dl.shop)||void 0===wl?void 0:wl.phone})]}),(0,W.jsxs)("div",{className:"delivery-info my-1",children:[(0,W.jsxs)("strong",{children:[ql("min.delivery.price"),":"]}),(0,W.jsx)("span",{children:(0,S.A)(null===Dl||void 0===Dl||null===(Cl=Dl.shop)||void 0===Cl?void 0:Cl.price,null===Ml||void 0===Ml?void 0:Ml.symbol,null===Ml||void 0===Ml?void 0:Ml.symbol)})]}),(0,W.jsxs)("div",{className:"delivery-info",children:[(0,W.jsx)("b",{children:(0,W.jsx)(B.b9f,{size:16})}),(0,W.jsx)("span",{children:null===Dl||void 0===Dl||null===(Sl=Dl.shop)||void 0===Sl||null===(Il=Sl.translation)||void 0===Il?void 0:Il.address})]})]})]})})]})]}),Ol&&(0,W.jsx)(L.A,{orderDetails:Ol,handleCancel:ne,status:Yl}),Zl&&(0,W.jsx)(O.A,{orderDetails:Zl,handleCancel:ne}),Pl&&(0,W.jsx)(E.A,{id:Pl,handleCancel:ne}),!!Wl&&(0,W.jsx)(y.A,{visible:!!Wl,footer:!1,onCancel:()=>{Jl(null)},children:(0,W.jsx)(J,{orderDetailId:null===Wl||void 0===Wl?void 0:Wl.id,status:null===Wl||void 0===Wl?void 0:Wl.status,handleCancel:()=>{Jl(null)}})}),!!Kl&&(0,W.jsx)(y.A,{visible:!!Kl,footer:!1,onCancel:()=>Ul(null),children:(0,W.jsx)(K.A,{data:Kl,onCancel:()=>Ul(null)})})]})}},88810:(l,e,i)=>{i.d(e,{A:()=>d});var n=i(20978),s=i(44414);const d=l=>{let{image:e,row:i,size:d=100}=l;return(0,s.jsx)(n.A,{src:e||"https://via.placeholder.com/150",alt:"img_gallery",width:d,height:d,className:"rounded border",preview:!0,placeholder:!e,style:{objectFit:"contain"}},e+(null===i||void 0===i?void 0:i.id))}}}]);