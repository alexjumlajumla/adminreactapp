"use strict";(self.webpackChunkjumlajumla_dashboard=self.webpackChunkjumlajumla_dashboard||[]).push([[4956],{1201:(e,t,s)=>{s.d(t,{A:()=>d});s(9950);var l=s(70030),r=s(88542);const n=s.p+"static/media/noproductsfound.1cec73868b5fd048b865.riv",i=s.p+"static/media/noresult.ac4af107751f94856a9c.riv",o=s.p+"static/media/nosell.32cb2c2cc548a15c820d.riv";var a=s(44414);const d=function(e){let{id:t="noresult",text:s=""}=e;const{t:d}=(0,l.B)(),c={src:{noproductsfound:n,noresult:i,nosell:o}[t],artboard:"New Artboard",autoplay:!0},{RiveComponent:u}=(0,r.useRive)(c);return(0,a.jsxs)("div",{className:"animation-canvas",children:[(0,a.jsx)("div",{style:{width:"100%",height:200},children:(0,a.jsx)(u,{})}),(0,a.jsx)("div",{className:"text text-center",children:d(s)})]})}},4355:(e,t,s)=>{s.r(t),s.d(t,{default:()=>ce});var l=s(9950),r=s(91854),n=s(74623),i=s(71876),o=s(79890),a=s(36307),d=s(81446),c=s(3928),u=s(40706),h=s(87094),v=s(41988),m=s(70030),x=s(13564),p=s(23263),f=s(99674),j=s(90650),A=s(74947),b=s(59051),g=s.n(b),y=s(4587),w=s(53439),N=s(44414);function k(){const{t:e}=(0,m.B)(),t=(0,r.wA)(),{counts:s,params:n,loading:i}=(0,r.d4)((e=>e.orderCounts),r.bN),{role:o}=(0,r.d4)((e=>e.auth.user),r.bN),{direction:a}=(0,r.d4)((e=>e.theme.theme),r.bN),d=(0,l.useMemo)((()=>s.map((e=>g().utc(e.date).local().format("D MMM YYYY")))),[s]),u=(0,l.useMemo)((()=>[{name:e("orders"),data:(null===s||void 0===s?void 0:s.map((e=>e.count)))||[]}]),[s]);return(0,N.jsxs)(p.A,{title:e("orders"),extra:(0,N.jsxs)(f.A,{value:n.time,size:"small",style:{minWidth:110},onSelect:e=>{const s={time:e};switch(t((0,c.HV)(s)),o){case"admin":t((0,c.TZ)(s));break;case"seller":t((0,c._I)(s))}},defaultValue:"subWeek",children:[(0,N.jsx)(f.A.Option,{value:"subWeek",children:e("this.week")}),(0,N.jsx)(f.A.Option,{value:"subMonth",children:e("this.month")}),(0,N.jsx)(f.A.Option,{value:"subYear",children:e("this.year")})]}),children:[i&&(0,N.jsx)("div",{className:"loader",children:(0,N.jsx)(j.A,{})}),(0,N.jsx)("div",{className:"d-flex",children:(0,N.jsxs)("div",{className:"mr-5",children:[(0,N.jsx)("h2",{className:"font-weight-bold mb-1",children:s.reduce(((e,t)=>e+(null===t||void 0===t?void 0:t.count)),0)}),(0,N.jsxs)("p",{children:[(0,N.jsx)(A.A,{color:w.lm[6]}),e("total.orders.count")]})]})}),(0,N.jsx)("div",{children:(0,N.jsx)(y.A,{card:!1,series:u,xAxis:d,height:280,customOptions:{colors:[w.lm[6],w.lm[0]],legend:{show:!1},stroke:{width:2.5,curve:"smooth"}},direction:a})})]})}var C=s(53774);function O(){const{t:e}=(0,m.B)(),t=(0,r.wA)(),{defaultCurrency:s}=(0,r.d4)((e=>e.currency),r.bN),{sales:n,params:i,loading:o}=(0,r.d4)((e=>e.orderSales),r.bN),{role:a}=(0,r.d4)((e=>e.auth.user),r.bN),{direction:d}=(0,r.d4)((e=>e.theme.theme),r.bN),c=(0,l.useMemo)((()=>n.map((e=>g().utc(e.date).local().format("D MMM YYYY")))),[n]),h=(0,l.useMemo)((()=>[{name:e("sales"),data:n.map((e=>e.total_price.toFixed(2)))}]),[n]);return(0,N.jsxs)(p.A,{title:e("sales"),extra:(0,N.jsxs)(f.A,{value:i.time,size:"small",style:{minWidth:110},onSelect:e=>{const s={time:e};switch(t((0,u.ZP)(s)),a){case"admin":t((0,u.dt)(s));break;case"seller":t((0,u.Uj)(s))}},defaultValue:0,children:[(0,N.jsx)(f.A.Option,{value:"subWeek",children:e("this.week")}),(0,N.jsx)(f.A.Option,{value:"subMonth",children:e("this.month")}),(0,N.jsx)(f.A.Option,{value:"subYear",children:e("this.year")})]}),children:[o&&(0,N.jsx)("div",{className:"loader",children:(0,N.jsx)(j.A,{})}),(0,N.jsx)("div",{className:"d-flex",children:(0,N.jsxs)("div",{className:"mr-5",children:[(0,N.jsx)("h2",{className:"font-weight-bold mb-1",children:(0,C.A)(n.reduce(((e,t)=>e+t.total_price),0),null===s||void 0===s?void 0:s.symbol,null===s||void 0===s?void 0:s.position)}),(0,N.jsxs)("p",{children:[(0,N.jsx)(A.A,{color:w.lm[0]}),e("total.sales.amount")]})]})}),(0,N.jsx)("div",{children:(0,N.jsx)(y.A,{card:!1,type:"area",series:h,xAxis:c,height:280,customOptions:{colors:w.lm,legend:{show:!1},stroke:{width:2.5,curve:"smooth"}},direction:d})})]})}var _=s(74704);function M(e){let{title:t="Orders",value:s=0,subtitle:l}=e;const{defaultCurrency:n}=(0,r.d4)((e=>e.currency),r.bN);return(0,N.jsxs)(p.A,{children:[t&&(0,N.jsx)("h4",{className:"mb-0",children:t}),(0,N.jsx)("div",{className:""+(t?"mt-3":""),children:(0,N.jsxs)("div",{children:[(0,N.jsx)("div",{className:"d-flex align-items-center",children:(0,N.jsx)("h1",{className:"mb-0 font-weight-bold",children:(0,C.A)(s,null===n||void 0===n?void 0:n.symbol,null===n||void 0===n?void 0:n.position)})}),l&&(0,N.jsx)("div",{className:"text-gray-light mt-1",children:l})]})})]})}var P=s(80737),S=s(48538);const z=[{label:"this.week",value:"subWeek"},{label:"this.month",value:"subMonth"},{label:"this.year",value:"subYear"}];function E(){const{t:e}=(0,m.B)(),{user:t}=(0,r.d4)((e=>e.auth),r.bN),s=(0,r.wA)(),{params:l}=(0,r.d4)((e=>e.statisticsCount),r.bN);return(0,N.jsx)(p.A,{children:(0,N.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,N.jsxs)("div",{children:[(0,N.jsxs)("h2",{children:[e("hello"),", ",t.fullName," \ud83d\udc4b"]}),(0,N.jsx)("p",{children:e("hello.text")})]}),(0,N.jsx)(P.A,{children:z.map((t=>(0,N.jsx)(S.A,{onClick:()=>(e=>{s((0,i.CV)({type:e}))})(t.value),type:(null===l||void 0===l?void 0:l.type)===t.value?"primary":"default",children:e(t.label)},t.value)))})]})})}var F=s(20978),Y=s(7974),$=s(1201);function B(){const{t:e}=(0,m.B)(),t=(0,r.wA)(),{topCustomers:s,loading:l,params:n}=(0,r.d4)((e=>e.topCustomers),r.bN),{defaultCurrency:i}=(0,r.d4)((e=>e.currency),r.bN),{role:a}=(0,r.d4)((e=>e.auth.user),r.bN),d=(e,s)=>{const l={...n,[e]:s};switch(t((0,o.ro)(l)),a){case"admin":t((0,o.lr)(l));break;case"seller":t((0,o.Yv)(l))}};return(0,N.jsxs)(p.A,{title:e("top.customers"),extra:(0,N.jsxs)(P.A,{children:[(0,N.jsxs)(f.A,{value:n.perPage,size:"small",style:{minWidth:110},onSelect:e=>d("perPage",e),children:[(0,N.jsx)(f.A.Option,{value:5,children:`5 / ${e("page")}`}),(0,N.jsx)(f.A.Option,{value:10,children:`10 / ${e("page")}`}),(0,N.jsx)(f.A.Option,{value:50,children:`50 / ${e("page")}`}),(0,N.jsx)(f.A.Option,{value:100,children:`100 / ${e("page")}`})]}),(0,N.jsxs)(f.A,{value:n.time,size:"small",style:{minWidth:110},onSelect:e=>d("time",e),defaultValue:"subWeek",children:[(0,N.jsx)(f.A.Option,{value:"subWeek",children:e("this.week")}),(0,N.jsx)(f.A.Option,{value:"subMonth",children:e("this.month")}),(0,N.jsx)(f.A.Option,{value:"subYear",children:e("this.year")})]})]}),children:[l&&(0,N.jsx)("div",{className:"loader",children:(0,N.jsx)(j.A,{})}),(0,N.jsx)("div",{style:{overflowY:"auto",maxHeight:370},children:s.length?s.map(((t,s)=>(0,N.jsxs)("div",{className:"w-100 py-3 flex",children:[(0,N.jsxs)("div",{className:"d-flex avatar",children:[(0,N.jsx)(F.A,{src:(0,Y.A)(t.img),width:40,height:40,preview:!1,className:"rounded"}),(0,N.jsxs)("div",{className:"ml-2 avatar-text",children:[(0,N.jsx)("h5",{className:"title",children:t.firstname+" "+t.lastname}),(0,N.jsx)("div",{className:"text-muted",children:t.phone})]})]}),(0,N.jsx)("div",{className:"d-flex",children:(0,N.jsxs)("div",{className:"mr-3 text-right",children:[(0,N.jsxs)("span",{className:"text-muted",children:[t.count," ",e("orders")]}),(0,N.jsx)("div",{className:"mb-0 h5 font-weight-bold",children:(0,C.A)(t.total_price,i.symbol,null===i||void 0===i?void 0:i.position)})]})})]},s))):(0,N.jsx)(h.A,{children:(0,N.jsx)(v.A,{span:24,children:(0,N.jsx)($.A,{id:"nosell"})})})})]})}var I=s(69554);function W(){const{t:e}=(0,m.B)(),t=(0,r.wA)(),{topProducts:s,loading:l,params:n}=(0,r.d4)((e=>e.topProducts),r.bN),{role:i}=(0,r.d4)((e=>e.auth.user),r.bN),o=(e,s)=>{const l={...n,[e]:s};switch(t((0,a.c6)(l)),i){case"admin":t((0,a.Qq)(l));break;case"seller":t((0,a.ny)(l))}};return(0,N.jsxs)(p.A,{title:e("top.selled.products"),extra:(0,N.jsxs)(P.A,{children:[(0,N.jsxs)(f.A,{value:n.perPage,size:"small",style:{minWidth:110},onSelect:e=>o("perPage",e),children:[(0,N.jsx)(f.A.Option,{value:5,children:`5 / ${e("page")}`}),(0,N.jsx)(f.A.Option,{value:10,children:`10 / ${e("page")}`}),(0,N.jsx)(f.A.Option,{value:50,children:`50 / ${e("page")}`}),(0,N.jsx)(f.A.Option,{value:100,children:`100 / ${e("page")}`})]}),(0,N.jsxs)(f.A,{value:n.time,size:"small",style:{minWidth:110},onSelect:e=>o("time",e),defaultValue:"subWeek",children:[(0,N.jsx)(f.A.Option,{value:"subWeek",children:e("this.week")}),(0,N.jsx)(f.A.Option,{value:"subMonth",children:e("this.month")}),(0,N.jsx)(f.A.Option,{value:"subYear",children:e("this.year")})]})]}),children:[l&&(0,N.jsx)("div",{className:"loader",children:(0,N.jsx)(j.A,{})}),(0,N.jsx)("div",{style:{overflowY:"auto",maxHeight:370},children:null!==s&&void 0!==s&&s.length?s.map(((t,s)=>(0,N.jsxs)("div",{className:"w-100 py-3 flex",children:[(0,N.jsxs)("div",{className:"d-flex avatar",children:[(0,N.jsx)(F.A,{src:(0,I.A)(null===t||void 0===t?void 0:t.img),width:40,height:40,preview:!1}),(0,N.jsx)("div",{className:"ml-2 avatar-text",children:(0,N.jsx)("h5",{className:"title",children:null===t||void 0===t?void 0:t.title})})]}),(0,N.jsx)("div",{className:"d-flex",children:(0,N.jsxs)("div",{className:"mr-3 text-right",children:[(0,N.jsx)("span",{className:"text-muted",children:e("sales")}),(0,N.jsx)("div",{className:"mb-0 h5 font-weight-bold",children:null===t||void 0===t?void 0:t.count})]})})]},s))):(0,N.jsx)(h.A,{children:(0,N.jsx)(v.A,{span:24,children:(0,N.jsx)($.A,{id:"nosell"})})})})]})}var T=s(3969),V=s(55902),K=s(89379);const R={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm192 472c0 4.4-3.6 8-8 8H544v152c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V544H328c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h152V328c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v152h152c4.4 0 8 3.6 8 8v48z"}}]},name:"plus-circle",theme:"filled"};var D=s(25085),H=function(e,t){return l.createElement(D.A,(0,K.A)((0,K.A)({},e),{},{ref:t,icon:R}))};H.displayName="PlusCircleFilled";const L=l.forwardRef(H),q=e=>{let{onFormSubmit:t}=e;const[s]=T.A.useForm(),{t:l}=(0,m.B)();return(0,N.jsx)(T.A,{form:s,onFinish:e=>{t(e),s.resetFields()},layout:"horizontal",className:"todo-form",children:(0,N.jsxs)(h.A,{gutter:20,children:[(0,N.jsx)(v.A,{xs:24,sm:24,md:12,lg:14,xl:18,children:(0,N.jsx)(T.A.Item,{name:"name",rules:[{validator:(e,t)=>t?t&&""===(null===t||void 0===t?void 0:t.trim())?Promise.reject(new Error(l("no.empty.space"))):t&&(null===t||void 0===t?void 0:t.trim().length)<2?Promise.reject(new Error(l("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(l("required")))}],children:(0,N.jsx)(V.A,{placeholder:l("todo.placeholder")})})}),(0,N.jsx)(v.A,{xs:24,sm:24,md:12,lg:10,xl:6,children:(0,N.jsxs)(S.A,{type:"primary",htmlType:"submit",block:!0,children:[(0,N.jsx)(L,{}),l("todo.add")]})})]})})};var Z=s(66362),Q=s(63611),U=s(52765);const X=e=>{let{todos:t,onTodoToggle:s}=e;const{t:l}=(0,m.B)();return(0,N.jsxs)(N.Fragment,{children:[0===t.length||(0,N.jsxs)(Z.A.Text,{children:[t.filter((e=>e.isComplete)).length," of ",t.length," ",l("remaining")]}),(0,N.jsx)("div",{style:{maxHeight:"280px",overflowY:"auto"},children:(0,N.jsx)(Q.Ay,{locale:{emptyText:l("todo.empty")},dataSource:t,renderItem:e=>(0,N.jsx)(Q.Ay.Item,{style:{paddingRight:0,paddingLeft:0},onClick:()=>s(e.id),children:(0,N.jsxs)(P.A,{className:"w-100 justify-content-between",children:[(0,N.jsxs)(P.A,{className:"align-items-end",children:[(0,N.jsx)(U.A,{checked:e.isComplete}),(0,N.jsx)(Z.A.Text,{delete:e.isComplete,children:e.name})]}),(0,N.jsx)(Z.A.Text,{children:g()(e.date).format("MMM DD YYYY hh:mm a")})]})},e.id)})})]})};var G=s(11868);const J=()=>{const e=(0,r.d4)((e=>e.todo.todos)),{t:t}=(0,m.B)(),s=(0,r.wA)();return(0,N.jsxs)(p.A,{title:t("todo.list"),style:{height:"calc(100% - 20px)"},extra:(0,N.jsx)(S.A,{danger:!0,type:"primary",disabled:0===e.filter((e=>e.isComplete)).length,onClick:()=>{s((0,G.H9)(e.filter((e=>e.isComplete)).map((e=>e.id))))},children:t("archive")}),children:[(0,N.jsx)(q,{onFormSubmit:e=>s((0,G.eW)(e))}),(0,N.jsx)(X,{todos:e,onTodoToggle:e=>s((0,G.zQ)(e))})]})},ee=e=>{let{counts:t}=e;const{t:s}=(0,m.B)();return(0,N.jsx)(p.A,{title:s("orders"),children:(0,N.jsx)(y.A,{type:"pie",series:[(null===t||void 0===t?void 0:t.progress_orders_count)||{data:[]},(null===t||void 0===t?void 0:t.delivered_orders_count)||{data:[]},(null===t||void 0===t?void 0:t.cancel_orders_count)||{data:[]}],xAxis:[s("in.progress.orders"),s("delivered.orders"),s("canceled.orders")],customOptions:{labels:[s("in.progress.orders"),s("delivered.orders"),s("canceled.orders")]}})})};function te(){const{t:e}=(0,m.B)(),t=(0,x.Zp)(),s=(0,r.wA)(),{user:i}=(0,r.d4)((e=>e.auth),r.bN),{counts:o}=(0,r.d4)((e=>e.statisticsCount),r.bN),{theme:a}=(0,r.d4)((e=>e.theme),r.bN),d=(0,l.useMemo)((()=>!!a.parcelMode&&"admin"===(null===i||void 0===i?void 0:i.role)),[a,i]),c=(e,l)=>{const r="report/stock"===e?{id:e,url:e,name:l,refetch:!0,data:{value:"out_of_stock",label:"Out of stock"}}:{id:e,url:e,name:l,refetch:!0};s((0,n.wr)(r)),t(`/${e}`)};return(0,N.jsxs)("div",{children:[(0,N.jsx)(E,{}),d?(0,N.jsx)("div",{}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(h.A,{gutter:16,className:"mt-3",children:[(0,N.jsx)(v.A,{flex:"0 0 16.6%",children:(0,N.jsx)(_.A,{title:e("in.progress.orders"),value:null===o||void 0===o?void 0:o.progress_orders_count,color:"purple",onClick:()=>c("seller"===(null===i||void 0===i?void 0:i.role)?"seller/orders?status=new":"orders?status=new",e("in.progress.orders"))})}),(0,N.jsx)(v.A,{flex:"0 0 16.6%",children:(0,N.jsx)(_.A,{title:e("cancelled.orders"),value:null===o||void 0===o?void 0:o.cancel_orders_count,color:"red",onClick:()=>c("seller"===(null===i||void 0===i?void 0:i.role)?"seller/orders?status=canceled":"orders?status=canceled",e("cancelled.orders"))})}),(0,N.jsx)(v.A,{flex:"0 0 16.6%",children:(0,N.jsx)(_.A,{title:e("delivered.orders"),value:null===o||void 0===o?void 0:o.delivered_orders_count,color:"green",onClick:()=>c("seller"===(null===i||void 0===i?void 0:i.role)?"seller/orders?status=delivered":"orders?status=delivered",e("delivered.orders"))})}),(0,N.jsx)(v.A,{flex:"0 0 16.6%",children:(0,N.jsx)(_.A,{title:e("out.of.stock.products"),value:null===o||void 0===o?void 0:o.products_out_of_count,color:"red",onClick:()=>{"admin"===(null===i||void 0===i?void 0:i.role)&&c("report/stock",e("stock"))}})}),(0,N.jsx)(v.A,{flex:"0 0 16.6%",children:(0,N.jsx)(_.A,{title:e("total.products"),value:null===o||void 0===o?void 0:o.products_count,color:"grey",onClick:()=>c("seller"===(null===i||void 0===i?void 0:i.role)?"seller/products":"catalog/products",e("products"))})}),(0,N.jsx)(v.A,{flex:"0 0 16.6%",children:(0,N.jsx)(_.A,{title:e("order.reviews"),value:null===o||void 0===o?void 0:o.reviews_count,color:"purple",onClick:()=>c("seller"===(null===i||void 0===i?void 0:i.role)?"seller/reviews/order":"reviews/order",e("order.reviews"))})})]}),(0,N.jsxs)(h.A,{gutter:16,children:[(0,N.jsx)(v.A,{xs:24,sm:24,md:24,lg:24,xl:6,children:(0,N.jsx)(M,{title:e("total.earned"),value:null===o||void 0===o?void 0:o.total_earned,subtitle:e("last.30.days")})}),(0,N.jsx)(v.A,{xs:24,sm:24,md:24,lg:24,xl:6,children:(0,N.jsx)(M,{title:e("delivery.earning"),value:null===o||void 0===o?void 0:o.delivery_earned,subtitle:e("last.30.days")})}),(0,N.jsx)(v.A,{xs:24,sm:24,md:24,lg:24,xl:6,children:(0,N.jsx)(M,{title:e("total.order.tax"),value:null===o||void 0===o?void 0:o.tax_earned,subtitle:e("last.30.days")})}),(0,N.jsx)(v.A,{xs:24,sm:24,md:24,lg:24,xl:6,children:(0,N.jsx)(M,{title:e("total.comission"),value:null===o||void 0===o?void 0:o.commission_earned,subtitle:e("last.30.days")})})]}),(0,N.jsxs)(h.A,{gutter:24,children:[(0,N.jsx)(v.A,{span:12,children:(0,N.jsx)(k,{})}),(0,N.jsx)(v.A,{span:12,children:(0,N.jsx)(J,{})}),(0,N.jsx)(v.A,{span:12,children:(0,N.jsx)(W,{})}),(0,N.jsx)(v.A,{span:12,children:(0,N.jsx)(O,{})}),(0,N.jsx)(v.A,{span:12,children:(0,N.jsx)(B,{})}),(0,N.jsx)(v.A,{span:12,children:(0,N.jsx)(ee,{counts:o})})]})]})]})}var se=s(53271);function le(){var e;const{t:t}=(0,m.B)(),[s,n]=(0,l.useState)(null),{counts:i}=(0,r.d4)((e=>e.statisticsCount),r.bN);return(0,l.useEffect)((()=>{se.A.profileShow().then((e=>{let{data:t}=e;return n(t)}))}),[]),(0,N.jsxs)("div",{children:[(0,N.jsxs)(h.A,{gutter:16,className:"mt-3",children:[(0,N.jsx)(v.A,{flex:"0 0 16.6%",children:(0,N.jsx)(_.A,{title:t("total.orders"),value:i.orders_count})}),(0,N.jsx)(v.A,{flex:"0 0 16.6%",children:(0,N.jsx)(_.A,{title:t("in.progress.orders"),value:i.progress_orders_count})}),(0,N.jsx)(v.A,{flex:"0 0 16.6%",children:(0,N.jsx)(_.A,{title:t("cancelled.orders"),value:i.cancel_orders_count})}),(0,N.jsx)(v.A,{flex:"0 0 16.6%",children:(0,N.jsx)(_.A,{title:t("delivered.orders"),value:i.delivered_orders_count})})]}),(0,N.jsx)(h.A,{gutter:16,children:(0,N.jsx)(v.A,{xs:24,sm:24,md:24,lg:24,xl:6,children:(0,N.jsx)(M,{title:t("balance"),value:null===s||void 0===s||null===(e=s.wallet)||void 0===e?void 0:e.price})})})]})}var re=s(32312);const ne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M288 421a48 48 0 1096 0 48 48 0 10-96 0zm352 0a48 48 0 1096 0 48 48 0 10-96 0zM512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm263 711c-34.2 34.2-74 61-118.3 79.8C611 874.2 562.3 884 512 884c-50.3 0-99-9.8-144.8-29.2A370.4 370.4 0 01248.9 775c-34.2-34.2-61-74-79.8-118.3C149.8 611 140 562.3 140 512s9.8-99 29.2-144.8A370.4 370.4 0 01249 248.9c34.2-34.2 74-61 118.3-79.8C413 149.8 461.7 140 512 140c50.3 0 99 9.8 144.8 29.2A370.4 370.4 0 01775.1 249c34.2 34.2 61 74 79.8 118.3C874.2 413 884 461.7 884 512s-9.8 99-29.2 144.8A368.89 368.89 0 01775 775zM664 533h-48.1c-4.2 0-7.8 3.2-8.1 7.4C604 589.9 562.5 629 512 629s-92.1-39.1-95.8-88.6c-.3-4.2-3.9-7.4-8.1-7.4H360a8 8 0 00-8 8.4c4.4 84.3 74.5 151.6 160 151.6s155.6-67.3 160-151.6a8 8 0 00-8-8.4z"}}]},name:"smile",theme:"outlined"};var ie=function(e,t){return l.createElement(D.A,(0,K.A)((0,K.A)({},e),{},{ref:t,icon:ne}))};ie.displayName="SmileOutlined";const oe=l.forwardRef(ie);function ae(){const{t:e}=(0,m.B)(),t=(0,r.wA)(),s=(0,x.Zp)(),{user:l}=(0,r.d4)((e=>e.auth),r.bN);return(0,N.jsx)(p.A,{children:(0,N.jsx)(re.Ay,{icon:(0,N.jsx)(oe,{}),title:`${e("welcome")}, ${null===l||void 0===l?void 0:l.fullName}`,subTitle:e("welcome.manager"),extra:(0,N.jsx)(S.A,{type:"primary",onClick:()=>{t((0,n.X4)({id:"orders",url:"orders",name:e("orders")})),s("/orders")},children:e("get.started")})})})}function de(){const{t:e}=(0,m.B)(),t=(0,r.wA)(),s=(0,x.Zp)(),{user:l}=(0,r.d4)((e=>e.auth),r.bN);return(0,N.jsx)(p.A,{children:(0,N.jsx)(re.Ay,{icon:(0,N.jsx)(oe,{}),title:`${e("welcome")}, ${null===l||void 0===l?void 0:l.fullName}`,subTitle:e("welcome.manager"),extra:(0,N.jsx)(S.A,{type:"primary",onClick:()=>{t((0,n.X4)({id:"orders",url:"seller/orders",name:e("orders")})),s("/seller/orders")},children:e("get.started")})})})}function ce(){const e=(0,r.wA)(),{activeMenu:t}=(0,r.d4)((e=>e.menu),r.bN),{user:s}=(0,r.d4)((e=>e.auth),r.bN),{loading:h,params:v}=(0,r.d4)((e=>e.statisticsCount),r.bN);(0,l.useEffect)((()=>{(t.refetch||v.type)&&(!function(){const t={time:v.type||"subMonth"},l={time:"subWeek"};switch(null===s||void 0===s?void 0:s.role){case"admin":e((0,i.sz)(t)),e((0,o.lr)(l)),e((0,a.Qq)(l)),e((0,c.TZ)(l)),e((0,u.dt)(l));break;case"manager":e((0,o.lr)(l)),e((0,a.Qq)(l));break;case"seller":e((0,i.Kr)(t)),e((0,o.Yv)(l)),e((0,a.ny)(l)),e((0,c._I)(l)),e((0,u.Uj)(l));break;case"moderator":default:break;case"deliveryman":e((0,i.X7)())}}(),e((0,n.km)(t)))}),[t.refetch,v.type]);return(0,N.jsx)("div",{className:"h-100",children:h?(0,N.jsx)(d.A,{size:"large"}):(()=>{switch(s.role){case"admin":case"seller":return(0,N.jsx)(te,{});case"manager":return(0,N.jsx)(ae,{});case"moderator":return(0,N.jsx)(de,{});case"deliveryman":return(0,N.jsx)(le,{});case"waiter":return(0,N.jsx)(x.C5,{to:"/waiter/orders-board",replace:!0});default:return null}})()})}},4587:(e,t,s)=>{s.d(t,{A:()=>h});var l=s(9950),r=s(23263),n=s(39452),i=s(94116),o=s(53439),a=s(44414);const d={position:"absolute",zIndex:"1"},c={position:"absolute",zIndex:"1",right:"0",top:"-2px"},u=e=>{let{title:t,series:s,width:u,height:h,xAxis:v,customOptions:m,card:x,type:p,extra:f,direction:j,bodyClass:A}=e,b=JSON.parse(JSON.stringify((e=>{switch(e){case"line":default:return o.V3;case"bar":return o.ck;case"area":return o.cZ;case"pie":return o.vX}})(p)));const g=window.innerWidth<768,y=()=>{if(N.current){var e;const t=N.current.querySelectorAll("div.apexcharts-legend")[0];t.style.marginRight=`${g?0:null===(e=w.current)||void 0===e?void 0:e.offsetWidth}px`,"rtl"===j&&(t.style.right="auto",t.style.left="0"),g&&(t.style.position="relative",t.style.top=0,t.style.justifyContent="start",t.style.padding=0)}};(0,l.useEffect)((()=>{y()}),[]);const w=(0,l.useRef)(null),N=(0,l.useRef)();b.xaxis={categories:v,labels:{formatter:function(e){return e},rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,style:{fontFamily:"inherit"}},tickAmount:Math.min(null===v||void 0===v?void 0:v.length,6),axisBorder:{show:!0},axisTicks:{show:!0}},m&&(b={...b,...m});const k=()=>(0,a.jsx)(i.Ay,{onResize:void setTimeout((()=>{y()}),600),children:(0,a.jsx)("div",{style:"rtl"===j?{direction:"ltr"}:{},className:"chartRef",ref:N,children:(0,a.jsx)(n.A,{options:b,type:p,series:s,width:u,height:h})})});return(0,a.jsx)(a.Fragment,{children:x?(0,a.jsx)(r.A,{children:(0,a.jsxs)("div",{className:`position-relative ${A}`,children:[(0,a.jsx)("div",{style:g?{}:d,children:t})&&(0,a.jsx)("h4",{className:"font-weight-bold",style:g?{}:d,children:t}),f&&(0,a.jsx)("div",{ref:w,style:g?{}:c,children:f}),k()]})}):k()})};u.defaultProps={series:[],height:300,width:"100%",card:!0,type:"line"};const h=u},14691:(e,t,s)=>{s.d(t,{A:()=>x});var l=s(58168),r=s(64467),n=s(80045),i=s(89379),o=s(23029),a=s(92901),d=s(85501),c=s(29426),u=s(9950),h=s(48383),v=s.n(h),m=function(e){(0,d.A)(s,e);var t=(0,c.A)(s);function s(e){var l;(0,o.A)(this,s),(l=t.call(this,e)).handleChange=function(e){var t=l.props,s=t.disabled,r=t.onChange;s||("checked"in l.props||l.setState({checked:e.target.checked}),r&&r({target:(0,i.A)((0,i.A)({},l.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},l.saveInput=function(e){l.input=e};var r="checked"in e?e.checked:e.defaultChecked;return l.state={checked:r},l}return(0,a.A)(s,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e,t=this.props,s=t.prefixCls,i=t.className,o=t.style,a=t.name,d=t.id,c=t.type,h=t.disabled,m=t.readOnly,x=t.tabIndex,p=t.onClick,f=t.onFocus,j=t.onBlur,A=t.onKeyDown,b=t.onKeyPress,g=t.onKeyUp,y=t.autoFocus,w=t.value,N=t.required,k=(0,n.A)(t,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),C=Object.keys(k).reduce((function(e,t){return"aria-"!==t.substr(0,5)&&"data-"!==t.substr(0,5)&&"role"!==t||(e[t]=k[t]),e}),{}),O=this.state.checked,_=v()(s,i,(e={},(0,r.A)(e,"".concat(s,"-checked"),O),(0,r.A)(e,"".concat(s,"-disabled"),h),e));return u.createElement("span",{className:_,style:o},u.createElement("input",(0,l.A)({name:a,id:d,type:c,required:N,readOnly:m,disabled:h,tabIndex:x,className:"".concat(s,"-input"),checked:!!O,onClick:p,onFocus:f,onBlur:j,onKeyUp:g,onKeyDown:A,onKeyPress:b,onChange:this.handleChange,autoFocus:y,ref:this.saveInput,value:w},C)),u.createElement("span",{className:"".concat(s,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"checked"in e?(0,i.A)((0,i.A)({},t),{},{checked:e.checked}):null}}]),s}(u.Component);m.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}};const x=m},52765:(e,t,s)=>{s.d(t,{A:()=>N});var l=s(64467),r=s(58168),n=s(9950),i=s(48383),o=s.n(i),a=s(14691),d=s(77643),c=s(60436),u=s(5544),h=s(15207),v=s(12578),m=function(e,t){var s={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(s[l]=e[l]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(l=Object.getOwnPropertySymbols(e);r<l.length;r++)t.indexOf(l[r])<0&&Object.prototype.propertyIsEnumerable.call(e,l[r])&&(s[l[r]]=e[l[r]])}return s},x=n.createContext(null),p=function(e,t){var s=e.defaultValue,i=e.children,a=e.options,d=void 0===a?[]:a,p=e.prefixCls,f=e.className,j=e.style,A=e.onChange,b=m(e,["defaultValue","children","options","prefixCls","className","style","onChange"]),g=n.useContext(v.QO),w=g.getPrefixCls,N=g.direction,k=n.useState(b.value||s||[]),C=(0,u.A)(k,2),O=C[0],_=C[1],M=n.useState([]),P=(0,u.A)(M,2),S=P[0],z=P[1];n.useEffect((function(){"value"in b&&_(b.value||[])}),[b.value]);var E=function(){return d.map((function(e){return"string"===typeof e||"number"===typeof e?{label:e,value:e}:e}))},F=w("checkbox",p),Y="".concat(F,"-group"),$=(0,h.A)(b,["value","disabled"]);d&&d.length>0&&(i=E().map((function(e){return n.createElement(y,{prefixCls:F,key:e.value.toString(),disabled:"disabled"in e?e.disabled:b.disabled,value:e.value,checked:-1!==O.indexOf(e.value),onChange:e.onChange,className:"".concat(Y,"-item"),style:e.style},e.label)})));var B={toggleOption:function(e){var t=O.indexOf(e.value),s=(0,c.A)(O);-1===t?s.push(e.value):s.splice(t,1),"value"in b||_(s);var l=E();null===A||void 0===A||A(s.filter((function(e){return-1!==S.indexOf(e)})).sort((function(e,t){return l.findIndex((function(t){return t.value===e}))-l.findIndex((function(e){return e.value===t}))})))},value:O,disabled:b.disabled,name:b.name,registerValue:function(e){z((function(t){return[].concat((0,c.A)(t),[e])}))},cancelValue:function(e){z((function(t){return t.filter((function(t){return t!==e}))}))}},I=o()(Y,(0,l.A)({},"".concat(Y,"-rtl"),"rtl"===N),f);return n.createElement("div",(0,r.A)({className:I,style:j},$,{ref:t}),n.createElement(x.Provider,{value:B},i))},f=n.forwardRef(p);const j=n.memo(f);var A=function(e,t){var s={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(s[l]=e[l]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(l=Object.getOwnPropertySymbols(e);r<l.length;r++)t.indexOf(l[r])<0&&Object.prototype.propertyIsEnumerable.call(e,l[r])&&(s[l[r]]=e[l[r]])}return s},b=function(e,t){var s,i=e.prefixCls,c=e.className,u=e.children,h=e.indeterminate,m=void 0!==h&&h,p=e.style,f=e.onMouseEnter,j=e.onMouseLeave,b=e.skipGroup,g=void 0!==b&&b,y=A(e,["prefixCls","className","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup"]),w=n.useContext(v.QO),N=w.getPrefixCls,k=w.direction,C=n.useContext(x),O=(0,n.useContext)(d.$W).isFormItemInput,_=n.useRef(y.value);n.useEffect((function(){null===C||void 0===C||C.registerValue(y.value)}),[]),n.useEffect((function(){if(!g)return y.value!==_.current&&(null===C||void 0===C||C.cancelValue(_.current),null===C||void 0===C||C.registerValue(y.value),_.current=y.value),function(){return null===C||void 0===C?void 0:C.cancelValue(y.value)}}),[y.value]);var M=N("checkbox",i),P=(0,r.A)({},y);C&&!g&&(P.onChange=function(){y.onChange&&y.onChange.apply(y,arguments),C.toggleOption&&C.toggleOption({label:u,value:y.value})},P.name=C.name,P.checked=-1!==C.value.indexOf(y.value),P.disabled=y.disabled||C.disabled);var S=o()((s={},(0,l.A)(s,"".concat(M,"-wrapper"),!0),(0,l.A)(s,"".concat(M,"-rtl"),"rtl"===k),(0,l.A)(s,"".concat(M,"-wrapper-checked"),P.checked),(0,l.A)(s,"".concat(M,"-wrapper-disabled"),P.disabled),(0,l.A)(s,"".concat(M,"-wrapper-in-form-item"),O),s),c),z=o()((0,l.A)({},"".concat(M,"-indeterminate"),m)),E=m?"mixed":void 0;return n.createElement("label",{className:S,style:p,onMouseEnter:f,onMouseLeave:j},n.createElement(a.A,(0,r.A)({"aria-checked":E},P,{prefixCls:M,className:z,ref:t})),void 0!==u&&n.createElement("span",null,u))},g=n.forwardRef(b);g.displayName="Checkbox";const y=g;var w=y;w.Group=j,w.__ANT_CHECKBOX=!0;const N=w},53439:(e,t,s)=>{s.d(t,{V3:()=>r,cZ:()=>n,ck:()=>i,lm:()=>l,vX:()=>o});const l=["#3e82f7","#04d182","#ff6b72","#ffc107","#a461d8","#fa8c16","#17bcff"],r={chart:{zoom:{enabled:!1},toolbar:{show:!1}},colors:[...l],dataLabels:{enabled:!1},stroke:{width:3,curve:"smooth",lineCap:"round"},legend:{position:"top",horizontalAlign:"right",offsetY:-15,itemMargin:{vertical:20},tooltipHoverFormatter:function(e,t){return e+" - "+t.w.globals.series[t.seriesIndex][t.dataPointIndex]}},xaxis:{categories:[],labels:{hideOverlappingLabels:!0,rotate:0,style:{fontSize:"12px"},showDuplicates:!1,trim:!1},tickAmount:void 0,tickPlacement:"on",axisBorder:{show:!0},axisTicks:{show:!0}},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}}},n={...r},i={chart:{zoom:{enabled:!1},toolbar:{show:!1}},plotOptions:{bar:{horizontal:!1,columnWidth:"25px",startingShapre:"rounded",endingShape:"rounded"}},colors:[...l],dataLabels:{enabled:!1},stroke:{show:!0,width:6,curve:"smooth",colors:["transparent"]},legend:{position:"top",horizontalAlign:"right",offsetY:-15,inverseOrder:!0,itemMargin:{vertical:20},tooltipHoverFormatter:function(e,t){return e+" - "+t.w.globals.series[t.seriesIndex][t.dataPointIndex]}},xaxis:{categories:[]},fill:{opacity:1},tooltip:{y:{formatter:e=>`${e}`}}},o={colors:[...l],plotOptions:{pie:{size:200,donut:{labels:{show:!0,total:{show:!1,showAlways:!0,label:"",fontSize:"18px",fontFamily:"Roboto",fontWeight:"bold",color:"#1a3353",formatter:function(e){return e.globals.seriesTotals.reduce(((e,t)=>e+t),0)+"Orders count"}}},size:"100%"}}},labels:[],dataLabels:{enabled:!0},legend:{show:!0}}},53774:(e,t,s)=>{s.d(t,{A:()=>r});var l=s(83291);function r(){var e,t;let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;const i=null===(e=l.M.getState())||void 0===e||null===(t=e.currency)||void 0===t?void 0:t.defaultCurrency,o=Number(s).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),a=r||(null===i||void 0===i?void 0:i.symbol)||"$";return"after"===(n||(null===i||void 0===i?void 0:i.position)||"before")?`${o} ${a}`:`${a} ${o}`}},74704:(e,t,s)=>{s.d(t,{A:()=>n});s(9950);var l=s(23263),r=s(44414);function n(e){let{title:t="Orders",value:s=0,color:n="grey",onClick:i}=e;return(0,r.jsx)(l.A,{className:"statistics-card",hoverable:!!i,onClick:i,children:(0,r.jsxs)("div",{className:"card-wrapper",children:[(0,r.jsx)("div",{className:"space"}),(0,r.jsx)("div",{className:"content",children:(0,r.jsx)("h1",{className:"number",children:s})}),(0,r.jsx)("span",{className:`highlighter ${n}`}),t&&(0,r.jsx)("h4",{className:"title",children:t})]})})}}}]);