"use strict";(self.webpackChunkjumlajumla_dashboard=self.webpackChunkjumlajumla_dashboard||[]).push([[7009],{7009:(e,s,r)=>{r.r(s),r.d(s,{default:()=>j});var a=r(9950),t=r(13564),l=r(12449),i=r(3969),m=r(23263),n=r(91854),d=r(74623),o=r(70030),u=r(7843),c=r(98459),h=r(79930),p=r(44414);const j=()=>{const{t:e}=(0,o.B)(),{activeMenu:s}=(0,n.d4)((e=>e.menu),n.bN),r=(0,n.wA)(),[j]=i.A.useForm(),x=(0,t.Zp)();(0,a.useEffect)((()=>()=>{const e=j.getFieldsValue(!0);r((0,d.Ok)({activeMenu:s,data:e}))}),[]);return(0,p.jsx)(m.A,{title:e("add.email.provider"),className:"h-100",children:(0,p.jsx)(h.A,{form:j,handleSubmit:a=>{const t={smtp_auth:a.smtp_auth,smtp_debug:a.smtp_debug,port:a.port,password:a.password,from_to:a.from_to,host:a.host,active:Number(a.active),from_site:a.from_site},i="settings/emailProviders";return u.A.create(t).then((()=>{l.oR.success(e("successfully.created")),(0,n.vA)((()=>{r((0,d.EK)({...s,nextUrl:i})),r((0,c.o)({}))})),x(`/${i}`)}))}})})}},79930:(e,s,r)=>{r.d(s,{A:()=>p});var a=r(9950),t=r(3969),l=r(87094),i=r(41988),m=r(55902),n=r(8724),d=r(25933),o=r(48538),u=r(91854),c=r(70030),h=r(44414);function p(e){let{form:s,handleSubmit:r}=e;const{t:p}=(0,c.B)(),{activeMenu:j}=(0,u.d4)((e=>e.menu),u.bN),[x,A]=(0,a.useState)(!1);return(0,h.jsxs)(t.A,{name:"email-provider-form",layout:"vertical",onFinish:e=>{A(!0),r(e).finally((()=>A(!1)))},form:s,initialValues:{smtp_debug:!0,smtp_auth:!0,active:!0,...j.data},className:"d-flex flex-column h-100",children:[(0,h.jsxs)(l.A,{gutter:12,children:[(0,h.jsx)(i.A,{span:12,children:(0,h.jsx)(t.A.Item,{rules:[{required:!0,message:p("required")},{type:"email",message:p("invalid.email")}],label:p("email"),name:"from_to",children:(0,h.jsx)(m.A,{placeholder:"Email"})})}),(0,h.jsx)(i.A,{span:12,children:(0,h.jsx)(t.A.Item,{rules:[{required:!0,message:p("required")},{type:"string",min:6,message:p("min.6.letters")}],label:p("password"),name:"password",normalize:e=>""===(null===e||void 0===e?void 0:e.trim())?null===e||void 0===e?void 0:e.trim():e,children:(0,h.jsx)(m.A.Password,{})})}),(0,h.jsx)(i.A,{span:12,children:(0,h.jsx)(t.A.Item,{rules:[{validator:(e,s)=>s?s&&""===(null===s||void 0===s?void 0:s.trim())?Promise.reject(new Error(p("no.empty.space"))):s&&(null===s||void 0===s?void 0:s.trim().length)<2?Promise.reject(new Error(p("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(p("required")))}],label:p("host"),name:"host",children:(0,h.jsx)(m.A,{})})}),(0,h.jsx)(i.A,{span:12,children:(0,h.jsx)(t.A.Item,{rules:[{required:!0,message:p("required")}],label:p("port"),name:"port",children:(0,h.jsx)(n.A,{min:0,className:"w-100"})})}),(0,h.jsx)(i.A,{span:12,children:(0,h.jsx)(t.A.Item,{rules:[{required:!0,message:p("required")}],label:p("from.site"),name:"from_site",children:(0,h.jsx)(m.A,{})})}),(0,h.jsx)(i.A,{span:8,children:(0,h.jsx)(t.A.Item,{label:p("active"),name:"active",valuePropName:"checked",children:(0,h.jsx)(d.A,{})})}),(0,h.jsx)(i.A,{span:8,children:(0,h.jsx)(t.A.Item,{valuePropName:"checked",label:p("smtp_debug"),name:"smtp_debug",children:(0,h.jsx)(d.A,{})})}),(0,h.jsx)(i.A,{span:8,children:(0,h.jsx)(t.A.Item,{valuePropName:"checked",label:p("smtp_auth"),name:"smtp_auth",children:(0,h.jsx)(d.A,{})})})]}),(0,h.jsx)("div",{className:"flex-grow-1 d-flex flex-column justify-content-end",children:(0,h.jsx)("div",{className:"pb-5",children:(0,h.jsx)(o.A,{type:"primary",htmlType:"submit",loading:x,children:p("submit")})})})]})}}}]);