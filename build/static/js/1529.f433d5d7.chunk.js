"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[1529],{11529:(e,t,a)=>{a.r(t),a.d(t,{default:()=>y});var l=a(47313),i=a(2717),n=a(73431),d=a(24511),o=a(28780),r=a(83999),s=a(77181),c=a(2977),u=a(33834),v=a(90954),m=a(53149),p=a(97890),g=a(51282),f=a(80049),_=a(48662),h=a(68150),x=a(46417);const{Step:b}=r.Z,y=()=>{var e;const{t:t}=(0,d.$)(),{activeMenu:a}=(0,i.v9)((e=>e.menu),i.wU),y=(0,u.K)(),j=Number((null===(e=y.values)||void 0===e?void 0:e.step)||0),[Z,k]=(0,l.useState)(a.refetch),S=(0,i.I0)(),{uuid:w}=(0,p.UO)(),{languages:$}=(0,i.v9)((e=>e.formLang),i.wU),C=()=>{const e=j+1;y.set("step",e)},M=()=>{const e=j-1;y.set("step",e)},U=e=>({items:e,uid:e,url:e,name:e});function F(e){if(null===e||void 0===e||!e.translations)return{};const{translations:t}=e,a=$.map((e=>{var a,l,i;return{[`title[${e.locale}]`]:null===(a=t.find((t=>t.locale===e.locale)))||void 0===a?void 0:a.title,[`description[${e.locale}]`]:null===(l=t.find((t=>t.locale===e.locale)))||void 0===l?void 0:l.description,[`address[${e.locale}]`]:null===(i=t.find((t=>t.locale===e.locale)))||void 0===i?void 0:i.address}}));return Object.assign({},...a)}return(0,l.useEffect)((()=>{a.refetch&&w&&(e=>{k(!0),m.Z.getById(e).then((e=>{var t,l,i,n,d,o;const r={...e.data,...F(e.data),logo_img:U(e.data.logo_img),background_img:U(e.data.background_img),user:{label:e.data.seller.firstname+" "+e.data.seller.lastname,value:e.data.seller.id},delivery_time_from:null===(t=e.data)||void 0===t?void 0:t.delivery_time.from,delivery_time_to:null===(l=e.data)||void 0===l?void 0:l.delivery_time.to,delivery_time_type:null===(i=e.data)||void 0===i?void 0:i.delivery_time.type,recommended:"recommended"===e.data.mark,categories:null===(n=e.data)||void 0===n||null===(d=n.categories)||void 0===d?void 0:d.map((e=>{var t;return{label:null===e||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title,value:e.id,key:e.id}})),tags:null===(o=e.data)||void 0===o?void 0:o.tags.map((e=>{var t;return{label:null===e||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title,value:e.id,key:e.id}}))};S((0,v.nc)({activeMenu:a,data:r}))})).finally((()=>{k(!1),S((0,v.A_)(a))}))})(w)}),[a.refetch]),(0,x.jsxs)(s.Z,{title:t("restaurant.edit"),extra:(0,x.jsx)(n.Z,{}),children:[(0,x.jsx)(r.Z,{current:j,onChange:e=>{S((0,v.nc)({activeMenu:a,data:{...a.data,step:e}})),y.set("step",e)},children:o.S.map((e=>(0,x.jsx)(b,{title:t(e.title)},e.title)))}),Z?(0,x.jsx)(g.Z,{}):(0,x.jsxs)("div",{className:"steps-content",children:["First-content"===o.S[j].content&&(0,x.jsx)(f.Z,{next:C,loading:Z,action_type:"edit",user:!0}),"Second-content"===o.S[j].content&&(0,x.jsx)(h.Z,{next:C,prev:M}),"Third-content"===o.S[j].content&&(0,x.jsx)(_.Z,{next:C,prev:M}),"Four-content"===o.S[j].content&&(0,x.jsx)(c.Z,{next:C,prev:M})]})]})}}}]);