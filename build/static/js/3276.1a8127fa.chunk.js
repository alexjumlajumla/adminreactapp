"use strict";(self.webpackChunkjumlajumla_dashboard=self.webpackChunkjumlajumla_dashboard||[]).push([[3276],{12158:(l,i,e)=>{e.d(i,{A:()=>a});var d=e(59051),s=e.n(d),n=e(70030);function a(l){const{t:i}=(0,n.B)();let e=s()(),d=s()(l),a=e.diff(d,"hours"),o=e.diff(d,"minutes");return a>23?s()(l).format("Do MMM, H:mm"):a>0?a+" "+i("hours.ago"):o+" "+i("minutes.ago")}},29597:(l,i,e)=>{e.d(i,{A:()=>d});e(63620);function d(l){if(null===l||void 0===l||!l.location)return{lat:47.4143302506288,lng:8.532059477976883};const i=l.location.split(", ");return{lat:Number(null===i||void 0===i?void 0:i[0]),lng:Number(null===i||void 0===i?void 0:i[1])}}},41478:(l,i,e)=>{l.exports=e.p+"static/media/user.fbe7078c52acde79652d.jpg"},53774:(l,i,e)=>{e.d(i,{A:()=>s});var d=e(83291);function s(){var l,i;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;const a=null===(l=d.M.getState())||void 0===l||null===(i=l.currency)||void 0===i?void 0:i.defaultCurrency,o=Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),t=s||(null===a||void 0===a?void 0:a.symbol)||"$";return"after"===(n||(null===a||void 0===a?void 0:a.position)||"before")?`${o} ${t}`:`${t} ${o}`}},73631:(l,i,e)=>{l.exports=e.p+"static/media/shop.46d7a94ca800c711764a.png"},73737:(l,i,e)=>{e.d(i,{A:()=>o});e(9950);var d=e(12403),s=e(91854),n=e(63620),a=e(44414);function o(l){let{center:i,handleLoadMap:e,children:o}=l;const{google_map_key:t}=(0,s.d4)((l=>l.globalSettings.settings),s.bN);return(0,a.jsx)(d.Ay,{bootstrapURLKeys:{key:t||n.CJ},defaultZoom:12,center:i,options:{fullscreenControl:!1},yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:l=>{let{map:i,maps:d}=l;return e(i,d)},children:o})}},87395:(l,i,e)=>{e.r(i),e.d(i,{default:()=>B});e(9950);var d=e(23263),s=e(87094),n=e(41988),a=e(70030),o=e(91854),t=e(73737),r=e(80737),v=e(74623),c=e(59051),u=e.n(c),m=e(44414);function h(l){var i,e;let{data:s,active:n}=l;const{t:t}=(0,a.B)(),c=(0,o.wA)(),{activeMenu:h}=(0,o.d4)((l=>l.menu),o.bN);return(0,m.jsxs)(d.A,{className:"user-card "+(n?"active":""),onClick:()=>{c((0,v.Ok)({activeMenu:h,data:{...h.data,item:s}}))},children:[(0,m.jsx)(r.A,{children:(0,m.jsxs)("div",{children:[(0,m.jsxs)("h4",{className:"title",children:[null===s||void 0===s||null===(i=s.shop)||void 0===i||null===(e=i.translation)||void 0===e?void 0:e.title," #",null===s||void 0===s?void 0:s.id]}),(0,m.jsx)("div",{className:"text-muted",children:t(null===s||void 0===s?void 0:s.status)})]})}),(0,m.jsx)("div",{className:"mt-2"}),(0,m.jsxs)(r.A,{children:[(0,m.jsxs)("div",{children:[t("delivery.time"),":"]}),(0,m.jsx)("div",{children:u()(`${null===s||void 0===s?void 0:s.delivery_date} ${(null===s||void 0===s?void 0:s.delivery_time)||"00:00"}`).format("Do MMM, H:mm")})]})]})}var x=e(54909),j=e(14936),p=e(29633),b=e(63620),N=e(89627),g=e(12158),A=e(53774);const f=l=>{var i,e,d;let{data:t,order:r}=l;const{t:v}=(0,a.B)(),c=(0,g.A)(null===t||void 0===t||null===(i=t.delivery_man_setting)||void 0===i?void 0:i.updated_at),{defaultCurrency:u}=(0,o.d4)((l=>l.currency),o.bN),h=null===t||void 0===t?void 0:t.assign_reviews_avg_rating,f=null===t||void 0===t?void 0:t.phone,y=null===t||void 0===t?void 0:t.delivery_man_orders_count,_=null===t||void 0===t?void 0:t.delivery_man_orders_sum_total_price,M=null===t||void 0===t?void 0:t.delivery_man_setting,$=null===r||void 0===r?void 0:r.user;return(0,m.jsx)("div",{children:(0,m.jsxs)(x.A,{children:[(0,m.jsx)(x.A.TabPane,{tab:v("order.details"),children:(0,m.jsxs)(s.A,{gutter:12,align:"middle",className:"pt-2",children:[(0,m.jsxs)(n.A,{span:4,children:[(0,m.jsxs)("div",{className:"title",children:["#",null===r||void 0===r?void 0:r.id]}),(0,m.jsx)("div",{className:"label",children:v("order.id")})]}),(0,m.jsxs)(n.A,{span:4,children:[(0,m.jsx)("div",{className:"title",children:null===r||void 0===r||null===(e=r.shop)||void 0===e?void 0:e.translation.title}),(0,m.jsx)("div",{className:"label",children:v("shop")})]}),(0,m.jsxs)(n.A,{span:4,children:[(0,m.jsxs)("div",{className:"title",children:[null===r||void 0===r?void 0:r.km," ",v("km")]}),(0,m.jsx)("div",{className:"label",children:v("distance")})]}),(0,m.jsxs)(n.A,{span:4,children:[(0,m.jsx)("div",{className:"title",children:(0,A.A)(null===r||void 0===r?void 0:r.delivery_fee,null===u||void 0===u?void 0:u.symbol,null===u||void 0===u?void 0:u.position)}),(0,m.jsx)("div",{className:"label",children:v("delivery.fee")})]}),(0,m.jsxs)(n.A,{span:4,children:[(0,m.jsx)("div",{className:"title",children:(0,A.A)(null===r||void 0===r?void 0:r.total_price,null===u||void 0===u?void 0:u.symbol,null===u||void 0===u?void 0:u.position)}),(0,m.jsxs)("div",{className:"label",children:[" ",v("total.price")]})]}),(0,m.jsxs)(n.A,{span:4,children:[(0,m.jsx)("div",{className:"title",children:v(null===r||void 0===r?void 0:r.status)}),(0,m.jsx)("div",{className:"label",children:v("status")})]})]})},"item-1"),(0,m.jsx)(x.A.TabPane,{tab:v("driver.information"),children:(0,m.jsxs)(s.A,{gutter:12,align:"middle",className:"",children:[(0,m.jsx)(n.A,{span:8,children:(0,m.jsxs)("div",{className:"d-flex align-items-center",children:[(0,m.jsx)(j.A,{src:b.sE+(null===t||void 0===t?void 0:t.img)}),(0,m.jsxs)("div",{className:"ml-2",children:[(0,m.jsx)("div",{className:"title",children:(null===t||void 0===t?void 0:t.firstname)+" "+(null===t||void 0===t?void 0:t.lastname)}),(0,m.jsx)(p.A,{disabled:!0,allowHalf:!0,value:h||0})]})]})}),(0,m.jsxs)(n.A,{span:4,children:[(0,m.jsx)("div",{className:"title",children:f}),(0,m.jsx)("div",{className:"label",children:v("phone")})]}),(0,m.jsxs)(n.A,{span:4,children:[(0,m.jsx)("div",{className:"title",children:c}),(0,m.jsx)("div",{className:"label",children:v("last.activity")})]}),(0,m.jsxs)(n.A,{span:4,children:[(0,m.jsx)("div",{className:"title",children:y}),(0,m.jsx)("div",{className:"label",children:v("total.orders")})]}),(0,m.jsxs)(n.A,{span:4,children:[(0,m.jsx)("div",{className:"title",children:(0,N.r)(_)}),(0,m.jsxs)("div",{className:"label",children:[" ",v("total.earning")]})]})]})},"item-2"),(0,m.jsx)(x.A.TabPane,{tab:v("vehicle"),children:(0,m.jsxs)(s.A,{gutter:12,align:"middle",className:"pt-2",children:[(0,m.jsxs)(n.A,{span:4,children:[(0,m.jsx)("div",{className:"title",children:null===M||void 0===M?void 0:M.number}),(0,m.jsx)("div",{className:"label",children:v("number")})]}),(0,m.jsxs)(n.A,{span:4,children:[(0,m.jsx)("div",{className:"title",children:null===M||void 0===M?void 0:M.brand}),(0,m.jsx)("div",{className:"label",children:v("brand")})]}),(0,m.jsxs)(n.A,{span:4,children:[(0,m.jsx)("div",{className:"title",children:null===M||void 0===M?void 0:M.model}),(0,m.jsx)("div",{className:"label",children:v("model")})]}),(0,m.jsxs)(n.A,{span:4,children:[(0,m.jsx)("div",{className:"title",children:null===M||void 0===M?void 0:M.type_of_technique}),(0,m.jsx)("div",{className:"label",children:v("fuel")})]}),(0,m.jsxs)(n.A,{span:4,children:[(0,m.jsx)("div",{className:"title",children:null===M||void 0===M?void 0:M.color}),(0,m.jsx)("div",{className:"label",children:v("color")})]})]})},"item-3"),(0,m.jsx)(x.A.TabPane,{tab:v("customer.information"),children:(0,m.jsxs)(s.A,{gutter:12,align:"middle",className:"pt-2",children:[(0,m.jsx)(n.A,{span:2,children:(0,m.jsx)(j.A,{src:b.sE+(null===$||void 0===$?void 0:$.img)})}),(0,m.jsxs)(n.A,{span:6,children:[(0,m.jsx)("div",{className:"title",children:null===$||void 0===$?void 0:$.firstname}),(0,m.jsx)("div",{className:"label",children:v("firstname")})]}),(0,m.jsxs)(n.A,{span:6,children:[(0,m.jsx)("div",{className:"title",children:null===$||void 0===$?void 0:$.lastname}),(0,m.jsx)("div",{className:"label",children:v("lastname")})]}),(0,m.jsxs)(n.A,{span:6,children:[(0,m.jsx)("div",{className:"title",children:(null===r||void 0===r||null===(d=r.address)||void 0===d?void 0:d.address)||v("no")}),(0,m.jsx)("div",{className:"label",children:v("address")})]})]})},"item-4")]})})};var y=e(29597),_=e(41478),M=e(73631);const $=e.p+"static/media/courier.59e69eafd191c79a3a9a.png",k=()=>(0,m.jsx)("div",{style:{position:"absolute",transform:"translate(-50%, -100%)"},children:(0,m.jsx)("img",{src:$,width:80,alt:"user"})}),w=()=>(0,m.jsx)("div",{style:{position:"absolute",transform:"translate(-50%, -100%)"},children:(0,m.jsx)("img",{src:M,width:50,alt:"shop"})}),C=()=>(0,m.jsx)("div",{style:{position:"absolute",transform:"translate(-50%, -100%)"},children:(0,m.jsx)("img",{src:_,width:50,alt:"user"})});function B(){var l,i,e,r,v,c,u,x,j,p,N,g,A;const{t:_}=(0,a.B)(),{activeMenu:M}=(0,o.d4)((l=>l.menu),o.bN),$=(null===M||void 0===M||null===(l=M.data)||void 0===l?void 0:l.list)||[],B=null===M||void 0===M||null===(i=M.data)||void 0===i?void 0:i.item,L=null===M||void 0===M||null===(e=M.data)||void 0===e?void 0:e.deliveryman,{settings:T}=(0,o.d4)((l=>l.globalSettings),o.bN),P=(0,y.A)(T);return(0,m.jsx)(d.A,{title:_("active.orders"),className:"delivery",children:(0,m.jsxs)(s.A,{gutter:8,children:[(0,m.jsx)(n.A,{span:6,children:(0,m.jsx)("div",{className:"order-list",children:$.map(((l,i)=>(0,m.jsx)(h,{data:l,active:(null===B||void 0===B?void 0:B.id)===l.id},l.id+i)))})}),(0,m.jsxs)(n.A,{span:18,children:[(0,m.jsx)(d.A,{className:"map-user-card with-order",children:(0,m.jsx)(f,{data:L,order:B})}),(0,m.jsx)("div",{className:"map-container",style:{height:"65vh",width:"100%"},children:(0,m.jsxs)(t.A,{center:P,handleLoadMap:(l,i)=>{var e,d,s,n,a,o,t,r,v,c;const u=[{lat:Number((null===L||void 0===L||null===(e=L.delivery_man_setting)||void 0===e||null===(d=e.location)||void 0===d?void 0:d.latitude)||"0"),lng:Number((null===L||void 0===L||null===(s=L.delivery_man_setting)||void 0===s||null===(n=s.location)||void 0===n?void 0:n.longitude)||"0")},{lat:Number((null===B||void 0===B||null===(a=B.location)||void 0===a?void 0:a.latitude)||"0"),lng:Number((null===B||void 0===B||null===(o=B.location)||void 0===o?void 0:o.longitude)||"0")},{lat:Number((null===B||void 0===B||null===(t=B.shop)||void 0===t||null===(r=t.location)||void 0===r?void 0:r.latitude)||"0"),lng:Number((null===B||void 0===B||null===(v=B.shop)||void 0===v||null===(c=v.location)||void 0===c?void 0:c.longitude)||"0")}];let m=new i.LatLngBounds;for(var h=0;h<u.length;h++)m.extend(u[h]);l.fitBounds(m)},children:[(0,m.jsx)(k,{lat:Number((null===L||void 0===L||null===(r=L.delivery_man_setting)||void 0===r||null===(v=r.location)||void 0===v?void 0:v.latitude)||"0"),lng:Number((null===L||void 0===L||null===(c=L.delivery_man_setting)||void 0===c||null===(u=c.location)||void 0===u?void 0:u.longitude)||"0"),url:b.sE+(null===L||void 0===L?void 0:L.img)}),(0,m.jsx)(C,{lat:Number((null===B||void 0===B||null===(x=B.location)||void 0===x?void 0:x.latitude)||"0"),lng:Number((null===B||void 0===B||null===(j=B.location)||void 0===j?void 0:j.longitude)||"0")}),(0,m.jsx)(w,{lat:Number((null===B||void 0===B||null===(p=B.shop)||void 0===p||null===(N=p.location)||void 0===N?void 0:N.latitude)||"0"),lng:Number((null===B||void 0===B||null===(g=B.shop)||void 0===g||null===(A=g.location)||void 0===A?void 0:A.longitude)||"0")})]},"map"+(null===B||void 0===B?void 0:B.id))})]})]})})}},89627:(l,i,e)=>{function d(l,i){var e=[{value:1,symbol:""},{value:1e3,symbol:"k"},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}].slice().reverse().find((function(i){return l>=i.value}));return e?"$"+(l/e.value).toFixed(i).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+e.symbol:"0"}e.d(i,{r:()=>d})}}]);