"use strict";(self.webpackChunkjumlajumla_dashboard=self.webpackChunkjumlajumla_dashboard||[]).push([[6455],{6455:(e,t,i)=>{i.r(t),i.d(t,{default:()=>w});var d=i(9950),a=i(25933),l=i(80737),s=i(48538),n=i(23263),o=i(12203),r=i(70030),c=i(91854),u=i(76083),v=i(98459),m=i(7843),f=i(12449),p=i(55386),A=i(74623),h=i(59051),x=i.n(h),j=i(24513),g=i(53387),k=i(13564),y=i(12970),_=i(13311),C=i(35116),b=i(44414);function w(){const{t:e}=(0,r.B)(),[t,i]=(0,d.useState)(!1),{activeMenu:h}=(0,c.d4)((e=>e.menu),c.bN),w=(0,c.wA)(),I=(0,k.Zp)(),[M,P]=(0,d.useState)(null),[z,R]=(0,d.useState)("delete"),{setIsModalVisible:S}=(0,d.useContext)(p.o),{isDemo:D}=(0,_.A)(),{emailProvider:Y,loading:B}=(0,c.d4)((e=>e.emailProvider),c.bN);const N=[{title:e("from_site"),dataIndex:"from_site",key:"from_site"},{title:e("from.to"),dataIndex:"from_to",key:"from_to",render:e=>D?(0,y.A)(e):e},{title:e("active"),dataIndex:"active",render:(e,t)=>(0,b.jsx)(a.A,{onChange:()=>{R("active"),S(!0),P(t.id)},disabled:t.deleted_at,checked:e})},{title:e("created.at"),dataIndex:"created_at",key:"created_at",render:e=>x()(e).format("YYYY-MM-DD")},{title:e("options"),key:"id",dataIndex:"id",is_show:!0,render:(t,i)=>(0,b.jsxs)(l.A,{children:[(0,b.jsx)(s.A,{type:"primary",icon:(0,b.jsx)(j.A,{}),onClick:()=>function(t){w((0,A.X4)({url:`settings/emailProviders/${t.id}`,id:"edit_email_providers",name:e("edit.email.providers")})),I(`/settings/emailProviders/${t.id}`,{state:"edit"})}(i)}),(0,b.jsx)(C.A,{onClick:()=>O(t)})]})}],O=t=>{t?(R("delete"),P([t]),S(!0)):f.oR.warning(e("no.id"))};return(0,d.useEffect)((()=>{h.refetch&&(w((0,v.o)()),w((0,A.km)(h)))}),[h.refetch]),(0,b.jsxs)(n.A,{title:e("email.provider"),extra:(0,b.jsx)(l.A,{children:(0,b.jsx)(s.A,{icon:(0,b.jsx)(g.A,{}),type:"primary",onClick:()=>{w((0,A.X4)({id:"add_email_providers",url:"settings/emailProviders/add",name:e("add_email_providers")})),I("/settings/emailProviders/add")},children:e("add.email.provider")})}),children:[(0,b.jsx)(o.A,{scroll:{x:!0},columns:N,dataSource:Y,rowKey:e=>e.id,loading:B,pagination:!1}),(0,b.jsx)(u.A,{click:"delete"===z?()=>{i(!0);const t={...Object.assign({},...M.map(((e,t)=>({[`ids[${t}]`]:e}))))};m.A.delete(t).then((()=>{P(null),S(!1),f.oR.success(e("successfully.deleted")),w((0,A.Ms)(h))})).finally((()=>i(!1)))}:()=>{i(!0),m.A.setActive(M).then((()=>{f.oR.success(e("successfully.updated")),S(!1),w((0,v.o)())})).finally((()=>i(!1)))},text:e("delete"===z?"are.you.sure.to.delete":"set.active.email.provider")})]})}},12970:(e,t,i)=>{function d(e){var t,i;let d=null===e||void 0===e?void 0:e.slice(0,1),a=null===e||void 0===e?void 0:e.lastIndexOf("@"),l=null===e||void 0===e?void 0:e.slice(1,a-1);l=null===(t=l)||void 0===t?void 0:t.replace(/./g,"*");let s=null===e||void 0===e?void 0:e.slice(a-1,e.length);return null===d||void 0===d||null===(i=d.concat(l))||void 0===i?void 0:i.concat(s)}i.d(t,{A:()=>d})},35116:(e,t,i)=>{i.d(t,{A:()=>r});i(9950);var d=i(48538),a=i(44070),l=i(12449),s=i(70030),n=i(13311),o=i(44414);function r(e){let{size:t="",onClick:i,type:r="default",...c}=e;const{t:u}=(0,s.B)(),{isDemo:v}=(0,n.A)();return(0,o.jsx)(d.A,{size:t,icon:(0,o.jsx)(a.A,{}),onClick:e=>{v?l.oR.warning(u("cannot.work.demo")):i(e)},type:r,...c})}},53387:(e,t,i)=>{i.d(t,{A:()=>o});var d=i(89379),a=i(9950);const l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};var s=i(25085),n=function(e,t){return a.createElement(s.A,(0,d.A)((0,d.A)({},e),{},{ref:t,icon:l}))};n.displayName="PlusCircleOutlined";const o=a.forwardRef(n)}}]);