"use strict";(self.webpackChunkjumlajumla_dashboard=self.webpackChunkjumlajumla_dashboard||[]).push([[7314],{27314:(e,l,t)=>{t.r(l),t.d(l,{default:()=>k});var i=t(9950),a=t(3969),n=t(23263),o=t(90650),d=t(12449),u=t(13564),s=t(71999),r=t(91854),v=t(74623),c=t(62572),p=t(63620),m=t(35804),f=t(70030),g=t(41064),h=t(31281),A=t(82405),j=t(44414);const k=()=>{const{t:e}=(0,f.B)(),l=(0,u.Zp)(),t=(0,r.wA)(),{activeMenu:k}=(0,r.d4)((e=>e.menu),r.bN),[y,b]=(0,i.useState)(!1),[_]=a.A.useForm(),[x,w]=(0,i.useState)(null),{uuid:M}=(0,u.g)(),{languages:N}=(0,r.d4)((e=>e.formLang),r.bN);(0,i.useEffect)((()=>()=>{const e=_.getFieldsValue(!0);t((0,v.Ok)({activeMenu:k,data:e}))}),[]);return(0,i.useEffect)((()=>{var e;k.refetch&&(e=M,b(!0),c.A.getById(e).then((e=>{var l,i,a;let n=e.data;const o={...(0,g.A)(N,n,["title","description"]),image:[(d=null===n||void 0===n?void 0:n.img,{name:d,url:p.sE+d})],keywords:null===n||void 0===n?void 0:n.keywords.split(","),parent_id:{label:null===n||void 0===n||null===(l=n.parent)||void 0===l||null===(i=l.translation)||void 0===i?void 0:i.title,value:null===n||void 0===n?void 0:n.parent_id,key:null===n||void 0===n?void 0:n.parent_id},input:null!==(a=null===n||void 0===n?void 0:n.input)&&void 0!==a?a:32767,active:!(null===n||void 0===n||!n.active)};var d;_.setFieldsValue(o),t((0,v.Ok)({activeMenu:k,data:o}))})).finally((()=>{b(!1),t((0,v.km)(k))})))}),[k.refetch]),(0,j.jsx)(n.A,{title:e("clone.category"),extra:(0,j.jsx)(s.A,{}),children:y?(0,j.jsx)("div",{className:"d-flex justify-content-center align-items-center py-5",children:(0,j.jsx)(o.A,{size:"large",className:"mt-5 pt-5"})}):(0,j.jsx)(A.A,{form:_,handleSubmit:(i,a)=>{var n,o,u;const s={title:(0,h.A)(N,i),description:(0,h.A)(N,i,"description"),type:null!==(n=i.parent_id)&&void 0!==n&&n.value?"sub_shop":"shop",active:Number(null===i||void 0===i?void 0:i.active),keywords:null===i||void 0===i||null===(o=i.keywords)||void 0===o?void 0:o.join(","),parent_id:null===i||void 0===i||null===(u=i.parent_id)||void 0===u?void 0:u.value,images:null===a||void 0===a?void 0:a.map((e=>null===e||void 0===e?void 0:e.name)),input:null===i||void 0===i?void 0:i.input};return c.A.create(s).then((()=>{d.oR.success(e("successfully.created")),(0,r.vA)((()=>{t((0,v.EK)({...k,nextUrl:"catalog/shop/categories"})),t((0,m.J)({}))})),l("/catalog/shop/categories")})).catch((e=>w(e.response.data.params)))},error:x})})}},41064:(e,l,t)=>{function i(e,l){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["title"];if(null===l||void 0===l||!l.translations)return{};const{translations:i}=l,a=(e,l)=>{const t=null===i||void 0===i?void 0:i.find((l=>(null===l||void 0===l?void 0:l.locale)===(null===e||void 0===e?void 0:e.locale)));return t||{[l]:""}},n=e.flatMap((e=>t.flatMap((l=>({[`${l}[${null===e||void 0===e?void 0:e.locale}]`]:a(e,l)[l]})))));return Object.assign({},...n)}t.d(l,{A:()=>i})}}]);