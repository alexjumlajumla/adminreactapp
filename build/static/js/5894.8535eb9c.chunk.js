"use strict";(self.webpackChunkjumlajumla_dashboard=self.webpackChunkjumlajumla_dashboard||[]).push([[5894],{15894:(e,l,i)=>{i.r(l),i.d(l,{default:()=>y});var n=i(9950),t=i(86366),d=i(23263),r=i(71999),a=i(91854),o=i(70030),s=i(11906),u=i(26405),c=i(79019),v=i(62425),p=i(76092),x=i(34293),m=i(44414);const{Step:j}=t.A,y=()=>{var e;const{t:l}=(0,o.B)(),{activeMenu:i}=(0,a.d4)((e=>e.menu),a.bN),[y,h]=(0,n.useState)((null===(e=i.data)||void 0===e?void 0:e.step)||0),A=()=>{h(y+1)},g=()=>{h(y-1)};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(d.A,{title:l("add.food"),extra:(0,m.jsx)(r.A,{}),children:(0,m.jsx)(t.A,{current:y,children:u.C.map((e=>(0,m.jsx)(j,{title:l(e.title)},e.title)))})}),(0,m.jsxs)("div",{children:["First-content"===u.C[y].content&&(0,m.jsx)(x.A,{next:A}),"Second-content"===u.C[y].content&&(0,m.jsx)(p.A,{next:A,prev:g}),"Third-content"===u.C[y].content&&(0,m.jsx)(s.A,{next:A,prev:g,userRole:"seller"}),"Fourth-content"===u.C[y].content&&(0,m.jsx)(c.A,{next:A,prev:g}),"Finish-content"===u.C[y].content&&(0,m.jsx)(v.A,{prev:g})]})]})}},79019:(e,l,i)=>{i.d(l,{A:()=>S});var n=i(91854),t=i(9950),d=i(68387),r=i(32645),a=i(23263),o=i(80737),s=i(48538),u=i(70030),c=i(67231),v=i(12449),p=i(13564),x=i(74623),m=i(12203),j=i(24513),y=i(44070),h=i(35116),A=i(44414);const g=e=>{let{properties:l,editSelectedProperty:i,deleteProperty:n,loading:t=!1}=e;const{t:d}=(0,u.B)(),r=[{title:d("key"),dataIndex:"key",key:"key"},{title:d("value"),dataIndex:"value",key:"value"},{title:d("options"),key:"options",render:(e,l)=>(0,A.jsxs)(o.A,{children:[(0,A.jsx)(s.A,{type:"primary",icon:(0,A.jsx)(j.A,{}),onClick:()=>i(l)}),(0,A.jsx)(h.A,{type:"primary",danger:!0,icon:(0,A.jsx)(y.A,{}),onClick:()=>n(null===l||void 0===l?void 0:l.id)})]})}];return(0,A.jsx)(a.A,{loading:t,children:(0,A.jsx)(m.A,{dataSource:l,columns:r,pagination:!1})})};var k=i(3969),f=i(87094),b=i(41988),C=i(55902);const F=e=>{let{addNewProperty:l,loading:i=!1}=e;const{t:t}=(0,u.B)(),[r]=k.A.useForm(),{defaultLang:o,languages:c}=(0,n.d4)((e=>e.formLang),n.bN);return(0,A.jsx)(a.A,{loading:i,children:(0,A.jsx)(k.A,{form:r,layout:"vertical",onFinish:e=>{const i={key:null===e||void 0===e?void 0:e[`key[${o}]`],value:null===e||void 0===e?void 0:e[`value[${o}]`]},n=c.map((l=>({id:(0,d.P)(),locale:null===l||void 0===l?void 0:l.locale,key:(null===e||void 0===e?void 0:e[`key[${null===l||void 0===l?void 0:l.locale}]`])||(null===i||void 0===i?void 0:i.key),value:(null===e||void 0===e?void 0:e[`value[${l.locale}]`])||(null===i||void 0===i?void 0:i.value)})));l(n),r.resetFields()},children:(0,A.jsxs)(f.A,{gutter:12,children:[(0,A.jsx)(b.A,{span:8,children:c.map((e=>(0,A.jsx)(k.A.Item,{label:t("key"),name:`key[${(null===e||void 0===e?void 0:e.locale)||"en"}]`,hidden:(null===e||void 0===e?void 0:e.locale)!==o,rules:[{required:(null===e||void 0===e?void 0:e.locale)===o,message:t("required")},{type:"string",min:2,max:200,message:t("min.2.max.200.chars")}],children:(0,A.jsx)(C.A,{})},null===e||void 0===e?void 0:e.locale)))}),(0,A.jsx)(b.A,{span:8,children:c.map((e=>(0,A.jsx)(k.A.Item,{label:t("value"),name:`value[${(null===e||void 0===e?void 0:e.locale)||"en"}]`,hidden:(null===e||void 0===e?void 0:e.locale)!==o,rules:[{required:(null===e||void 0===e?void 0:e.locale)===o,message:t("required")},{type:"string",min:2,max:200,message:t("min.2.max.200.chars")}],children:(0,A.jsx)(C.A,{})},null===e||void 0===e?void 0:e.locale)))}),(0,A.jsx)(b.A,{children:(0,A.jsx)(k.A.Item,{label:" ",children:(0,A.jsx)(s.A,{type:"primary",htmlType:"submit",children:t("add")})})})]})})})},P=e=>{let{property:l,editProperty:i}=e;const{t:n}=(0,u.B)(),[t]=k.A.useForm();return(0,A.jsx)(a.A,{children:(0,A.jsx)(k.A,{form:t,layout:"vertical",onFinish:e=>{i({...l,...e})},initialValues:{key:null===l||void 0===l?void 0:l.key,value:null===l||void 0===l?void 0:l.value},children:(0,A.jsxs)(f.A,{gutter:12,children:[(0,A.jsx)(b.A,{span:24,children:(0,A.jsx)(k.A.Item,{label:n("key"),name:"key",rules:[{required:!0,message:n("required")},{type:"string",min:2,max:200,message:n("min.2.max.200.chars")}],children:(0,A.jsx)(C.A,{})})}),(0,A.jsx)(b.A,{span:24,children:(0,A.jsx)(k.A.Item,{label:n("value"),name:"value",rules:[{required:!0,message:n("required")},{type:"string",min:2,max:200,message:n("min.2.max.200.chars")}],children:(0,A.jsx)(C.A,{})})}),(0,A.jsx)(b.A,{span:24,children:(0,A.jsx)(s.A,{type:"primary",htmlType:"submit",className:"w-100",children:n("edit")})})]})})})},S=e=>{var l;let{prev:i,next:m,isRequest:j=!1}=e;const{t:y}=(0,u.B)(),{uuid:h}=(0,p.g)(),k=(0,n.wA)(),{defaultLang:f}=(0,n.d4)((e=>e.formLang),n.bN),{activeMenu:b}=(0,n.d4)((e=>e.menu),n.bN),[C,S]=(0,t.useState)(j&&(null===(l=b.data)||void 0===l?void 0:l.properties)||[]),[q,I]=(0,t.useState)(null),[N,w]=(0,t.useState)(!1),[B,$]=(0,t.useState)(!1);(0,t.useEffect)((()=>{j||L(h)}),[]);const L=e=>{w(!0),c.A.getById(e).then((e=>{var l,i;S(null===e||void 0===e||null===(l=e.data)||void 0===l||null===(i=l.properties)||void 0===i?void 0:i.map((e=>({...e,id:(0,d.P)()}))))})).finally((()=>{w(!1)}))};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(F,{loading:N,addNewProperty:e=>{S([...C,...e])}}),(0,A.jsx)(g,{loading:N,properties:null===C||void 0===C?void 0:C.filter((e=>(null===e||void 0===e?void 0:e.locale)===f)),editSelectedProperty:I,deleteProperty:e=>{r.A.confirm({title:y("are.you.sure?"),okText:y("yes"),onOk:()=>{S((l=>l.filter((l=>l.id!==e))))}})}}),(0,A.jsx)(a.A,{children:(0,A.jsxs)(o.A,{children:[(0,A.jsx)(s.A,{onClick:i,disabled:N,children:y("prev")}),(0,A.jsx)(s.A,{type:"primary",onClick:()=>{const e={key:[],value:[]};if(null===C||void 0===C||C.map((l=>{e.key.push({[null===l||void 0===l?void 0:l.locale]:null===l||void 0===l?void 0:l.key}),e.value.push({[null===l||void 0===l?void 0:l.locale]:null===l||void 0===l?void 0:l.value})})),j)return k((0,x.Ok)({activeMenu:b,data:{...b.data,properties:C,props:e}})),void m();$(!0),c.A.properties(h,e).then((()=>{v.oR.success(y("successfully.updated")),m()})).finally((()=>{$(!1)}))},disabled:N,loading:B,children:y("next")})]})}),!!q&&(0,A.jsx)(r.A,{visible:!!q,onCancel:()=>{I(null)},footer:!1,children:(0,A.jsx)(P,{property:q,editProperty:e=>{S((l=>l.map((l=>l.id===e.id?e:l)))),I(null)}})})]})}}}]);