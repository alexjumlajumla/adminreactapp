"use strict";(self.webpackChunkjumlajumla_dashboard=self.webpackChunkjumlajumla_dashboard||[]).push([[4571],{369:(e,t,a)=>{a.d(t,{A:()=>p});var l=a(9950),s=a(3969),n=a(87094),i=a(41988),d=a(55902),r=a(25933),u=a(48538),c=a(70030),o=a(91854),m=a(76214),h=a(85023),v=a(44414);function p(e){var t;let{form:a,handleSubmit:p,type:j="add"}=e;const{t:x}=(0,c.B)(),{activeMenu:y}=(0,o.d4)((e=>e.menu),o.bN),[A,b]=(0,l.useState)(!1),[f,g]=(0,l.useState)(null===y||void 0===y||null===(t=y.data)||void 0===t?void 0:t.activePayment);return(0,v.jsxs)(s.A,{layout:"vertical",name:"user-address",form:a,onFinish:e=>{b(!0);const t={...e,activePayment:f};p(t).finally((()=>b(!1)))},initialValues:{status:!0,...null===y||void 0===y?void 0:y.data},children:[(0,v.jsxs)(n.A,{gutter:12,children:[(0,v.jsx)(i.A,{span:"cash"===(null===f||void 0===f?void 0:f.label.toLowerCase())||"wallet"===(null===f||void 0===f?void 0:f.label.toLowerCase())?12:24,children:(0,v.jsx)(s.A.Item,{label:x("payment"),name:"payment_id",rules:[{required:!0,message:x("required")}],children:(0,v.jsx)(h.D,{fetchOptions:async function(){return m.A.allPayment().then((e=>{let{data:t}=e;return t.map((e=>({label:(null===e||void 0===e?void 0:e.tag[0].toUpperCase())+(null===e||void 0===e?void 0:e.tag.substring(1)),value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id})))}))},onSelect:e=>g(e),disabled:"edit"===j})})}),"cash"===(null===f||void 0===f?void 0:f.label.toLowerCase())||"wallet"===(null===f||void 0===f?void 0:f.label.toLowerCase())?"":(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(i.A,{span:12,children:(0,v.jsx)(s.A.Item,{label:x("client.id"),name:"client_id",rules:[{required:!0,message:x("required")}],children:(0,v.jsx)(d.A,{})})}),(0,v.jsx)(i.A,{span:12,children:(0,v.jsx)(s.A.Item,{label:x("secret.id"),name:"secret_id",rules:[{required:!0,message:x("required")}],children:(0,v.jsx)(d.A,{})})}),"Paystack"===(null===f||void 0===f?void 0:f.label)?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(i.A,{span:12,children:(0,v.jsx)(s.A.Item,{label:x("payment.id"),name:"payment_key",rules:[{required:!0,message:x("required")}],children:(0,v.jsx)(d.A,{})})}),(0,v.jsx)(i.A,{span:12,children:(0,v.jsx)(s.A.Item,{label:x("merchant.email"),name:"merchant_email",rules:[{required:!0,message:x("required")}],children:(0,v.jsx)(d.A,{})})})]}):""]}),(0,v.jsx)(i.A,{span:12,children:(0,v.jsx)(s.A.Item,{label:x("status"),name:"status",valuePropName:"checked",children:(0,v.jsx)(r.A,{})})})]}),(0,v.jsx)("div",{className:"flex-grow-1 d-flex flex-column justify-content-end",children:(0,v.jsx)("div",{className:"pb-5",children:(0,v.jsx)(u.A,{type:"primary",htmlType:"submit",loading:A,disabled:A,children:x("submit")})})})]})}},24571:(e,t,a)=>{a.r(t),a.d(t,{default:()=>j});var l=a(9950),s=a(13564),n=a(12449),i=a(3969),d=a(23263),r=a(90650),u=a(91854),c=a(74623),o=a(70030),m=a(76214),h=a(53496),v=a(369),p=a(44414);const j=()=>{const{t:e}=(0,o.B)(),{activeMenu:t}=(0,u.d4)((e=>e.menu),u.bN),a=(0,u.wA)(),[j]=i.A.useForm(),x=(0,s.Zp)(),{id:y}=(0,s.g)(),[A,b]=(0,l.useState)(!1);(0,l.useEffect)((()=>()=>{const e=j.getFieldsValue(!0);a((0,c.Ok)({activeMenu:t,data:e}))}),[]);return(0,l.useEffect)((()=>{t.refetch&&(e=>{b(!0),m.A.getById(e).then((e=>{let{data:l}=e;const s={...l,payment_id:l.payment.tag,activePayment:{label:l.payment.tag,value:l.payment.id,key:l.payment.id}};j.setFieldsValue({...s}),a((0,c.Ok)({activeMenu:t,data:s}))})).finally((()=>{b(!1),a((0,c.km)(t))}))})(y)}),[t.refetch]),(0,p.jsx)(d.A,{title:e("edit.payment"),className:"h-100",children:A?(0,p.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,p.jsx)(r.A,{size:"large",className:"py-5"})}):(0,p.jsx)(v.A,{form:j,handleSubmit:l=>{const s={...l,payment_id:l.activePayment.value};return m.A.update(y,s).then((()=>{const l="seller/payments";n.oR.success(e("successfully.updated")),(0,u.vA)((()=>{a((0,c.EK)({...t,nextUrl:l})),a((0,h.Np)({}))})),x(`/${l}`)}))},type:"edit"})})}},85023:(e,t,a)=>{a.d(t,{D:()=>d});var l=a(9950),s=a(99674),n=a(90650),i=a(44414);const d=e=>{let{fetchOptions:t,refetch:a=!1,...d}=e;const[r,u]=(0,l.useState)(!1),[c,o]=(0,l.useState)([]);return(0,i.jsx)(s.A,{labelInValue:!0,filterOption:!1,notFoundContent:r?(0,i.jsx)(n.A,{size:"small"}):"no results",...d,options:r?[]:c,onFocus:()=>{c.length&&!a||(u(!0),t().then((e=>{o(e),u(!1)})))}})}}}]);