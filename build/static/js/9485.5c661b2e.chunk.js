"use strict";(self.webpackChunkjumlajumla_dashboard=self.webpackChunkjumlajumla_dashboard||[]).push([[9485],{69485:(e,t,l)=>{l.r(t),l.d(t,{default:()=>k});var i=l(9950),a=l(3969),n=l(23263),s=l(90650),d=l(12449),o=l(13564),u=l(71999),r=l(91854),c=l(74623),v=l(62572),p=l(63620),m=l(70030),f=l(61707),g=l(31281),h=l(287),j=l(44414);const k=()=>{const{t:e}=(0,m.B)(),t=(0,o.Zp)(),l=(0,r.wA)(),{activeMenu:k}=(0,r.d4)((e=>e.menu),r.bN),[y,A]=(0,i.useState)(!1),[b]=a.A.useForm(),[x,w]=(0,i.useState)(null),{uuid:E}=(0,o.g)(),{languages:N}=(0,r.d4)((e=>e.formLang),r.bN);(0,i.useEffect)((()=>()=>{const e=b.getFieldsValue(!0);l((0,c.Ok)({activeMenu:k,data:e}))}),[]);function F(e){if(!e)return{};const{translations:t}=e,l=N.map((e=>{var l,i;return{[`title[${e.locale}]`]:null===(l=t.find((t=>t.locale===e.locale)))||void 0===l?void 0:l.title,[`description[${e.locale}]`]:null===(i=t.find((t=>t.locale===e.locale)))||void 0===i?void 0:i.description}}));return Object.assign({},...l)}return(0,i.useEffect)((()=>{var e;k.refetch&&(e=E,A(!0),v.A.getById(e).then((e=>{var t;let i=e.data;const a={...i,...F(i),image:null!==i&&void 0!==i&&null!==(t=i.img)&&void 0!==t&&t.length?[(n=null===i||void 0===i?void 0:i.img,{name:n,url:p.sE+n})]:[],keywords:i.keywords.split(","),input:i.input?null===i||void 0===i?void 0:i.input:0};var n;l((0,c.Ok)({activeMenu:k,data:a})),b.setFieldsValue(a)})).finally((()=>{A(!1),l((0,c.km)(k))})))}),[k.refetch]),(0,j.jsx)(n.A,{title:e("edit.category"),extra:(0,j.jsx)(u.A,{}),children:y?(0,j.jsx)("div",{className:"d-flex justify-content-center align-items-center py-5",children:(0,j.jsx)(s.A,{size:"large",className:"mt-5 pt-5"})}):(0,j.jsx)(h.A,{form:b,handleSubmit:(i,a)=>{var n,s;const o={type:"receipt",title:(0,g.A)(N,i),description:(0,g.A)(N,i,"description"),keywords:null===i||void 0===i||null===(n=i.keywords)||void 0===n?void 0:n.join(","),input:null!==(s=null===i||void 0===i?void 0:i.input)&&void 0!==s?s:0,images:null===a||void 0===a?void 0:a.map((e=>null===e||void 0===e?void 0:e.name)),active:null!==i&&void 0!==i&&i.active?1:0,parent_id:void 0},u="catalog/recipe-categories";return v.A.update(E,o).then((()=>{d.oR.success(e("successfully.updated")),(0,r.vA)((()=>{l((0,c.EK)({...k,nextUrl:u})),l((0,f.rn)({}))})),t(`/${u}`)})).catch((e=>w(e.response.data.params)))},error:x})})}}}]);