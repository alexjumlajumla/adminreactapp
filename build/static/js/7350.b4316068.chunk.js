"use strict";(self.webpackChunkjumlajumla_dashboard=self.webpackChunkjumlajumla_dashboard||[]).push([[7350],{17696:(e,a,t)=>{t.d(a,{A:()=>h});var s=t(9950),i=t(3969),l=t(87094),r=t(41988),n=t(55902),d=t(25933),c=t(48538),m=t(16254),u=t(91854),o=t(70030),v=t(44414);function h(e){var a,t;let{form:h,handleSubmit:j}=e;const{t:A}=(0,o.B)(),{activeMenu:b}=(0,u.d4)((e=>e.menu),u.bN),[f,p]=(0,s.useState)(null!==(a=b.data)&&void 0!==a&&a.image?null===(t=b.data)||void 0===t?void 0:t.image:[]),[x,g]=(0,s.useState)(!1);return(0,v.jsxs)(i.A,{name:"basic",layout:"vertical",onFinish:e=>{g(!0),j(e,f).finally((()=>g(!1)))},form:h,initialValues:{active:!0,...b.data},children:[(0,v.jsxs)(l.A,{gutter:12,children:[(0,v.jsx)(r.A,{span:12,children:(0,v.jsx)(i.A.Item,{label:A("title"),name:"title",rules:[{validator:(e,a)=>a?a&&""===(null===a||void 0===a?void 0:a.trim())?Promise.reject(new Error(A("no.empty.space"))):a&&(null===a||void 0===a?void 0:a.trim().length)<2?Promise.reject(new Error(A("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(A("required")))}],children:(0,v.jsx)(n.A,{})})}),(0,v.jsx)(r.A,{span:6,children:(0,v.jsx)(i.A.Item,{label:A("image"),name:"images",rules:[{validator:()=>0===(null===f||void 0===f?void 0:f.length)?Promise.reject(new Error(A("required"))):Promise.resolve()}],children:(0,v.jsx)(m.A,{type:"brands",imageList:f,setImageList:p,form:h,multiple:!1})})}),(0,v.jsx)(r.A,{span:6,children:(0,v.jsx)("div",{className:"col-md-12 col-sm-6",children:(0,v.jsx)(i.A.Item,{label:A("active"),name:"active",valuePropName:"checked",children:(0,v.jsx)(d.A,{})})})})]}),(0,v.jsx)(c.A,{type:"primary",htmlType:"submit",loading:x,children:A("submit")})]})}},97350:(e,a,t)=>{t.r(a),t.d(a,{default:()=>b});var s=t(9950),i=t(3969),l=t(23263),r=t(90650),n=t(12449),d=t(13564),c=t(91854),m=t(74623),u=t(63620),o=t(70030),v=t(14056),h=t(59759),j=t(17696),A=t(44414);const b=()=>{const{t:e}=(0,o.B)(),{activeMenu:a}=(0,c.d4)((e=>e.menu),c.bN),{id:t}=(0,d.g)(),b=(0,c.wA)(),{params:f}=(0,c.d4)((e=>e.brand),c.bN),[p]=i.A.useForm(),x=(0,d.Zp)(),[g,y]=(0,s.useState)(!1);(0,s.useEffect)((()=>()=>{const e=p.getFieldsValue(!0);b((0,m.Ok)({activeMenu:a,data:e}))}),[]);return(0,s.useEffect)((()=>{a.refetch&&(e=>{y(!0),v.A.getById(e).then((e=>{let t=e.data;const s={...t,image:[(i=t.img,{name:i,url:u.sE+i})]};var i;p.setFieldsValue(s),b((0,m.Ok)({activeMenu:a,data:s}))})).finally((()=>{y(!1),b((0,m.km)(a))}))})(t)}),[a.refetch]),(0,A.jsx)(l.A,{title:e("edit.brand"),children:g?(0,A.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,A.jsx)(r.A,{size:"large",className:"py-5"})}):(0,A.jsx)(j.A,{form:p,handleSubmit:(s,i)=>{var l;const r={...s,active:s.active?1:0,"images[0]":null===(l=i[0])||void 0===l?void 0:l.name},d={...f},u="seller/brands";return v.A.update(t,r).then((()=>{n.oR.success(e("successfully.updated")),(0,c.vA)((()=>{b((0,m.EK)({...a,nextUrl:u})),b((0,h.w1)(d))})),x(`/${u}`)}))}})})}}}]);