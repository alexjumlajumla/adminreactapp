"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[2099],{53233:(e,t,n)=>{n.d(t,{Z:()=>p});var l=n(47313),a=n(56140),s=n(67251),i=n(45705),o=n(86345),d=n(78267),r=n(37388),c=n(59491),u=n(99587),v=n(24511),h=n(46417);const{Text:m}=a.Z,p=e=>{let{columns:t=[],setColumns:n,style:a,size:p="",iconOnly:x}=e;const{t:Z}=(0,v.$)(),[f,j]=(0,l.useState)(!1),g=(0,h.jsx)(s.Z,{children:null===t||void 0===t?void 0:t.map(((e,l)=>(0,h.jsx)(s.Z.Item,{children:(0,h.jsxs)(i.Z,{className:"d-flex justify-content-between",children:[(0,h.jsx)(m,{children:e.title}),(0,h.jsx)(o.Z,{defaultChecked:!0,onClick:()=>function(e){const l=null===t||void 0===t?void 0:t.map((t=>(t.dataIndex===e.dataIndex&&(t.is_show=!(null!==t&&void 0!==t&&t.is_show)),t)));n(l)}(e),disabled:1===l})]})},e+l)))});return(0,h.jsx)(d.Z,{overlay:g,trigger:["click"],onVisibleChange:e=>{j(e)},visible:f,children:(0,h.jsx)(r.Z,{title:Z("change.columns"),children:(0,h.jsx)(c.Z,{style:{...a},size:p,icon:(0,h.jsx)(u.Z,{}),children:x?null:Z("Columns")})})})}},89281:(e,t,n)=>{n.d(t,{h:()=>r});var l=n(47313),a=n(12279),s=n.n(a),i=n(74294),o=n(72652),d=n(46417);const r=e=>{let{fetchOptions:t,debounceTimeout:n=400,onClear:a,...r}=e;const[c,u]=(0,l.useState)(!1),[v,h]=(0,l.useState)([]),m=(0,l.useMemo)((()=>s()((e=>{h([]),u(!0),t(e).then((e=>{h(e),u(!1)}))}),n)),[t,n]);return(0,d.jsx)(i.Z,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:m,onClear:()=>{m(""),a&&a()},notFoundContent:c?(0,d.jsx)(o.Z,{size:"small"}):"no results",...r,options:v,onFocus:()=>{m("")}})}},13945:(e,t,n)=>{function l(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}n.d(t,{Z:()=>l})},84017:(e,t,n)=>{n.d(t,{Z:()=>a});var l=n(67968);function a(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0;const i=null===(e=l.h.getState())||void 0===e||null===(t=e.currency)||void 0===t?void 0:t.defaultCurrency,o=Number(n).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),d=a||(null===i||void 0===i?void 0:i.symbol)||"$",r=s||(null===i||void 0===i?void 0:i.position)||"before";return"after"===r?`${o} ${d}`:`${d} ${o}`}},72099:(e,t,n)=>{n.r(t),n.d(t,{default:()=>V});var l=n(47313),a=n(73591),s=n(66204),i=n(59491),o=n(77181),d=n(45705),r=n(78508),c=n(31741),u=n(2717),v=n(90954),h=n(24511),m=n(80314),p=n(13945),x=n(89281),Z=n(58328),f=n(93655),j=n(9274),g=n(83371),y=n(51282),b=n(93161),_=n(84017),w=n(70816),I=n.n(w),C=n(46417);function k(e){var t,n,a;let{id:o,handleCancel:d}=e;const{defaultCurrency:r}=(0,u.v9)((e=>e.currency),u.wU),[c,v]=(0,l.useState)({}),[m,p]=(0,l.useState)(!1),{t:x}=(0,h.$)();return(0,l.useEffect)((()=>{!function(e){p(!0),b.Z.getById(e).then((e=>v(e.data))).finally((()=>p(!1)))}(o)}),[o]),(0,C.jsx)(j.Z,{visible:!!o,title:x("transaction"),onCancel:d,footer:(0,C.jsx)(i.Z,{type:"default",onClick:d,children:x("cancel")}),children:m?(0,C.jsx)(y.Z,{}):(0,C.jsxs)(g.Z,{bordered:!0,children:[(0,C.jsx)(g.Z.Item,{span:3,label:x("transaction.id"),children:c.id}),(0,C.jsxs)(g.Z.Item,{span:3,label:x("client"),children:[null===(t=c.user)||void 0===t?void 0:t.firstname," ",null===(n=c.user)||void 0===n?void 0:n.lastname]}),(0,C.jsx)(g.Z.Item,{span:3,label:x("price"),children:(0,_.Z)(c.price,null===r||void 0===r?void 0:r.symbol,null===r||void 0===r?void 0:r.position)}),(0,C.jsx)(g.Z.Item,{span:3,label:x("payment.type"),children:x(null===(a=c.payment_system)||void 0===a?void 0:a.tag)}),(0,C.jsx)(g.Z.Item,{span:3,label:x("created.at"),children:I()(null===c||void 0===c?void 0:c.created_at).format("YYYY-MM-DD HH:mm")}),(0,C.jsx)(g.Z.Item,{span:3,label:x("status"),children:"progress"===c.status?(0,C.jsx)(s.Z,{color:"gold",children:x(c.status)}):"rejected"===c.status?(0,C.jsx)(s.Z,{color:"error",children:x(c.status)}):(0,C.jsx)(s.Z,{color:"cyan",children:x(c.status)})}),(0,C.jsx)(g.Z.Item,{span:3,label:x("status.description"),children:c.status_description}),(0,C.jsx)(g.Z.Item,{span:3,label:x("note"),children:c.note})]})})}var z=n(53233);const{TabPane:S}=a.Z,H=["all","progress","paid","rejected"];function V(){var e,t,n,j;const g=(0,u.I0)(),{t:y}=(0,h.$)(),[b,w]=(0,l.useState)(null),{activeMenu:V}=(0,u.v9)((e=>e.menu),u.wU),{defaultCurrency:$}=(0,u.v9)((e=>e.currency),u.wU),[M,Y]=(0,l.useState)("all"),P=(null===(e=V.data)||void 0===e?void 0:e.role)||M,[D,O]=(0,l.useState)([{title:y("id"),dataIndex:"id",key:"id",sorter:!0,is_show:!0},{title:y("client"),dataIndex:"user",key:"user",is_show:!0,render:e=>(0,C.jsxs)("div",{children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})},{title:y("amount"),dataIndex:"price",key:"price",is_show:!0,render:(e,t)=>(0,_.Z)(e,null===$||void 0===$?void 0:$.symbol,null===$||void 0===$?void 0:$.position)},{title:y("payment.type"),dataIndex:"payment_system",key:"payment_system",is_show:!0,render:e=>null===e||void 0===e?void 0:e.tag},{title:y("status"),dataIndex:"status",key:"status",is_show:!0,render:e=>(0,C.jsx)("div",{children:"progress"===e?(0,C.jsx)(s.Z,{color:"gold",children:y(e)}):"rejected"===e?(0,C.jsx)(s.Z,{color:"error",children:y(e)}):(0,C.jsx)(s.Z,{color:"cyan",children:y(e)})})},{title:y("status.note"),dataIndex:"status_description",key:"status_description",is_show:!0},{title:y("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0,render:(e,t)=>I()(null===t||void 0===t?void 0:t.created_at).format("YYYY-MM-DD HH:mm")},{title:y("options"),key:"options",is_show:!0,render:(e,t)=>(0,C.jsx)(i.Z,{icon:(0,C.jsx)(c.Z,{}),onClick:()=>(e=>{w(e.id)})(t)})}]),{transactions:T,meta:U,loading:E,params:F}=(0,u.v9)((e=>e.transaction),u.wU),N=V.data,A={sort:null===N||void 0===N?void 0:N.sort,column:null===N||void 0===N?void 0:N.column,perPage:null===N||void 0===N?void 0:N.perPage,page:null===N||void 0===N?void 0:N.page,user_id:null===N||void 0===N?void 0:N.userId,status:"all"===P?void 0:P,model:"orders"};(0,m.Z)((()=>{g((0,f.J1)(A))}),[V.data]),(0,l.useEffect)((()=>{V.refetch&&(g((0,f.J1)(A)),g((0,v.A_)(V)))}),[V.refetch]);const B=e=>{const t=V.data;g((0,v.nc)({activeMenu:V,data:{...t,...e}}))};return(0,C.jsxs)(o.Z,{title:y("transactions"),extra:(0,C.jsxs)(d.Z,{children:[(0,C.jsx)(x.h,{placeholder:y("select.client"),fetchOptions:async function(e){const t={search:e,perPage:10};return Z.Z.getAll(t).then((e=>{let{data:t}=e;return t.map((e=>({label:`${e.firstname} ${e.lastname}`,value:e.id})))}))},onSelect:e=>B({userId:e.value}),onDeselect:()=>B({userId:null}),style:{minWidth:200}}),(0,C.jsx)(z.Z,{columns:D,setColumns:O})]}),children:[(0,C.jsx)(a.Z,{onChange:e=>{B({role:e,page:1}),Y(e)},type:"card",activeKey:P,children:H.map((e=>(0,C.jsx)(S,{tab:y(e)},e)))}),(0,C.jsx)(r.Z,{scroll:{x:!0},columns:null===D||void 0===D?void 0:D.filter((e=>e.is_show)),dataSource:T,loading:E,pagination:{pageSize:F.perPage,page:(null===(t=V.data)||void 0===t?void 0:t.page)||1,total:U.total,defaultCurrent:null===(n=V.data)||void 0===n?void 0:n.page,current:null===(j=V.data)||void 0===j?void 0:j.page},rowKey:e=>e.id,onChange:function(e,t,n){const{pageSize:l,current:a}=e,{field:s,order:i}=n,o=(0,p.Z)(i);g((0,v.nc)({activeMenu:V,data:{...N,perPage:l,page:a,column:s,sort:o}}))}}),b&&(0,C.jsx)(k,{id:b,handleCancel:()=>w(null)})]})}},99587:(e,t,n)=>{n.d(t,{Z:()=>d});var l=n(1413),a=n(47313);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var i=n(17469),o=function(e,t){return a.createElement(i.Z,(0,l.Z)((0,l.Z)({},e),{},{ref:t,icon:s}))};o.displayName="TableOutlined";const d=a.forwardRef(o)}}]);