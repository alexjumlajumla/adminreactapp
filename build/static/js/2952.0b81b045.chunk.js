"use strict";(self.webpackChunkjumlajumla_dashboard=self.webpackChunkjumlajumla_dashboard||[]).push([[2952],{32952:(e,s,a)=>{a.r(s),a.d(s,{default:()=>p});var i=a(9950),r=a(3969),t=a(32645),n=a(48538),l=a(70030),d=a(53196),c=a(81446),u=a(58566),m=a(91854),o=a(74623),h=a(44414);function p(e){let{modal:s,handleCancel:a,refetch:p}=e;const A=(0,m.wA)(),[j]=r.A.useForm(),{t:x}=(0,l.B)(),[b,v]=(0,i.useState)(!1),[f,g]=(0,i.useState)(!1),{activeMenu:w}=(0,m.d4)((e=>e.menu),m.bN);return(0,i.useEffect)((()=>{g(!0),d.A.getById(s.id).then((e=>{var s,a;const i={...e.data,with_report:!(null===e||void 0===e||null===(s=e.data)||void 0===s||!s.with_report),active:!(null===e||void 0===e||null===(a=e.data)||void 0===a||!a.active)};j.setFieldsValue({...i}),A((0,o.Ok)({activeMenu:w,data:i}))})).finally((()=>g(!1)))}),[s]),(0,h.jsx)(i.Fragment,{children:(0,h.jsx)(t.A,{visible:!!s,title:x("edit.subscription"),onCancel:a,style:{minWidth:800},footer:[(0,h.jsx)(n.A,{type:"primary",onClick:()=>j.submit(),loading:b,children:x("save")},"save-btn"),(0,h.jsx)(n.A,{type:"default",onClick:a,children:x("cancel")},"cancel-btn")],children:f?(0,h.jsx)(c.A,{}):(0,h.jsx)(u.A,{form:j,onFinish:e=>{const i={...e,active:Number(e.active),with_report:Number(e.with_report),type:"shop"};v(!0),d.A.update(s.id,i).then((()=>{a(),p()})).finally((()=>v(!1)))}})})})}},53196:(e,s,a)=>{a.d(s,{A:()=>r});var i=a(82371);const r={getAll:e=>i.A.get("dashboard/admin/subscriptions",{params:e}),getById:(e,s)=>i.A.get(`dashboard/admin/subscriptions/${e}`,{params:s}),update:(e,s)=>i.A.put(`dashboard/admin/subscriptions/${e}`,s),create:e=>i.A.post("dashboard/admin/subscriptions",e)}},58566:(e,s,a)=>{a.d(s,{A:()=>m});a(9950);var i=a(3969),r=a(87094),t=a(41988),n=a(55902),l=a(8724),d=a(25933),c=a(70030),u=a(44414);function m(e){let{form:s,onFinish:a}=e;const{t:m}=(0,c.B)();return(0,u.jsx)(i.A,{form:s,layout:"vertical",onFinish:a,children:(0,u.jsxs)(r.A,{gutter:12,children:[(0,u.jsx)(t.A,{span:12,children:(0,u.jsx)(i.A.Item,{label:m("title"),name:"title",rules:[{required:!0,message:m("required")}],children:(0,u.jsx)(n.A,{})})}),(0,u.jsx)(t.A,{span:12,children:(0,u.jsx)(i.A.Item,{label:m("period"),name:"month",rules:[{required:!0,message:m("required")}],children:(0,u.jsx)(l.A,{min:0,max:12,className:"w-100"})})}),(0,u.jsx)(t.A,{span:12,children:(0,u.jsx)(i.A.Item,{label:m("product_limit"),name:"product_limit",rules:[{required:!0,message:m("required")}],children:(0,u.jsx)(l.A,{min:0,className:"w-100"})})}),(0,u.jsx)(t.A,{span:12,children:(0,u.jsx)(i.A.Item,{label:m("order_limit"),name:"order_limit",rules:[{required:!0,message:m("required")}],children:(0,u.jsx)(l.A,{min:0,className:"w-100"})})}),(0,u.jsx)(t.A,{span:12,children:(0,u.jsx)(i.A.Item,{label:m("price"),name:"price",rules:[{required:!0,message:m("required")}],children:(0,u.jsx)(l.A,{min:0,className:"w-100"})})}),(0,u.jsx)(t.A,{span:12}),(0,u.jsx)(t.A,{span:12,children:(0,u.jsx)(i.A.Item,{label:m("with_report"),name:"with_report",valuePropName:"checked",children:(0,u.jsx)(d.A,{})})}),(0,u.jsx)(t.A,{span:12,children:(0,u.jsx)(i.A.Item,{label:m("active"),name:"active",valuePropName:"checked",children:(0,u.jsx)(d.A,{})})})]})})}}}]);