"use strict";(self.webpackChunkjumlajumla_dashboard=self.webpackChunkjumlajumla_dashboard||[]).push([[7271],{41064:(e,t,a)=>{function l(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["title"];if(null===t||void 0===t||!t.translations)return{};const{translations:l}=t,i=(e,t)=>{const a=null===l||void 0===l?void 0:l.find((t=>(null===t||void 0===t?void 0:t.locale)===(null===e||void 0===e?void 0:e.locale)));return a||{[t]:""}},n=e.flatMap((e=>a.flatMap((t=>({[`${t}[${null===e||void 0===e?void 0:e.locale}]`]:i(e,t)[t]})))));return Object.assign({},...n)}a.d(t,{A:()=>l})},47271:(e,t,a)=>{a.r(t),a.d(t,{default:()=>y});var l=a(9950),i=a(3969),n=a(23263),s=a(90650),o=a(12449),d=a(13564),r=a(71999),c=a(91854),u=a(74623),v=a(62572),m=a(85427),f=a(70030),g=a(31281),p=a(41064),h=a(62466),A=a(67658),j=a(44414);const y=()=>{const{t:e}=(0,f.B)(),t=(0,d.Zp)(),a=(0,c.wA)(),{activeMenu:y}=(0,c.d4)((e=>e.menu),c.bN),{params:k}=(0,c.d4)((e=>e.careerCategory),c.bN),[b,x]=(0,l.useState)(!1),[w]=i.A.useForm(),[M,N]=(0,l.useState)(null),{uuid:C}=(0,d.g)(),{languages:E}=(0,c.d4)((e=>e.formLang),c.bN);(0,l.useEffect)((()=>()=>{const e=w.getFieldsValue(!0);a((0,u.Ok)({activeMenu:y,data:e}))}),[]);return(0,l.useEffect)((()=>{var e;y.refetch&&(e=C,x(!0),v.A.getById(e).then((e=>{var t;let l=e.data;const i={...l,...(0,p.A)(E,l,["title","description"]),image:null!==l&&void 0!==l&&null!==(t=l.img)&&void 0!==t&&t.length?[(0,h.A)(null===l||void 0===l?void 0:l.img)]:[],keywords:l.keywords.split(",")};w.setFieldsValue(i),a((0,u.Ok)({activeMenu:y,data:i}))})).finally((()=>{x(!1),a((0,u.km)(y))})))}),[y.refetch]),(0,j.jsx)(n.A,{title:e("clone.category"),extra:(0,j.jsx)(r.A,{}),children:b?(0,j.jsx)("div",{className:"d-flex justify-content-center align-items-center py-5",children:(0,j.jsx)(s.A,{size:"large",className:"mt-5 pt-5"})}):(0,j.jsx)(A.A,{form:w,handleSubmit:(l,i)=>{var n;const s={title:(0,g.A)(E,l),description:(0,g.A)(E,l,"description"),keywords:null===l||void 0===l||null===(n=l.keywords)||void 0===n?void 0:n.join(","),images:null===i||void 0===i?void 0:i.map((e=>null===e||void 0===e?void 0:e.name)),active:null!==l&&void 0!==l&&l.active?1:0,parent_id:void 0,type:"career"},d="catalog/career-categories";v.A.create(s).then((()=>{o.oR.success(e("successfully.cloned")),a((0,u.EK)({...y,nextUrl:d})),a((0,m.b)(k)),t(`/${d}`)})).catch((e=>N(e.response.data.params)))},error:M})})}}}]);