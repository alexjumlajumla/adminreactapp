"use strict";(self.webpackChunkjumlajumla_dashboard=self.webpackChunkjumlajumla_dashboard||[]).push([[1064],{12970:(l,e,i)=>{function s(l){var e,i;let s=null===l||void 0===l?void 0:l.slice(0,1),d=null===l||void 0===l?void 0:l.lastIndexOf("@"),n=null===l||void 0===l?void 0:l.slice(1,d-1);n=null===(e=n)||void 0===e?void 0:e.replace(/./g,"*");let o=null===l||void 0===l?void 0:l.slice(d-1,l.length);return null===s||void 0===s||null===(i=s.concat(n))||void 0===i?void 0:i.concat(o)}i.d(e,{A:()=>s})},52864:(l,e,i)=>{i.d(e,{A:()=>p});var s=i(3969),d=i(87094),n=i(41988),o=i(99674),r=i(40895),t=i(80737),a=i(48538),v=i(70030),c=i(80415),u=i(9950),x=i(23758),m=i(91854),j=i(74623),h=i(44414);const p=l=>{let{onCancel:e,refreshOrders:i,data:p}=l;const[A]=s.A.useForm(),{t:y}=(0,v.B)(),N=(0,m.wA)(),{activeMenu:b}=(0,m.d4)((l=>l.menu),m.bN),[f,g]=(0,u.useState)(!1),_=c.HF.map((l=>({label:y(l),value:l,key:l})));return(0,h.jsx)(s.A,{form:A,layout:"vertical",initialValues:{status:p.status},onFinish:l=>{var s;const d={status:null===l||void 0===l||null===(s=l.status)||void 0===s?void 0:s.value,transaction_id:p.id};g(!0),x.A.updateTransactionStatus(null===p||void 0===p?void 0:p.payable_id,d).finally((()=>{g(!1),e(),i?i():N((0,j.Ms)(b))}))},children:(0,h.jsxs)(d.A,{gutter:12,children:[(0,h.jsx)(n.A,{span:24,children:(0,h.jsx)(s.A.Item,{label:y("status"),name:"status",rules:[{required:!0,message:y("required")}],children:(0,h.jsx)(o.A,{options:_,labelInValue:!0})})}),(0,h.jsx)(r.A,{}),(0,h.jsx)(n.A,{span:24,children:(0,h.jsxs)(t.A,{style:{display:"flex",justifyContent:"end"},children:[(0,h.jsx)(a.A,{onClick:e,children:y("cancel")}),(0,h.jsx)(a.A,{type:"primary",htmlType:"submit",loading:f,children:y("save")})]})})]})})}},61064:(l,e,i)=>{i.r(e),i.d(e,{default:()=>P});var s=i(9950),d=i(80737),n=i(12916),o=i(23263),r=i(48538),t=i(87094),a=i(41988),v=i(66362),c=i(74522),u=i(86366),x=i(90650),m=i(12203),j=i(20978),h=i(14936),p=i(74947),A=i(32645),y=i(24513),N=i(81419),b=i(13564),f=i(26689),g=i(23758),_=i(91854),k=i(74623),w=i(56592),C=i(23283),I=i(70030),Y=i(53774),z=i(51242),D=i(50327),M=i(38635),q=i(16339),H=i(63620),S=i(29949),B=i(52423),T=i(59051),F=i.n(T),$=i(25495),V=i(90352),O=i(13311),E=i(12970),Z=i(88810),R=i(3969),X=i(99674),J=i(40895),K=i(80415),L=i(44414);const U=l=>{let{orderDetailId:e,status:i,handleCancel:n}=l;const{t:o}=(0,I.B)(),[v]=R.A.useForm(),c=(0,_.wA)(),{activeMenu:u}=(0,_.d4)((l=>l.menu),_.bN),[x,m]=(0,s.useState)(!1),j=K.No.map((l=>({label:o(l),value:l,key:l})));return(0,L.jsxs)(R.A,{layout:"vertical",form:v,initialValues:{status:j.find((l=>(null===l||void 0===l?void 0:l.value)===i))},onFinish:l=>{var i;const s={status:null===l||void 0===l||null===(i=l.status)||void 0===i?void 0:i.value};m(!0),g.A.updateOrderDetailStatus(e,s).then((()=>{n(),c((0,k.Ms)(u))})).finally((()=>{m(!1)}))},children:[(0,L.jsx)(t.A,{gutter:12,children:(0,L.jsx)(a.A,{span:24,children:(0,L.jsx)(R.A.Item,{name:"status",label:o("status"),rules:[{required:!0,message:o("required")}],children:(0,L.jsx)(X.A,{labelInValue:!0,options:j})})})}),(0,L.jsx)(J.A,{}),(0,L.jsxs)(d.A,{children:[(0,L.jsx)(r.A,{onClick:n,children:o("cancel")}),(0,L.jsx)(r.A,{type:"primary",htmlType:"submit",loading:x,children:o("save")})]})]})};var G=i(52864);function P(){var l,e,i,T,R,X,J,K,P,Q,W,ll,el,il,sl,dl,nl,ol,rl,tl,al,vl,cl,ul,xl,ml,jl,hl,pl,Al,yl,Nl,bl,fl,gl,_l,kl,wl,Cl,Il;const{activeMenu:Yl}=(0,_.d4)((l=>l.menu),_.bN),{defaultCurrency:zl}=(0,_.d4)((l=>l.currency),_.bN),Dl=Yl.data,{t:Ml}=(0,I.B)(),{id:ql}=(0,b.g)(),Hl=(0,_.wA)(),Sl=(0,b.Zp)(),Bl=(0,s.useRef)(),Tl=(0,s.useRef)(),{isDemo:Fl}=(0,O.A)(),[$l,Vl]=(0,s.useState)(null),[Ol,El]=(0,s.useState)(!1),[Zl,Rl]=(0,s.useState)(null),[Xl,Jl]=(0,s.useState)(null),[Kl,Ll]=(0,s.useState)(null),[Ul,Gl]=(0,s.useState)(null),{statusList:Pl}=(0,_.d4)((l=>l.orderStatus),_.bN),Ql=[{title:Ml("id"),dataIndex:"id",key:"id",render:(l,e)=>{var i;return null===(i=e.stock)||void 0===i?void 0:i.id}},{title:Ml("product.name"),dataIndex:"product",key:"product",render:(l,e)=>{var i,s,o,r,t,a;return(0,L.jsxs)(d.A,{direction:"vertical",className:"relative",children:[null===e||void 0===e||null===(i=e.stock)||void 0===i||null===(s=i.product)||void 0===s||null===(o=s.translation)||void 0===o?void 0:o.title,null===e||void 0===e||null===(r=e.stock)||void 0===r||null===(t=r.extras)||void 0===t?void 0:t.map((l=>(0,L.jsx)(n.A,{children:null===l||void 0===l?void 0:l.value},null===l||void 0===l?void 0:l.id))),null===(a=e.addons)||void 0===a?void 0:a.map((l=>{var e,i,s;return(0,L.jsxs)(n.A,{children:[null===(e=l.stock)||void 0===e||null===(i=e.product)||void 0===i||null===(s=i.translation)||void 0===s?void 0:s.title," x ",l.quantity]},l.id)}))]})}},{title:Ml("image"),dataIndex:"stock",key:"stock",render:(l,e)=>{var i;return(0,L.jsx)(Z.A,{image:null===l||void 0===l||null===(i=l.product)||void 0===i?void 0:i.img,row:e})}},{title:Ml("kitchen"),dataIndex:"kitchen",key:"kitchen",render:l=>{var e;return(null===l||void 0===l||null===(e=l.translation)||void 0===e?void 0:e.title)||Ml("N/A")}},{title:Ml("status"),dataIndex:"status",key:"status",is_show:!0,render:(l,e)=>(0,L.jsxs)(d.A,{children:["new"===l?(0,L.jsx)(n.A,{color:"blue",children:Ml(l)}):"ended"===l?(0,L.jsx)(n.A,{color:"red",children:Ml(l)}):"cooking"===l?(0,L.jsx)(n.A,{color:"yellow",children:Ml(l)}):(0,L.jsx)(n.A,{color:"green",children:Ml(l)}),(0,L.jsx)(y.A,{onClick:()=>Ll(e)})]})},{title:Ml("price"),dataIndex:"origin_price",key:"origin_price",render:l=>(0,Y.A)(null!==l&&void 0!==l?l:0,null===zl||void 0===zl?void 0:zl.symbol,null===zl||void 0===zl?void 0:zl.position)},{title:Ml("quantity"),dataIndex:"quantity",key:"quantity",render:(l,e)=>{var i,s,d,n,o,r,t,a;return(0,L.jsxs)("span",{children:[(null!==(i=null===e||void 0===e?void 0:e.quantity)&&void 0!==i?i:1)*(null!==(s=null===e||void 0===e||null===(d=e.stock)||void 0===d||null===(n=d.product)||void 0===n?void 0:n.interval)&&void 0!==s?s:1),null===e||void 0===e||null===(o=e.stock)||void 0===o||null===(r=o.product)||void 0===r||null===(t=r.unit)||void 0===t||null===(a=t.translation)||void 0===a?void 0:a.title]})}},{title:Ml("discount"),dataIndex:"discount",key:"discount",render:function(){var l;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1?arguments[1]:void 0;return(0,Y.A)((null!==e&&void 0!==e?e:0)/(null!==(l=null===i||void 0===i?void 0:i.quantity)&&void 0!==l?l:1),null===zl||void 0===zl?void 0:zl.symbol,null===zl||void 0===zl?void 0:zl.position)}},{title:Ml("tax"),dataIndex:"tax",key:"tax",render:(l,e)=>{var i;return(0,Y.A)((null!==l&&void 0!==l?l:0)/(null!==(i=null===e||void 0===e?void 0:e.quantity)&&void 0!==i?i:1),null===zl||void 0===zl?void 0:zl.symbol,null===zl||void 0===zl?void 0:zl.position)}},{title:Ml("total.price"),dataIndex:"total_price",key:"total_price",render:(l,e)=>{var i;const s=(null!==l&&void 0!==l?l:0)+(null===e||void 0===e||null===(i=e.addons)||void 0===i?void 0:i.reduce(((l,e)=>{var i;return l+(null!==(i=null===e||void 0===e?void 0:e.total_price)&&void 0!==i?i:0)}),0));return(0,Y.A)(s,null===zl||void 0===zl?void 0:zl.symbol,null===zl||void 0===zl?void 0:zl.position)}},{title:Ml("payment.status"),dataIndex:"transaction_status",key:"transaction_status",is_show:!0,render:l=>(0,L.jsx)(n.A,{color:"paid"===l?"green":"progress"===l?"yellow":"red",children:Ml(l||"N/A")})},{title:Ml("note"),dataIndex:"note",key:"note",render:l=>l||Ml("N/A")}],Wl=[{title:Ml("type"),key:"payment_type",render:l=>{var e;return(0,L.jsx)("span",{children:Ml((null===(e=l.payment_system)||void 0===e?void 0:e.tag)||"N/A")})}},{title:Ml("amount"),key:"amount",render:l=>(0,L.jsx)("span",{children:(0,Y.A)(l.price,null===zl||void 0===zl?void 0:zl.symbol)})},{title:Ml("status"),key:"status",render:l=>(0,L.jsxs)("span",{children:[(0,L.jsx)(n.A,{children:Ml(l.status||"N/A")}),!!l&&"split"!==l.status&&(0,L.jsx)(y.A,{onClick:()=>Gl(l)})]})}],le=[{title:Ml("date"),dataIndex:"date",key:"date",render:(l,e)=>null!==e&&void 0!==e&&e.date?F()(null===e||void 0===e?void 0:e.date).format("YYYY-MM-DD HH:mm"):Ml("N/A")},{title:Ml("document"),dataIndex:"document",key:"document"},{title:Ml("number"),dataIndex:"number",key:"number"},{title:Ml("total.price"),dataIndex:"price",key:"price"}],ee=[{price:(0,Y.A)(null===Dl||void 0===Dl?void 0:Dl.total_price,null===zl||void 0===zl?void 0:zl.symbol,null===zl||void 0===zl?void 0:zl.position),number:(0,L.jsxs)(f.N_,{to:`/orders/generate-invoice/${null===Dl||void 0===Dl?void 0:Dl.id}`,children:["#",null===Dl||void 0===Dl?void 0:Dl.id]}),document:Ml("invoice"),date:F()(null===Dl||void 0===Dl||null===(l=Dl.transaction)||void 0===l?void 0:l.created_at).format("YYYY-MM-DD HH:mm")},{price:"-",number:(0,L.jsxs)(f.N_,{to:`/orders/generate-invoice/${null===Dl||void 0===Dl?void 0:Dl.id}`,children:["#",null===Dl||void 0===Dl?void 0:Dl.id]}),document:Ml("delivery.reciept"),date:F()(null===Dl||void 0===Dl||null===(e=Dl.transaction)||void 0===e?void 0:e.created_at).format("YYYY-MM-DD HH:mm")}],ie=()=>{Rl(null),Jl(null),Vl(null)};(0,s.useEffect)((()=>{Yl.refetch&&(El(!0),g.A.getById(ql).then((l=>{let{data:e}=l;Hl((0,k.Ok)({activeMenu:Yl,data:e}))})).finally((()=>{El(!1),Hl((0,k.km)(Yl))})),0===Pl.length&&Hl((0,V.rA)({})))}),[Yl.refetch]);return(0,L.jsxs)("div",{className:"order_details",children:[(0,L.jsx)(o.A,{className:"order-details-info",title:(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(q.iHs,{className:"mr-2 icon"}),`${Ml("order")} ${null!==Dl&&void 0!==Dl&&Dl.id?`#${null===Dl||void 0===Dl?void 0:Dl.id} `:""}`," ",Ml("from.order")," ",null===Dl||void 0===Dl||null===(i=Dl.user)||void 0===i?void 0:i.firstname," ",(null===Dl||void 0===Dl||null===(T=Dl.user)||void 0===T?void 0:T.lastname)||""]}),extra:"delivered"!==(null===Dl||void 0===Dl?void 0:Dl.status)&&"canceled"!==(null===Dl||void 0===Dl?void 0:Dl.status)?(0,L.jsxs)(d.A,{children:["delivered"!==(null===Dl||void 0===Dl?void 0:Dl.status)&&"canceled"!==(null===Dl||void 0===Dl?void 0:Dl.status)?(0,L.jsx)(r.A,{type:"primary",onClick:()=>Rl(Dl),children:Ml("change.status")}):null,(0,L.jsx)(r.A,{type:"primary",icon:(0,L.jsx)(y.A,{}),onClick:()=>{Hl((0,z.Uy)()),Hl((0,k.X4)({url:`order/${ql}`,id:"order_edit",name:Ml("edit.order")})),Sl(`/order/${ql}`)},children:Ml("edit")})]}):""}),(0,L.jsxs)(t.A,{gutter:24,children:[(0,L.jsx)(a.A,{span:24,children:(0,L.jsx)(o.A,{children:(0,L.jsxs)(d.A,{className:"justify-content-between w-100",children:[(0,L.jsxs)(d.A,{className:"align-items-start",children:[(0,L.jsx)(N.A,{className:"order-card-icon"}),(0,L.jsxs)("div",{className:"d-flex flex-column",children:[(0,L.jsx)(v.A.Text,{children:Ml("delivery.date")}),Ol?(0,L.jsx)(c.A.Button,{size:16}):(0,L.jsxs)(v.A.Text,{className:"order-card-title",children:[null===Dl||void 0===Dl?void 0:Dl.delivery_date," ",null===Dl||void 0===Dl?void 0:Dl.delivery_time]})]})]}),(0,L.jsxs)(d.A,{className:"align-items-start",onClick:()=>Tl.current.scrollIntoView({behavior:"smooth"}),children:[(0,L.jsx)(B.aOb,{className:"order-card-icon"}),(0,L.jsxs)("div",{className:"d-flex flex-column",children:[(0,L.jsx)(v.A.Text,{children:Ml("total.price")}),Ol?(0,L.jsx)(c.A.Button,{size:16,loading:Ol}):(0,L.jsx)(v.A.Text,{className:"order-card-title",children:(0,Y.A)(null===Dl||void 0===Dl?void 0:Dl.total_price,null===zl||void 0===zl?void 0:zl.symbol,null===zl||void 0===zl?void 0:zl.position)})]})]}),(0,L.jsxs)(d.A,{className:"align-items-start",children:[(0,L.jsx)(B.j6C,{className:"order-card-icon"}),(0,L.jsxs)("div",{className:"d-flex flex-column",children:[(0,L.jsx)(v.A.Text,{children:Ml("messages")}),Ol?(0,L.jsx)(c.A.Button,{size:16}):(0,L.jsx)(v.A.Text,{className:"order-card-title",children:null!==Dl&&void 0!==Dl&&Dl.review?1:0})]})]}),(0,L.jsxs)(d.A,{className:"align-items-start",onClick:()=>Bl.current.scrollIntoView({behavior:"smooth"}),children:[(0,L.jsx)(q.iHs,{className:"order-card-icon"}),(0,L.jsxs)("div",{className:"d-flex flex-column",children:[(0,L.jsx)(v.A.Text,{children:Ml("products")}),Ol?(0,L.jsx)(c.A.Button,{size:16}):(0,L.jsx)(v.A.Text,{className:"order-card-title",children:null===Dl||void 0===Dl||null===(R=Dl.details)||void 0===R?void 0:R.reduce(((l,e)=>l+e.quantity),0)})]})]})]})})}),"canceled"!==(null===Dl||void 0===Dl?void 0:Dl.status)&&(0,L.jsx)(a.A,{span:24,children:(0,L.jsx)(o.A,{children:(0,L.jsx)(u.A,{current:null===Pl||void 0===Pl?void 0:Pl.findIndex((l=>l.name===(null===Dl||void 0===Dl?void 0:Dl.status))),children:null===Pl||void 0===Pl?void 0:Pl.slice(0,-1).map((l=>(0,L.jsx)(u.A.Step,{title:Ml(l.name)},l.id)))})})}),(0,L.jsxs)(a.A,{span:16,children:[(0,L.jsx)(x.A,{spinning:Ol,children:(0,L.jsx)(o.A,{style:{minHeight:"200px"},children:(0,L.jsxs)(t.A,{hidden:Ol,className:"mb-3 order_detail",children:[(0,L.jsxs)(a.A,{span:12,children:[(0,L.jsxs)("div",{children:[Ml("created.date.&.time"),":",(0,L.jsxs)("span",{className:"ml-2",children:[(0,L.jsx)(S.cCc,{className:"mr-1"})," ",F()(null===Dl||void 0===Dl?void 0:Dl.created_at).format("YYYY-MM-DD HH:mm")," "]})]}),(0,L.jsx)("br",{}),(0,L.jsxs)("div",{children:[Ml("delivery.date.&.time"),":",(0,L.jsxs)("span",{className:"ml-2",children:[(0,L.jsx)(S.cCc,{className:"mr-1"})," ",null===Dl||void 0===Dl?void 0:Dl.delivery_date," ",null===Dl||void 0===Dl?void 0:Dl.delivery_time]})]}),(0,L.jsx)("br",{}),(0,L.jsxs)("div",{children:[Ml("house"),":",(0,L.jsx)("span",{className:"ml-2",children:Ml(null===Dl||void 0===Dl||null===(X=Dl.address)||void 0===X?void 0:X.house)})]}),(0,L.jsx)("br",{}),(0,L.jsxs)("div",{children:[Ml("floor"),":",(0,L.jsx)("span",{className:"ml-2",children:Ml(null===Dl||void 0===Dl||null===(J=Dl.address)||void 0===J?void 0:J.floor)})]}),(0,L.jsx)("br",{}),(0,L.jsxs)("div",{children:[Ml("note"),":",(0,L.jsx)("span",{className:"ml-2",children:Ml(null!==Dl&&void 0!==Dl&&Dl.note?null===Dl||void 0===Dl?void 0:Dl.note:"")})]}),(0,L.jsx)("br",{}),(0,L.jsx)("span",{children:Ml("payments")}),(0,L.jsx)(m.A,{columns:Wl,dataSource:null===Dl||void 0===Dl?void 0:Dl.transactions,pagination:!1}),(0,L.jsxs)(n.A,{className:"map_show mt-3",onClick:()=>Vl(ql),children:[(0,L.jsx)(D.gwi,{})," ",Ml("show.locations")]})]}),(0,L.jsxs)(a.A,{span:12,children:[(0,L.jsxs)("div",{children:[Ml("status"),":",(0,L.jsx)("span",{className:"ml-2",children:"new"===(null===Dl||void 0===Dl?void 0:Dl.status)?(0,L.jsx)(n.A,{color:"blue",children:Ml(null===Dl||void 0===Dl?void 0:Dl.status)}):"canceled"===(null===Dl||void 0===Dl?void 0:Dl.status)?(0,L.jsx)(n.A,{color:"error",children:Ml(null===Dl||void 0===Dl?void 0:Dl.status)}):(0,L.jsx)(n.A,{color:"cyan",children:Ml(null===Dl||void 0===Dl?void 0:Dl.status)})})]}),(0,L.jsx)("br",{}),(0,L.jsxs)("div",{children:[Ml("delivery.type"),":",(0,L.jsx)("span",{className:"ml-2",children:null===Dl||void 0===Dl?void 0:Dl.delivery_type})]}),(0,L.jsx)("br",{}),(0,L.jsxs)("div",{children:[Ml("payment.type"),":",(0,L.jsx)("span",{className:"ml-2",children:Ml(null===Dl||void 0===Dl||null===(K=Dl.transaction)||void 0===K||null===(P=K.payment_system)||void 0===P?void 0:P.tag)})]}),(0,L.jsx)("br",{}),(0,L.jsxs)("div",{children:[Ml("address"),":",(0,L.jsx)("span",{className:"ml-2",children:null===Dl||void 0===Dl||null===(Q=Dl.address)||void 0===Q?void 0:Q.address})]}),(0,L.jsx)("br",{}),(0,L.jsxs)("div",{children:[Ml("office"),":",(0,L.jsx)("span",{className:"ml-2",children:null===Dl||void 0===Dl||null===(W=Dl.address)||void 0===W?void 0:W.office})]}),(0,L.jsx)("br",{}),"dine_in"===(null===Dl||void 0===Dl?void 0:Dl.delivery_type)&&(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)("div",{children:[Ml("table"),":",(0,L.jsx)("span",{className:"ml-2",children:(null===Dl||void 0===Dl||null===(ll=Dl.table)||void 0===ll?void 0:ll.name)||Ml("N/A")})]}),(0,L.jsx)("br",{})]}),(0,L.jsxs)("div",{children:[Ml("otp"),":",(0,L.jsx)("span",{className:"ml-2",children:null!==(el=null===Dl||void 0===Dl?void 0:Dl.otp)&&void 0!==el?el:Ml("N/A")})]})]})]})})}),!(null===Dl||void 0===Dl||!Dl.image_after_delivered)&&(0,L.jsx)(o.A,{title:Ml("order.image"),children:(0,L.jsx)("div",{style:{width:"200px",height:"200px",overflow:"hidden"},children:(0,L.jsx)(j.A,{src:null===Dl||void 0===Dl?void 0:Dl.image_after_delivered,style:{objectFit:"contain"},height:"200px"})})}),(0,L.jsx)(o.A,{title:Ml("documents"),children:(0,L.jsx)(m.A,{columns:le,dataSource:ee,pagination:!1,loading:Ol})}),(0,L.jsxs)(o.A,{className:"w-100 order-table",children:[(0,L.jsx)(m.A,{ref:Bl,scroll:{x:!0},columns:Ql,dataSource:(null===(il=Yl.data)||void 0===il?void 0:il.details)||[],loading:Ol,rowKey:l=>l.id,pagination:!1}),(0,L.jsxs)(d.A,{size:100,className:"d-flex justify-content-end w-100 order-table__summary",children:[(0,L.jsxs)("div",{children:[(0,L.jsxs)("span",{children:[Ml("delivery.fee"),":"]}),(0,L.jsx)("br",{}),(0,L.jsxs)("span",{children:[Ml("order.tax"),":"]}),(0,L.jsx)("br",{}),(0,L.jsxs)("span",{children:[Ml("product"),":"]}),(0,L.jsx)("br",{}),(0,L.jsxs)("span",{children:[Ml("discount"),":"]}),(0,L.jsx)("br",{}),(null===Dl||void 0===Dl?void 0:Dl.coupon)&&(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)("span",{children:[Ml("coupon"),":"]}),(0,L.jsx)("br",{})]}),(0,L.jsxs)("span",{children:[Ml("service.fee"),":"]}),(0,L.jsx)("br",{}),(0,L.jsxs)("span",{children:[Ml("tips"),":"]}),(0,L.jsx)("br",{}),(0,L.jsxs)("h3",{children:[Ml("total.price"),":"]})]}),(0,L.jsxs)("div",{children:[(0,L.jsx)("span",{children:(0,Y.A)(null===Dl||void 0===Dl?void 0:Dl.delivery_fee,null===zl||void 0===zl?void 0:zl.symbol,null===zl||void 0===zl?void 0:zl.position)}),(0,L.jsx)("br",{}),(0,L.jsx)("span",{children:(0,Y.A)(null===Dl||void 0===Dl?void 0:Dl.tax,null===zl||void 0===zl?void 0:zl.symbol,null===zl||void 0===zl?void 0:zl.position)}),(0,L.jsx)("br",{}),(0,L.jsx)("span",{children:(0,Y.A)(null===Dl||void 0===Dl?void 0:Dl.origin_price,null===zl||void 0===zl?void 0:zl.symbol,null===zl||void 0===zl?void 0:zl.position)}),(0,L.jsx)("br",{}),(0,L.jsx)("span",{children:(0,Y.A)(null===Dl||void 0===Dl?void 0:Dl.total_discount,null===zl||void 0===zl?void 0:zl.symbol,null===zl||void 0===zl?void 0:zl.position)}),(0,L.jsx)("br",{}),(null===Dl||void 0===Dl?void 0:Dl.coupon)&&(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)("span",{children:(0,Y.A)(null===Dl||void 0===Dl||null===(sl=Dl.coupon)||void 0===sl?void 0:sl.price,null===zl||void 0===zl?void 0:zl.symbol,null===zl||void 0===zl?void 0:zl.position)}),(0,L.jsx)("br",{})]}),(0,L.jsx)("span",{children:(0,Y.A)(null===Dl||void 0===Dl?void 0:Dl.service_fee,null===zl||void 0===zl?void 0:zl.symbol,null===zl||void 0===zl?void 0:zl.position)}),(0,L.jsx)("br",{}),(0,L.jsx)("span",{children:(0,Y.A)(null===Dl||void 0===Dl?void 0:Dl.tips,null===zl||void 0===zl?void 0:zl.symbol,null===zl||void 0===zl?void 0:zl.position)}),(0,L.jsx)("br",{}),(0,L.jsx)("h3",{ref:Tl,children:(0,Y.A)(null===Dl||void 0===Dl?void 0:Dl.total_price,null===zl||void 0===zl?void 0:zl.symbol,null===zl||void 0===zl?void 0:zl.position)})]})]})]})]}),(0,L.jsxs)(a.A,{span:8,className:"order_info",children:[(0,L.jsxs)(o.A,{title:Ml("deliveryman"),extra:"ready"===(null===Dl||void 0===Dl?void 0:Dl.status)&&"delivery"===(null===Dl||void 0===Dl?void 0:Dl.delivery_type)&&(0,L.jsxs)(r.A,{onClick:()=>Jl(Dl),children:[Ml("change"),(0,L.jsx)(y.A,{})]}),children:["new"===(null===Dl||void 0===Dl?void 0:Dl.status)||"accepted"===(null===Dl||void 0===Dl?void 0:Dl.status)?(0,L.jsx)("p",{children:Ml("order_status_ready")}):"","new"===(null===Dl||void 0===Dl?void 0:Dl.status)||"accepted"===(null===Dl||void 0===Dl?void 0:Dl.status)||null!==Dl&&void 0!==Dl&&Dl.deliveryman?"":(0,L.jsx)("p",{children:Ml("The supplier is not assigned or delivery type pickup")}),(null===Dl||void 0===Dl?void 0:Dl.deliveryman)&&(0,L.jsxs)(d.A,{children:[(0,L.jsx)(h.A,{shape:"square",size:64,src:H.sE+(null===Dl||void 0===Dl||null===(dl=Dl.deliveryman)||void 0===dl?void 0:dl.img)}),(0,L.jsxs)("div",{children:[(0,L.jsxs)("h5",{children:[null===Dl||void 0===Dl||null===(nl=Dl.deliveryman)||void 0===nl?void 0:nl.firstname," ",(null===Dl||void 0===Dl||null===(ol=Dl.deliveryman)||void 0===ol?void 0:ol.lastname)||""]}),(0,L.jsxs)("span",{className:"delivery-info",children:[(0,L.jsx)(S.s91,{}),null===Dl||void 0===Dl||null===(rl=Dl.deliveryman)||void 0===rl?void 0:rl.phone]}),(0,L.jsxs)("div",{className:"delivery-info",children:[(0,L.jsx)("b",{children:(0,L.jsx)(D.mm2,{size:16})}),(0,L.jsx)("span",{children:Fl?(0,E.A)(null===Dl||void 0===Dl||null===(tl=Dl.deliveryman)||void 0===tl?void 0:tl.email):null===Dl||void 0===Dl||null===(al=Dl.deliveryman)||void 0===al?void 0:al.email})]})]})]})]}),!(null===Dl||void 0===Dl||!Dl.username)&&(0,L.jsxs)(o.A,{title:Ml("order.receiver"),children:[(0,L.jsxs)("div",{className:"customer-info",children:[(0,L.jsx)("span",{className:"title",children:Ml("name")}),(0,L.jsxs)("span",{className:"description",children:[(0,L.jsx)(S.tVJ,{}),null===Dl||void 0===Dl?void 0:Dl.username]})]}),(0,L.jsxs)("div",{className:"customer-info",children:[(0,L.jsx)("span",{className:"title",children:Ml("phone")}),(0,L.jsxs)("span",{className:"description",children:[(0,L.jsx)(S.s91,{}),null===Dl||void 0===Dl?void 0:Dl.phone]})]})]}),!(null===Dl||void 0===Dl||!Dl.user)&&(0,L.jsx)(o.A,{title:(0,L.jsxs)(d.A,{children:[Ml("customer.info"),(0,L.jsx)(y.A,{onClick:()=>(Hl((0,k.X4)({url:`users/user/${null===Dl||void 0===Dl?void 0:Dl.user.uuid}`,id:"user_info",name:Ml("user.info")})),void Sl(`/users/user/${null===Dl||void 0===Dl?void 0:Dl.user.uuid}`,{state:{user_id:null===Dl||void 0===Dl?void 0:Dl.user.id}}))})]}),children:(0,L.jsxs)("div",{className:"d-flex w-100 customer-info-container",children:[Ol?(0,L.jsx)(c.A.Avatar,{size:64,shape:"square"}):(0,L.jsx)(h.A,{shape:"square",size:64,src:null===Dl||void 0===Dl||null===(vl=Dl.user)||void 0===vl?void 0:vl.img}),(0,L.jsx)("h5",{className:"customer-name",children:Ol?(0,L.jsx)(c.A.Button,{size:20,style:{width:70}}):(null===Dl||void 0===Dl||null===(cl=Dl.user)||void 0===cl?void 0:cl.firstname)+" "+((null===Dl||void 0===Dl||null===(ul=Dl.user)||void 0===ul?void 0:ul.lastname)||"")}),(0,L.jsxs)("div",{className:"customer-info-detail",children:[(0,L.jsxs)("div",{className:"customer-info",children:[(0,L.jsx)("span",{className:"title",children:Ml("phone")}),(0,L.jsxs)("span",{className:"description",children:[(0,L.jsx)(S.s91,{}),Ol?(0,L.jsx)(c.A.Button,{size:16}):(null===Dl||void 0===Dl||null===(xl=Dl.user)||void 0===xl?void 0:xl.phone)||"none"]})]}),(0,L.jsxs)("div",{className:"customer-info",children:[(0,L.jsx)("span",{className:"title",children:Ml("email")}),(0,L.jsxs)("span",{className:"description",children:[(0,L.jsx)(D.mm2,{}),Ol?(0,L.jsx)(c.A.Button,{size:16}):Fl?(0,E.A)(null===Dl||void 0===Dl||null===(ml=Dl.user)||void 0===ml?void 0:ml.email):null===Dl||void 0===Dl||null===(jl=Dl.user)||void 0===jl?void 0:jl.email]})]}),(0,L.jsxs)("div",{className:"customer-info",children:[(0,L.jsx)("span",{className:"title",children:Ml("registration.date")}),(0,L.jsxs)("span",{className:"description",children:[(0,L.jsx)(S.cCc,{}),Ol?(0,L.jsx)(c.A.Button,{size:16}):F()(null===Dl||void 0===Dl||null===(hl=Dl.user)||void 0===hl?void 0:hl.created_at).format("DD-MM-YYYY, HH:mm")]})]}),(0,L.jsxs)("div",{className:"customer-info",children:[(0,L.jsx)("span",{className:"title",children:Ml("orders.count")}),(0,L.jsx)("span",{className:"description",children:Ol?(0,L.jsx)(c.A.Button,{size:16}):(0,L.jsx)(p.A,{showZero:!0,style:{backgroundColor:"#3d7de3"},count:(null===Dl||void 0===Dl||null===(pl=Dl.user)||void 0===pl?void 0:pl.orders_count)||0})})]}),(0,L.jsxs)("div",{className:"customer-info",children:[(0,L.jsx)("span",{className:"title",children:Ml("spent.since.registration")}),(0,L.jsx)("span",{className:"description",children:Ol?(0,L.jsx)(c.A.Button,{size:16}):(0,L.jsx)(p.A,{showZero:!0,style:{backgroundColor:"#48e33d"},count:(0,Y.A)(null===Dl||void 0===Dl||null===(Al=Dl.user)||void 0===Al?void 0:Al.orders_sum_price,null===zl||void 0===zl?void 0:zl.symbol,null===zl||void 0===zl?void 0:zl.position)})})]})]})]})}),(null===Dl||void 0===Dl?void 0:Dl.review)&&!Ol&&(0,L.jsx)(o.A,{title:Ml("messages"),children:(0,L.jsxs)("div",{className:"order-message",children:[(0,L.jsx)("span",{className:"message",children:null===Dl||void 0===Dl||null===(yl=Dl.review)||void 0===yl?void 0:yl.comment}),(0,L.jsx)(d.A,{className:"w-100 justify-content-end",children:(0,L.jsx)("span",{className:"date",children:F()(null===Dl||void 0===Dl||null===(Nl=Dl.review)||void 0===Nl?void 0:Nl.created_at).format("YYYY-MM-DD HH:mm")})})]})}),(0,L.jsx)(o.A,{title:Ml("store.information"),children:Ol?(0,L.jsx)(c.A,{avatar:!0,shape:"square",paragraph:{rows:2}}):(0,L.jsxs)(d.A,{className:"w-100",children:[(0,L.jsx)(h.A,{shape:"square",size:64,src:H.sE+(null===Dl||void 0===Dl||null===(bl=Dl.shop)||void 0===bl?void 0:bl.logo_img)}),(0,L.jsxs)("div",{children:[(0,L.jsx)("h5",{children:null===Dl||void 0===Dl||null===(fl=Dl.shop)||void 0===fl||null===(gl=fl.translation)||void 0===gl?void 0:gl.title}),(null===Dl||void 0===Dl||null===(_l=Dl.shop)||void 0===_l?void 0:_l.phone)&&(0,L.jsxs)("div",{className:"delivery-info",children:[(0,L.jsx)("b",{children:(0,L.jsx)(S.s91,{})}),(0,L.jsx)("span",{children:null===Dl||void 0===Dl||null===(kl=Dl.shop)||void 0===kl?void 0:kl.phone})]}),(0,L.jsxs)("div",{className:"delivery-info my-1",children:[(0,L.jsxs)("strong",{children:[Ml("min.delivery.price"),":"]}),(0,L.jsx)("span",{children:(0,Y.A)(null===Dl||void 0===Dl||null===(wl=Dl.shop)||void 0===wl?void 0:wl.price,null===zl||void 0===zl?void 0:zl.symbol,null===zl||void 0===zl?void 0:zl.position)})]}),(0,L.jsxs)("div",{className:"delivery-info",children:[(0,L.jsx)("b",{children:(0,L.jsx)($.b9f,{size:16})}),(0,L.jsx)("span",{children:null===Dl||void 0===Dl||null===(Cl=Dl.shop)||void 0===Cl||null===(Il=Cl.translation)||void 0===Il?void 0:Il.address})]})]})]})})]})]}),Zl&&(0,L.jsx)(w.A,{orderDetails:Zl,handleCancel:ie,status:Pl}),Xl&&(0,L.jsx)(C.A,{orderDetails:Xl,handleCancel:ie}),$l&&(0,L.jsx)(M.A,{id:$l,handleCancel:ie}),!!Kl&&(0,L.jsx)(A.A,{visible:!!Kl,footer:!1,onCancel:()=>{Ll(null)},children:(0,L.jsx)(U,{orderDetailId:null===Kl||void 0===Kl?void 0:Kl.id,status:null===Kl||void 0===Kl?void 0:Kl.status,handleCancel:()=>{Ll(null)}})}),!!Ul&&(0,L.jsx)(A.A,{visible:!!Ul,footer:!1,onCancel:()=>Gl(null),children:(0,L.jsx)(G.A,{data:Ul,onCancel:()=>Gl(null)})})]})}},88810:(l,e,i)=>{i.d(e,{A:()=>n});var s=i(20978),d=i(44414);const n=l=>{let{image:e,row:i,size:n=100}=l;return(0,d.jsx)(s.A,{src:e||"https://via.placeholder.com/150",alt:"img_gallery",width:n,height:n,className:"rounded border",preview:!0,placeholder:!e,style:{objectFit:"contain"}},e+(null===i||void 0===i?void 0:i.id))}}}]);