"use strict";(self.webpackChunkjumlajumla_dashboard=self.webpackChunkjumlajumla_dashboard||[]).push([[9838],{99838:(e,a,t)=>{t.r(a),t.d(a,{default:()=>y});var l=t(9950),i=t(3969),d=t(23263),s=t(90650),n=t(12449),c=t(13564),o=t(71999),r=t(91854),u=t(74623),v=t(33774),f=t(70030),m=t(42362),p=t(31281),g=t(6728),h=t(44414);const y=()=>{const{t:e}=(0,f.B)(),a=(0,c.Zp)(),t=(0,r.wA)(),{activeMenu:y}=(0,r.d4)((e=>e.menu),r.bN),[A,j]=(0,l.useState)(!1),[b]=i.A.useForm(),{id:x}=(0,c.g)(),{languages:k}=(0,r.d4)((e=>e.formLang),r.bN);function N(e){if(!e)return{};const{translations:a}=e,t=k.map((e=>{var t,l,i;return{[`title[${e.locale}]`]:null===(t=a.find((a=>a.locale===e.locale)))||void 0===t?void 0:t.title,[`description[${e.locale}]`]:null===(l=a.find((a=>a.locale===e.locale)))||void 0===l?void 0:l.description,[`address[${e.locale}]`]:null===(i=a.find((a=>a.locale===e.locale)))||void 0===i?void 0:i.address}}));return Object.assign({},...t)}(0,l.useEffect)((()=>()=>{const e=b.getFieldsValue(!0);t((0,u.Ok)({activeMenu:y,data:e}))}),[]);return(0,l.useEffect)((()=>{var e;y.refetch&&(e=x,j(!0),v.A.getById(e).then((e=>{var a,l,i,d,s;let n=e.data;const c={...n,...N(n),category_id:{label:null===n||void 0===n||null===(a=n.category)||void 0===a||null===(l=a.translation)||void 0===l?void 0:l.title,value:null===n||void 0===n||null===(i=n.category)||void 0===i?void 0:i.id},active:!(null===e||void 0===e||null===(d=e.data)||void 0===d||!d.active)&&(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.active)};b.setFieldsValue(c),t((0,u.Ok)({activeMenu:y,data:c}))})).finally((()=>{j(!1),t((0,u.km)(y))})))}),[y.refetch]),(0,h.jsx)(d.A,{title:e("edit.career"),extra:(0,h.jsx)(o.A,{}),children:A?(0,h.jsx)("div",{className:"d-flex justify-content-center align-items-center py-5",children:(0,h.jsx)(s.A,{size:"large",className:"mt-5 pt-5"})}):(0,h.jsx)(g.A,{form:b,handleSubmit:l=>{const i={...l,active:Number(l.active),category_id:l.category_id.value,type:l.type,title:(0,p.A)(k,l,"title"),description:(0,p.A)(k,l,"description"),address:(0,p.A)(k,l,"address")},d="catalog/career";return v.A.update(x,i).then((()=>{n.oR.success(e("successfully.updated")),(0,r.vA)((()=>{t((0,u.EK)({...y,nextUrl:d})),t((0,m.R)({}))})),a(`/${d}`)})).catch((e=>console.error(e.response.data.params)))}})})}}}]);