"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[1543],{31543:(e,a,t)=>{t.r(a),t.d(a,{default:()=>b});var d=t(47313),l=t(77181),i=t(59491),n=t(2717),s=t(24511),o=t(91107),u=t(34632),c=t(66736),p=t(34344);const r={upload:e=>p.Z.post("dashboard/admin/project-upload",e),update:e=>p.Z.post("dashboard/admin/project-update",e)};var h=t(90954),m=t(23560),f=t(46417);function b(){const[e,a]=(0,d.useState)(!1),t=(0,n.I0)(),{t:p}=(0,s.$)(),{activeMenu:b}=(0,n.v9)((e=>e.menu),n.wU),g=e=>({uid:e.title,name:e.title,status:"done",url:e.title,created:!0});return(0,f.jsx)(l.Z,{title:p("update"),extra:(0,f.jsx)(i.Z,{type:"primary",icon:(0,f.jsx)(u.Z,{}),loading:e,onClick:()=>{a(!0),r.update().then((()=>m.Am.success(p("successfully.updated")))).finally((()=>a(!1)))},children:p("update.database")}),children:(0,f.jsxs)(o.Z,{name:"file",multiple:!1,maxCount:1,customRequest:e=>{let{file:a,onSuccess:d}=e;const l=new FormData;l.append("file",a),r.upload(l).then((e=>{let{data:a}=e;t((0,h.nc)({activeMenu:b,data:g(a)})),d("ok")}))},defaultFileList:null!==b&&void 0!==b&&b.data?[null===b||void 0===b?void 0:b.data]:null,beforeUpload:e=>{const a="image/png"===e.type,t="image/jpg"===e.type,d="image/jpeg"===e.type;if(a||d||t)return m.Am.error(`${e.name} is not valid file`),!1},children:[(0,f.jsx)("p",{className:"ant-upload-drag-icon",children:(0,f.jsx)(c.Z,{})}),(0,f.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,f.jsx)("p",{className:"ant-upload-hint",children:"In order to update database using this file you need to click button above"})]})})}}}]);