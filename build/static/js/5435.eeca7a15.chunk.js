(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[5435],{55940:(e,t,l)=>{"use strict";l.d(t,{Z:()=>r});l(47313);var i=l(59491),a=l(47515),n=l(23560),s=l(24511),d=l(79492),o=l(46417);function r(e){let{size:t="",onClick:l,type:r="default",...c}=e;const{t:u}=(0,s.$)(),{isDemo:v}=(0,d.Z)();return(0,o.jsx)(i.Z,{size:t,icon:(0,o.jsx)(a.Z,{}),onClick:e=>{v?n.Am.warning(u("cannot.work.demo")):l(e)},type:r,...c})}},53233:(e,t,l)=>{"use strict";l.d(t,{Z:()=>p});var i=l(47313),a=l(56140),n=l(67251),s=l(45705),d=l(86345),o=l(78267),r=l(37388),c=l(59491),u=l(99587),v=l(24511),h=l(46417);const{Text:m}=a.Z,p=e=>{let{columns:t=[],setColumns:l,style:a,size:p="",iconOnly:y}=e;const{t:x}=(0,v.$)(),[Z,g]=(0,i.useState)(!1),f=(0,h.jsx)(n.Z,{children:null===t||void 0===t?void 0:t.map(((e,i)=>(0,h.jsx)(n.Z.Item,{children:(0,h.jsxs)(s.Z,{className:"d-flex justify-content-between",children:[(0,h.jsx)(m,{children:e.title}),(0,h.jsx)(d.Z,{defaultChecked:!0,onClick:()=>function(e){const i=null===t||void 0===t?void 0:t.map((t=>(t.dataIndex===e.dataIndex&&(t.is_show=!(null!==t&&void 0!==t&&t.is_show)),t)));l(i)}(e),disabled:1===i})]})},e+i)))});return(0,h.jsx)(o.Z,{overlay:f,trigger:["click"],onVisibleChange:e=>{g(e)},visible:Z,children:(0,h.jsx)(r.Z,{title:x("change.columns"),children:(0,h.jsx)(c.Z,{style:{...a},size:p,icon:(0,h.jsx)(u.Z,{}),children:y?null:x("Columns")})})})}},41481:(e,t,l)=>{"use strict";l.d(t,{Z:()=>o});var i=l(47313),a=l(66672),n=l(16031),s=l(40765),d=l(46417);function o(e){let{handleChange:t,defaultValue:l,resetSearch:o,...r}=e;const[c,u]=(0,i.useState)(l),v=(0,i.useMemo)((()=>(0,n.debounce)((e=>{t(e)}),800)),[t]);return(0,i.useEffect)((()=>{u(l)}),[o,l]),(0,d.jsx)(a.Z,{value:c,onChange:e=>{u(e.target.value),v(e.target.value)},prefix:(0,d.jsx)(s.Z,{}),...r})}},89281:(e,t,l)=>{"use strict";l.d(t,{h:()=>r});var i=l(47313),a=l(12279),n=l.n(a),s=l(74294),d=l(72652),o=l(46417);const r=e=>{let{fetchOptions:t,debounceTimeout:l=400,onClear:a,...r}=e;const[c,u]=(0,i.useState)(!1),[v,h]=(0,i.useState)([]),m=(0,i.useMemo)((()=>n()((e=>{h([]),u(!0),t(e).then((e=>{h(e),u(!1)}))}),l)),[t,l]);return(0,o.jsx)(s.Z,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:m,onClear:()=>{m(""),a&&a()},notFoundContent:c?(0,o.jsx)(d.Z,{size:"small"}):"no results",...r,options:v,onFocus:()=>{m("")}})}},98501:(e,t,l)=>{"use strict";l.d(t,{CM:()=>n,Km:()=>r,OT:()=>d,Q1:()=>i,Sp:()=>o,a5:()=>c,gN:()=>a,qO:()=>s});const i={new:[1,2,3,4,5],accepted:[1,2,3,4,5],ready:[1,2,3,4,5],on_a_way:[1,2,3,4,5],delivered:[1,2,3,4,5],canceled:[1,2,3,4,5],cooking:[1,2,3,4,5]},a=["progress","paid","canceled","rejected","refund"],n=["before","after"],s=["blue","red","gold","volcano","cyan","lime"],d=["new","accepted","cooking","ready","ended"],o=["new","accepted","cooking","ready","on_a_way","delivered","canceled"],r=["dine_in","delivery","pickup"],c=["male","female"]},13945:(e,t,l)=>{"use strict";function i(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}l.d(t,{Z:()=>i})},84017:(e,t,l)=>{"use strict";l.d(t,{Z:()=>a});var i=l(67968);function a(){var e,t;let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;const s=null===(e=i.h.getState())||void 0===e||null===(t=e.currency)||void 0===t?void 0:t.defaultCurrency,d=Number(l).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),o=a||(null===s||void 0===s?void 0:s.symbol)||"$",r=n||(null===s||void 0===s?void 0:s.position)||"before";return"after"===r?`${d} ${o}`:`${o} ${d}`}},33834:(e,t,l)=>{"use strict";l.d(t,{K:()=>s});var i=l(97890),a=l(74776),n=l.n(a);const s=()=>{const e=(0,i.s0)(),t=(0,i.TH)(),l=n().parse(t.search,{ignoreQueryPrefix:!0});return{values:l,set:(t,i)=>e({search:n().stringify({...l,[t]:i})}),reset:t=>{const i={...l};i[t]&&delete i[t],e({search:n().stringify({...i})})},clear:()=>e({search:n().stringify({})}),merge:t=>e({search:n().stringify({...l,...t})}),get:e=>l[e],setMultiple:t=>{const i={...l,...t};e({search:n().stringify(i)})},resetMultiple:t=>{const i={...l};t.forEach((e=>{i[e]&&delete i[e]})),e({search:n().stringify(i)})}}}},55508:(e,t,l)=>{"use strict";l.d(t,{Z:()=>r});var i=l(39180),a=(l(47313),l(59713)),n=l(98277),s=l(97890),d=l(46417);const o=[{value:"seller/orders-board",title:"Board",icon:(0,d.jsx)(n.Ez2,{size:20})},{value:"seller/orders",title:"List",icon:(0,d.jsx)(a.Ps6,{size:20})}],r=e=>{let{listType:t}=e;const{type:l}=(0,s.UO)(),a=(0,s.s0)();return(0,d.jsx)(i.ZP.Group,{value:t,onChange:e=>{a(`/${e.target.value}${l?`/${l}`:""}`)},className:"float-right",buttonStyle:"solid",children:null===o||void 0===o?void 0:o.map((e=>(0,d.jsx)(i.ZP.Button,{value:e.value,children:(0,d.jsxs)("div",{className:"d-flex align-items-center",style:{gap:"10px"},children:[e.icon,e.title]})},e.value)))})}},50110:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>B});var i=l(47313),a=l(99096),n=l(73591),s=l(66204),d=l(59491),o=l(45705),r=l(77181),c=l(74294),u=l(78508),v=l(9274),h=l(97890),m=l(12019),p=l(31741),y=l(47515),x=l(55768),Z=l(15386),g=l(2717),f=l(90954),j=l(24511),_=l(80314),b=l(41589),C=l(13945),w=l(41481),k=l(73270),S=l(84017),V=l(89281),z=l(58328),H=l(53233),I=l(40197),M=l(55940),$=l(74580),N=l(23560),O=l(69658),P=l(62412),D=l(70816),U=l.n(D),Y=l(33834),T=l(88852),E=l(27107),F=l(55508),A=l(40500),L=l(46417);const{RangePicker:q}=a.Z,{TabPane:K}=n.Z;function B(){var e,t,l,a,D,B,R,W,Q,G,J;const X=(0,g.I0)(),ee=(0,h.s0)(),{t:te}=(0,j.$)(),le=(0,h.UO)(),[ie,ae]=(0,i.useState)(null),[ne,se]=(0,i.useState)(null),{setIsModalVisible:de}=(0,i.useContext)($._),[oe,re]=(0,i.useState)(!1),{defaultCurrency:ce}=(0,g.v9)((e=>e.currency),g.wU),{statusList:ue}=(0,g.v9)((e=>e.orderStatus),g.wU),ve=null===le||void 0===le?void 0:le.type,he=[{name:"all",id:0,active:!0,sort:0},...ue],[me,pe]=(0,i.useState)(null),[ye,xe]=(0,i.useState)(null),[Ze,ge]=(0,i.useState)(null),[fe,je]=(0,i.useState)([{title:te("id"),dataIndex:"id",key:"id",sorter:!0,is_show:!0},{title:te("client"),is_show:!0,dataIndex:"user",key:"user",render:e=>e?(0,L.jsxs)("div",{children:[(null===e||void 0===e?void 0:e.firstname)||""," ",(null===e||void 0===e?void 0:e.lastname)||""]}):(0,L.jsx)(s.Z,{color:"red",children:te("deleted.user")})},{title:te("status"),is_show:!0,dataIndex:"status",key:"status",render:(e,t)=>(0,L.jsxs)("div",{onClick:e=>{e.stopPropagation(),xe(t)},className:"cursor-pointer",style:{width:"max-content"},children:["new"===e?(0,L.jsx)(s.Z,{color:"blue",children:te(e)}):"canceled"===e?(0,L.jsx)(s.Z,{color:"red",children:te(e)}):(0,L.jsx)(s.Z,{color:"cyan",children:te(e)}),"delivered"===e||"canceled"===e||t.deleted_at?"":(0,L.jsx)(m.Z,{disabled:t.deleted_at})]})},{title:te("deliveryman"),is_show:!0,dataIndex:"deliveryman",key:"deliveryman",render:(e,t)=>(0,L.jsx)("div",{children:"ready"===t.status&&"pickup"!==t.delivery_type?(0,L.jsx)(d.Z,{disabled:t.deleted_at,type:"link",onClick:()=>pe(t),children:(0,L.jsxs)(o.Z,{children:[e?`${null===e||void 0===e?void 0:e.firstname} ${(null===e||void 0===e?void 0:e.lastname)||""}`:te("add.deliveryman"),(0,L.jsx)(m.Z,{})]})}):(0,L.jsxs)("div",{children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})})},{title:te("number.of.products"),dataIndex:"order_details_count",key:"order_details_count",is_show:!0,render:e=>(0,L.jsxs)("div",{className:"text-lowercase",children:[e||0," ",te("products")]})},{title:te("amount"),dataIndex:"total_price",key:"total_price",is_show:!0,render:e=>(0,S.Z)(e,null===ce||void 0===ce?void 0:ce.symbol,null===ce||void 0===ce?void 0:ce.position)},{title:te("payment.type"),dataIndex:"transaction",key:"transaction",is_show:!0,render:e=>{var t;return te(null===e||void 0===e||null===(t=e.payment_system)||void 0===t?void 0:t.tag)||"-"}},{title:te("last.payment.status"),is_show:!0,dataIndex:"transaction",key:"transaction",render:(e,t)=>{var l;const i=(null===(l=t.transactions)||void 0===l?void 0:l.at(-1))||{};return(0,L.jsxs)("div",{className:"cursor-pointer",children:[(0,L.jsx)(s.Z,{color:"progress"===(null===i||void 0===i?void 0:i.status)?"blue":"paid"===(null===i||void 0===i?void 0:i.status)?"green":"canceled"===(null===i||void 0===i?void 0:i.status)?"red":"rejected"===(null===i||void 0===i?void 0:i.status)?"orange":"refund"===(null===i||void 0===i?void 0:i.status)?"purple":"",children:null!==i&&void 0!==i&&i.status?te(null===i||void 0===i?void 0:i.status):te("N/A")}),!(null!==t&&void 0!==t&&t.deleted_at)&&!!i&&(0,L.jsx)(m.Z,{onClick:e=>{e.stopPropagation(),ge(i)},disabled:null===t||void 0===t?void 0:t.deleted_at})]})}},{title:te("created.at"),is_show:!0,dataIndex:"created_at",key:"created_at",render:(e,t)=>U()(null===t||void 0===t?void 0:t.created_at).format("YYYY-MM-DD HH:mm")},{title:te("delivery.date"),is_show:!0,dataIndex:"delivery_date",key:"delivery_date"},{title:te("options"),key:"options",is_show:!0,render:(e,t)=>(0,L.jsxs)(o.Z,{children:[(0,L.jsx)(d.Z,{icon:(0,L.jsx)(p.Z,{}),onClick:()=>(e=>{X((0,f.bL)({url:`seller/order/details/${e.id}`,id:"order_details",name:te("order.details")})),ee(`/seller/order/details/${e.id}`)})(t)}),(0,L.jsx)(M.Z,{icon:(0,L.jsx)(y.Z,{}),onClick:()=>{ae([t.id]),de(!0),se(!0)}})]})}]),{activeMenu:_e}=(0,g.v9)((e=>e.menu),g.wU),be=(0,Y.K)(),[Ce,we]=(0,i.useState)(be.values.status||"all"),ke=(null===(e=_e.data)||void 0===e?void 0:e.role)||Ce,{orders:Se,meta:Ve,loading:ze,params:He}=(0,g.v9)((e=>e.sellerOrders),g.wU),[Ie,Me]=(0,i.useState)(null),$e=null===_e||void 0===_e?void 0:_e.data,Ne={search:null===$e||void 0===$e?void 0:$e.search,sort:null===$e||void 0===$e?void 0:$e.sort,column:null===$e||void 0===$e?void 0:$e.column,perPage:null===$e||void 0===$e?void 0:$e.perPage,page:null===$e||void 0===$e?void 0:$e.page,user_id:null===$e||void 0===$e?void 0:$e.user_id,status:"deleted_at"===ke||"all"===ke?void 0:ke,deleted_at:"deleted_at"===ke?"deleted_at":void 0,shop_id:null!==(null===(t=_e.data)||void 0===t?void 0:t.shop_id)?null===(l=_e.data)||void 0===l?void 0:l.shop_id:null,delivery_type:ve||(null!==(null===(a=_e.data)||void 0===a?void 0:a.delivery_type)?null===(D=_e.data)||void 0===D?void 0:D.delivery_type:null),date_from:(null===Ie||void 0===Ie||null===(B=Ie[0])||void 0===B?void 0:B.format("YYYY-MM-DD"))||void 0,date_to:(null===Ie||void 0===Ie||null===(R=Ie[1])||void 0===R?void 0:R.format("YYYY-MM-DD"))||void 0};(0,i.useEffect)((()=>{Oe()}),[Ne.page,Ne.perPage,Ne.status,Ne.shop_id,Ne.sort,Ne.user_id,Ne.delivery_type,Ne.date_from,Ne.search]),(0,_.Z)((()=>{_e.refetch&&Oe()}),[_e.refetch]);const Oe=()=>{X((0,b.AU)(Ne)),X((0,I.ZL)({})),X((0,f.A_)(_e))};const Pe=(e,t)=>{X((0,f.nc)({activeMenu:_e,data:{...$e,[t]:e}}))};const De={selectedRowKeys:ie,onChange:e=>{ae(e)}},Ue=()=>{(0,g.dC)((()=>{X((0,b.H5)()),X((0,f.nc)({activeMenu:_e,data:null}))})),Me(null)},Ye=()=>{pe(null),xe(null)};return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)(o.Z,{className:"justify-content-end w-100 mb-3",children:[(0,L.jsx)(F.Z,{listType:"seller/orders"}),(0,L.jsx)(d.Z,{type:"primary",icon:(0,L.jsx)(x.Z,{}),onClick:()=>{X((0,k.bn)()),X((0,f.bL)({id:"pos.system",url:"seller/pos-system",name:te("add.order")})),ee("/seller/pos-system",{state:{delivery_type:ve}})},style:{width:"100%"},children:te("add.order")})]}),(0,L.jsx)(r.Z,{children:(0,L.jsxs)(o.Z,{wrap:!0,className:"p-0 mb-0",children:[(0,L.jsx)(w.Z,{placeholder:te("search"),handleChange:e=>Pe(e,"search"),defaultValue:null===(W=_e.data)||void 0===W?void 0:W.search,style:{minWidth:200},onClear:Ue}),(0,L.jsx)(V.h,{placeholder:te("select.client"),fetchOptions:async function(e){const t={search:null!==e&&void 0!==e&&e.length?e:void 0,page:1,perPage:20};return z.Z.getAll(t).then((e=>{let{data:t}=e;return t.map((e=>({label:`${(null===e||void 0===e?void 0:e.firstname)||""} ${(null===e||void 0===e?void 0:e.lastname)||""}`,value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id})))}))},onSelect:e=>Pe(null===e||void 0===e?void 0:e.value,"user_id"),style:{minWidth:200},onClear:Ue,value:null===$e||void 0===$e?void 0:$e.user_id}),(0,L.jsx)(q,{value:Ie,onChange:e=>{Pe(JSON.stringify(e),"data_time"),Me(e)},style:{minWidth:200},onClear:()=>Ue(),defaultValue:Ie}),!ve&&(0,L.jsx)(c.Z,{value:null===$e||void 0===$e?void 0:$e.delivery_type,placeholder:te("order.type"),onSelect:e=>Pe(e,"delivery_type"),options:[{label:te("pickup"),value:"pickup"},{label:te("delivery"),value:"delivery"}],allowClear:!0,style:{minWidth:200},onDeselect:()=>Pe(null,"delivery_type"),onClear:Ue}),(0,L.jsx)(d.Z,{icon:(0,L.jsx)(Z.Z,{}),onClick:Ue,children:te("clear")})]})}),(0,L.jsx)(r.Z,{children:(0,L.jsxs)(o.Z,{wrap:!0,children:[(0,L.jsx)(M.Z,{onClick:()=>{null===ie||0===ie.length?N.Am.warning(te("select.the.product")):(de(!0),se(!1))},children:te("delete.selected")}),(0,L.jsx)(H.Z,{columns:fe,setColumns:je})]})}),(0,L.jsxs)(r.Z,{children:[(0,L.jsx)(n.Z,{onChange:e=>{const t=e;X((0,f.nc)({activeMenu:_e,data:{role:t,page:1}})),we(e),ee(`?status=${t}`)},type:"card",activeKey:ke,children:he.filter((e=>!0===e.active)).map((e=>(0,L.jsx)(K,{tab:te(e.name)},e.name)))}),(0,L.jsx)(u.Z,{scroll:{x:!0},rowSelection:De,columns:null===fe||void 0===fe?void 0:fe.filter((e=>e.is_show)),dataSource:Se,loading:ze,pagination:{pageSize:He.perPage,page:(null===(Q=_e.data)||void 0===Q?void 0:Q.page)||1,total:null===Ve||void 0===Ve?void 0:Ve.total,defaultCurrent:null===(G=_e.data)||void 0===G?void 0:G.page,current:null===(J=_e.data)||void 0===J?void 0:J.page},rowKey:e=>e.id,onChange:function(e,t,l){const{pageSize:i,current:a}=e,{field:n,order:s}=l,d=(0,C.Z)(s);X((0,f.nc)({activeMenu:_e,data:{...$e,perPage:i,page:a,column:n,sort:d}}))}}),(0,L.jsx)(O.Z,{click:()=>{re(!0);const e={...Object.assign({},...ie.map(((e,t)=>({[`ids[${t}]`]:e}))))};P.Z.delete(e).then((()=>{N.Am.success(te("successfully.deleted")),de(!1),X((0,b.AU)(Ne)),se(null)})).finally((()=>re(!1)))},text:te(ne?"delete":"all.delete"),loading:oe,setText:ae})]}),ye&&(0,L.jsx)(E.Z,{orderDetails:ye,handleCancel:Ye,status:ue,paramsData:Ne}),me&&(0,L.jsx)(T.Z,{orderDetails:me,handleCancel:Ye}),!!Ze&&(0,L.jsx)(v.Z,{visible:!!Ze,footer:!1,onCancel:()=>ge(null),children:(0,L.jsx)(A.Z,{data:Ze,onCancel:()=>ge(null)})})]})}},88852:(e,t,l)=>{"use strict";l.d(t,{Z:()=>g});var i=l(47313),a=l(10976),n=l(9274),s=l(59491),d=l(68197),o=l(59624),r=l(74294),c=l(2717),u=l(62412),v=l(90954),h=l(24511),m=l(94291),p=l(89281),y=l(58328),x=l(98501),Z=l(46417);function g(e){var t,l,g,f;let{orderDetails:j,handleCancel:_}=e;const{t:b}=(0,h.$)(),{activeMenu:C}=(0,c.v9)((e=>e.menu),c.wU),[w]=a.Z.useForm(),k=(0,c.I0)(),[S,V]=(0,i.useState)(!1),z=x.gN.map((e=>({label:b(e),value:e,key:e})));(0,i.useEffect)((()=>{k((0,m.EH)({}))}),[]);return(0,Z.jsx)(n.Z,{visible:!!j,title:j.title,onCancel:_,footer:[(0,Z.jsx)(s.Z,{type:"primary",onClick:()=>w.submit(),loading:S,children:b("save")}),(0,Z.jsx)(s.Z,{type:"default",onClick:_,children:b("cancel")})],children:(0,Z.jsx)(a.Z,{form:w,layout:"vertical",onFinish:e=>{var t,l;const i={deliveryman:null===e||void 0===e||null===(t=e.deliveryman)||void 0===t?void 0:t.value,transaction_status:(null===e||void 0===e||null===(l=e.transaction_status)||void 0===l?void 0:l.value)||(null===e||void 0===e?void 0:e.transaction_status)||void 0};V(!0),u.Z.updateDelivery(j.id,i).then((()=>{_(),k((0,v.xo)(C))})).finally((()=>V(!1)))},initialValues:{deliveryman:{label:null===j||void 0===j||null===(t=j.deliveryman)||void 0===t?void 0:t.firstname,value:null===(l=j.deliveryman)||void 0===l?void 0:l.id,key:null===(g=j.deliveryman)||void 0===g?void 0:g.id},transaction_status:null===j||void 0===j||null===(f=j.transaction)||void 0===f?void 0:f.status},children:(0,Z.jsxs)(d.Z,{gutter:12,children:[(0,Z.jsx)(o.Z,{span:24,children:(0,Z.jsx)(a.Z.Item,{label:b("deliveryman"),name:"deliveryman",rules:[{required:!0,message:b("required")}],children:(0,Z.jsx)(p.h,{fetchOptions:e=>{var t,l;const i={perPage:10,page:1,search:null!==e&&void 0!==e&&e.length?e:void 0,"address[latitude]":(null===j||void 0===j||null===(t=j.location)||void 0===t?void 0:t.latitude)||void 0,"address[longitude]":(null===j||void 0===j||null===(l=j.location)||void 0===l?void 0:l.longitude)||void 0};return y.Z.getDeliverymans(i).then((e=>e.data.map((e=>({label:null===e||void 0===e?void 0:e.firstname,value:null===e||void 0===e?void 0:e.id})))))}})})}),(null===j||void 0===j?void 0:j.transaction)&&(0,Z.jsx)(o.Z,{span:24,children:(0,Z.jsx)(a.Z.Item,{label:b("transaction.status"),name:"transaction_status",children:(0,Z.jsx)(r.Z,{options:z})})})]})})})}},27107:(e,t,l)=>{"use strict";l.d(t,{Z:()=>x});var i=l(47313),a=l(10976),n=l(9274),s=l(59491),d=l(68197),o=l(59624),r=l(74294),c=l(2717),u=l(24511),v=l(62412),h=l(90954),m=l(98501),p=l(97890),y=l(46417);function x(e){var t;let{orderDetails:l,handleCancel:x}=e;const{t:Z}=(0,u.$)(),g=(0,p.s0)(),[f]=a.Z.useForm(),j=(0,c.I0)(),{activeStatusList:_}=(0,c.v9)((e=>e.orderStatus),c.wU),{activeMenu:b}=(0,c.v9)((e=>e.menu),c.wU),C=(0,c.v9)((e=>e.globalSettings.settings),c.wU);console.log("activeStatusList",_);const[w,k]=(0,i.useState)(!1),[S,V]=(0,i.useState)([{id:0,name:"all",active:!0,sort:0},..._,{id:(null===_||void 0===_?void 0:_.length)+1,name:"canceled",active:!0,sort:8}]),z=m.gN.map((e=>({label:Z(e),value:e,key:e})));(0,i.useEffect)((()=>{var e;const t=S.findIndex((e=>(null===e||void 0===e?void 0:e.name)===(null===l||void 0===l?void 0:l.status)));let i=[S[t],S[t+1],S[(null===_||void 0===_?void 0:_.length)+1]];t<0&&(i=[S[t+1],S[(null===_||void 0===_?void 0:_.length)+1]]),null===(e=i)||void 0===e||e.map(((e,t,i)=>{(null===e||void 0===e?void 0:e.name)===(null===l||void 0===l?void 0:l.status)&&V(i.slice(t))}))}),[l]);return(0,y.jsx)(n.Z,{visible:!!l,title:l.title,onCancel:x,footer:[(0,y.jsx)(s.Z,{type:"primary",onClick:()=>f.submit(),loading:w,children:Z("save")}),(0,y.jsx)(s.Z,{type:"default",onClick:x,children:Z("cancel")})],children:(0,y.jsx)(a.Z,{form:f,layout:"vertical",onFinish:e=>{var t,i;k(!0);const a={status:(null===e||void 0===e||null===(t=e.status)||void 0===t?void 0:t.value)||(null===e||void 0===e?void 0:e.status),transaction_status:(null===e||void 0===e||null===(i=e.transaction_status)||void 0===i?void 0:i.value)||(null===e||void 0===e?void 0:e.transaction_status)||void 0};v.Z.updateStatus(l.id,a).then((e=>{var t,l;"accepted"===(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.status)&&"1"===(null===C||void 0===C?void 0:C.auto_print_order)?(e=>{const t=`seller/generate-invoice/${e}`;j((0,h.bL)({url:t,id:"seller-generate-invoice ",name:Z("generate.invoice")})),g(`/${t}?print=true`)})(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.id):(x(),j((0,h.xo)(b)))})).finally((()=>k(!1)))},initialValues:{status:l.status,transaction_status:null===l||void 0===l||null===(t=l.transaction)||void 0===t?void 0:t.status},children:(0,y.jsxs)(d.Z,{gutter:12,children:[(0,y.jsx)(o.Z,{span:24,children:(0,y.jsx)(a.Z.Item,{label:Z("status"),name:"status",rules:[{required:!0,message:Z("required")}],children:(0,y.jsx)(r.Z,{children:null===S||void 0===S?void 0:S.map((e=>(0,y.jsx)(r.Z.Option,{value:e.name,children:Z(e.name)},e.id)))})})}),(null===l||void 0===l?void 0:l.transaction)&&(0,y.jsx)(o.Z,{span:24,children:(0,y.jsx)(a.Z.Item,{label:Z("transaction.status"),name:"transaction_status",children:(0,y.jsx)(r.Z,{options:z})})})]})})})}},40500:(e,t,l)=>{"use strict";l.d(t,{Z:()=>x});var i=l(10976),a=l(68197),n=l(59624),s=l(74294),d=l(46155),o=l(45705),r=l(59491),c=l(24511),u=l(98501),v=l(47313),h=l(62412),m=l(2717),p=l(90954),y=l(46417);const x=e=>{let{data:t,onCancel:l,refreshOrders:x}=e;const[Z]=i.Z.useForm(),{t:g}=(0,c.$)(),f=(0,m.I0)(),{activeMenu:j}=(0,m.v9)((e=>e.menu),m.wU),[_,b]=(0,v.useState)(!1),C=u.gN.map((e=>({label:g(e),value:e,key:e})));return(0,y.jsx)(i.Z,{form:Z,layout:"vertical",initialValues:{status:t.status},onFinish:e=>{var i;const a={status:null===e||void 0===e||null===(i=e.status)||void 0===i?void 0:i.value,transaction_id:t.id};b(!0),h.Z.updateTransactionStatus(t.payable_id,a).finally((()=>{b(!1),l(),x?x():f((0,p.xo)(j))}))},children:(0,y.jsxs)(a.Z,{gutter:12,children:[(0,y.jsx)(n.Z,{span:24,children:(0,y.jsx)(i.Z.Item,{label:g("status"),name:"status",rules:[{required:!0,message:g("required")}],children:(0,y.jsx)(s.Z,{options:C,labelInValue:!0})})}),(0,y.jsx)(d.Z,{}),(0,y.jsx)(n.Z,{span:24,children:(0,y.jsxs)(o.Z,{style:{display:"flex",justifyContent:"end"},children:[(0,y.jsx)(r.Z,{onClick:l,children:g("cancel")}),(0,y.jsx)(r.Z,{type:"primary",htmlType:"submit",loading:_,children:g("save")})]})})]})})}},15386:(e,t,l)=>{"use strict";l.d(t,{Z:()=>o});var i=l(1413),a=l(47313);const n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6a25.95 25.95 0 0025.6 30.4h723c1.5 0 3-.1 4.4-.4a25.88 25.88 0 0021.2-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"}}]},name:"clear",theme:"outlined"};var s=l(17469),d=function(e,t){return a.createElement(s.Z,(0,i.Z)((0,i.Z)({},e),{},{ref:t,icon:n}))};d.displayName="ClearOutlined";const o=a.forwardRef(d)},55768:(e,t,l)=>{"use strict";l.d(t,{Z:()=>o});var i=l(1413),a=l(47313);const n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};var s=l(17469),d=function(e,t){return a.createElement(s.Z,(0,i.Z)((0,i.Z)({},e),{},{ref:t,icon:n}))};d.displayName="PlusCircleOutlined";const o=a.forwardRef(d)},99587:(e,t,l)=>{"use strict";l.d(t,{Z:()=>o});var i=l(1413),a=l(47313);const n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var s=l(17469),d=function(e,t){return a.createElement(s.Z,(0,i.Z)((0,i.Z)({},e),{},{ref:t,icon:n}))};d.displayName="TableOutlined";const o=a.forwardRef(d)},24654:()=>{}}]);