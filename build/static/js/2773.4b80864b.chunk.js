"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[2773],{72773:(e,t,a)=>{a.r(t),a.d(t,{default:()=>k});var s=a(47313),n=a(97890),o=a(23560),r=a(10976),i=a(77181),l=a(2717),u=a(90954),d=a(1706),c=a(24511),p=a(73431),g=a(97421),h=a(31881),m=a.n(h),v=a(75336),b=a(78035),_=a(46417);const k=()=>{const{t:e}=(0,c.$)(),{activeMenu:t}=(0,l.v9)((e=>e.menu),l.wU),a=(0,l.I0)(),[h]=r.Z.useForm(),k=(0,n.s0)(),{languages:f}=(0,l.v9)((e=>e.formLang),l.wU);(0,s.useEffect)((()=>()=>{const e=h.getFieldsValue(!0);a((0,u.nc)({activeMenu:t,data:e}))}),[]);return(0,_.jsx)(i.Z,{title:e("add.pages"),className:"h-100",extra:(0,_.jsx)(p.Z,{}),children:(0,_.jsx)(b.Z,{form:h,handleSubmit:(s,n)=>{const r={images:n.map((e=>e.name)),active:Number(s.active),type:s.type,title:(0,v.Z)(f,s,"title"),description:(0,v.Z)(f,s,"description"),buttons:{google_play_button_link:null===s||void 0===s?void 0:s.google_play_button_link,app_store_button_link:null===s||void 0===s?void 0:s.app_store_button_link}},i="pages";return m()({method:"post",url:`${g.YZ}dashboard/admin/pages`,headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},data:r,params:{}}).then((()=>{o.Am.success(e("successfully.created")),(0,l.dC)((()=>{a((0,u.ph)({...t,nextUrl:i})),a((0,d.R)({}))})),k("/pages")})).catch((e=>{var t,a;return o.Am.error(null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)}))}})})}}}]);