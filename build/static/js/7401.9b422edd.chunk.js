(self.webpackChunkjumlajumla_dashboard=self.webpackChunkjumlajumla_dashboard||[]).push([[7401],{1201:(e,t,l)=>{"use strict";l.d(t,{A:()=>r});l(9950);var a=l(70030),s=l(88542);const n=l.p+"static/media/noproductsfound.1cec73868b5fd048b865.riv",i=l.p+"static/media/noresult.ac4af107751f94856a9c.riv",d=l.p+"static/media/nosell.32cb2c2cc548a15c820d.riv";var o=l(44414);const r=function(e){let{id:t="noresult",text:l=""}=e;const{t:r}=(0,a.B)(),c={src:{noproductsfound:n,noresult:i,nosell:d}[t],artboard:"New Artboard",autoplay:!0},{RiveComponent:u}=(0,s.useRive)(c);return(0,o.jsxs)("div",{className:"animation-canvas",children:[(0,o.jsx)("div",{style:{width:"100%",height:200},children:(0,o.jsx)(u,{})}),(0,o.jsx)("div",{className:"text text-center",children:r(l)})]})}},8168:(e,t,l)=>{"use strict";function a(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}l.d(t,{A:()=>a})},8297:(e,t,l)=>{"use strict";l.d(t,{A:()=>o});var a=l(9950),s=l(55902),n=l(41397),i=l(60767),d=l(44414);function o(e){let{handleChange:t,defaultValue:l,resetSearch:o,...r}=e;const[c,u]=(0,a.useState)(l),v=(0,a.useMemo)((()=>(0,n.debounce)((e=>{t(e)}),800)),[t]);return(0,a.useEffect)((()=>{u(l)}),[o,l]),(0,d.jsx)(s.A,{value:c,onChange:e=>{u(e.target.value),v(e.target.value)},prefix:(0,d.jsx)(i.A,{}),...r})}},13700:(e,t,l)=>{"use strict";l.d(t,{A:()=>o});var a=l(89379),s=l(9950);const n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6a25.95 25.95 0 0025.6 30.4h723c1.5 0 3-.1 4.4-.4a25.88 25.88 0 0021.2-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"}}]},name:"clear",theme:"outlined"};var i=l(25085),d=function(e,t){return s.createElement(i.A,(0,a.A)((0,a.A)({},e),{},{ref:t,icon:n}))};d.displayName="ClearOutlined";const o=s.forwardRef(d)},21777:(e,t,l)=>{"use strict";l.d(t,{A:()=>o});l(9950);var a=l(32645),s=l(32312),n=l(48538),i=l(70030),d=l(44414);const o=e=>{let{open:t,handleCancel:l,text:o,click:r,loading:c,subTitle:u}=e;const{t:v}=(0,i.B)();return(0,d.jsxs)(a.A,{closable:!1,visible:t,footer:null,centered:!0,children:[(0,d.jsx)(s.Ay,{status:"warning",title:o,subTitle:u}),(0,d.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,d.jsx)(n.A,{type:"primary",className:"mr-2",onClick:r,loading:c,children:v("yes")}),(0,d.jsx)(n.A,{onClick:()=>l(),children:v("no")})]})]})}},28645:(e,t,l)=>{"use strict";l.d(t,{A:()=>g});var a=l(9950),s=l(66362),n=l(69216),i=l(80737),d=l(25933),o=l(57811),r=l(81541),c=l(48538),u=l(89323),v=l(70030),h=l(44414);const{Text:p}=s.A,g=e=>{let{columns:t=[],setColumns:l,style:s,size:g="",iconOnly:m}=e;const{t:x}=(0,v.B)(),[A,j]=(0,a.useState)(!1),y=(0,h.jsx)(n.A,{children:null===t||void 0===t?void 0:t.map(((e,a)=>(0,h.jsx)(n.A.Item,{children:(0,h.jsxs)(i.A,{className:"d-flex justify-content-between",children:[(0,h.jsx)(p,{children:e.title}),(0,h.jsx)(d.A,{defaultChecked:!0,onClick:()=>function(e){const a=null===t||void 0===t?void 0:t.map((t=>(t.dataIndex===e.dataIndex&&(t.is_show=!(null!==t&&void 0!==t&&t.is_show)),t)));l(a)}(e),disabled:1===a})]})},e+a)))});return(0,h.jsx)(o.A,{overlay:y,trigger:["click"],onVisibleChange:e=>{j(e)},visible:A,children:(0,h.jsx)(r.A,{title:x("change.columns"),children:(0,h.jsx)(c.A,{style:{...s},size:g,icon:(0,h.jsx)(u.A,{}),children:m?null:x("Columns")})})})}},35116:(e,t,l)=>{"use strict";l.d(t,{A:()=>r});l(9950);var a=l(48538),s=l(44070),n=l(12449),i=l(70030),d=l(13311),o=l(44414);function r(e){let{size:t="",onClick:l,type:r="default",...c}=e;const{t:u}=(0,i.B)(),{isDemo:v}=(0,d.A)();return(0,o.jsx)(a.A,{size:t,icon:(0,o.jsx)(s.A,{}),onClick:e=>{v?n.oR.warning(u("cannot.work.demo")):l(e)},type:r,...c})}},36790:(e,t,l)=>{"use strict";l.d(t,{A:()=>s});var a=l(82371);const s={getAll:e=>a.A.get("dashboard/admin/kitchen",{params:e})}},42634:()=>{},53387:(e,t,l)=>{"use strict";l.d(t,{A:()=>o});var a=l(89379),s=l(9950);const n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};var i=l(25085),d=function(e,t){return s.createElement(i.A,(0,a.A)((0,a.A)({},e),{},{ref:t,icon:n}))};d.displayName="PlusCircleOutlined";const o=s.forwardRef(d)},65820:(e,t,l)=>{"use strict";l.d(t,{s:()=>i});var a=l(13564),s=l(21215),n=l.n(s);const i=()=>{const e=(0,a.Zp)(),t=(0,a.zy)(),l=n().parse(t.search,{ignoreQueryPrefix:!0});return{values:l,set:(t,a)=>e({search:n().stringify({...l,[t]:a})}),reset:t=>{const a={...l};a[t]&&delete a[t],e({search:n().stringify({...a})})},clear:()=>e({search:n().stringify({})}),merge:t=>e({search:n().stringify({...l,...t})}),get:e=>l[e],setMultiple:t=>{const a={...l,...t};e({search:n().stringify(a)})},resetMultiple:t=>{const a={...l};t.forEach((e=>{a[e]&&delete a[e]})),e({search:n().stringify(a)})}}}},69595:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>pe});var a=l(54909),s=l(70030),n=l(13564),i=l(9950),d=l(24513),o=l(67376),r=l(44070),c=l(53387),u=l(80737),v=l(12916),h=l(25933),p=l(48538),g=l(23263),m=l(12203),x=l(12449),A=l(63620),j=l(55386),y=l(76083),f=l(91854),b=l(74623),_=l(47933),k=l(92979),w=l(88986),C=l(8168),S=l(35116),z=l(3969),N=l(32645),I=l(87094),M=l(41988),V=l(99674),H=l(55902),P=l(98890),O=l(3462),T=l(44414);const q=["published","pending","unpublished"],R=["accept","decline"],B={type:"product"};function $(e){let{orderDetails:t,handleCancel:l,paramsData:a,listType:n="product"}=e;const{activeMenu:d}=(0,f.d4)((e=>e.menu),f.bN),[o]=z.A.useForm(),r=(0,f.wA)(),{t:c}=(0,s.B)(),[u,v]=(0,i.useState)(!1),[h,g]=(0,i.useState)(null===t||void 0===t?void 0:t.status),m="request"===n?R:q;return(0,T.jsx)(N.A,{visible:!!t,title:t.title,onCancel:l,footer:[(0,T.jsx)(p.A,{type:"primary",onClick:()=>o.submit(),loading:u,children:c("save")}),(0,T.jsx)(p.A,{type:"default",onClick:l,children:c("cancel")})],children:(0,T.jsx)(z.A,{form:o,layout:"vertical",onFinish:e=>{v(!0);const s={...e};"product"===n?((e,t)=>{_.A.updateStatus(e,t).then((()=>{l(),x.oR.success(c("successfully.updated")),r((0,k.j0)(a)),r((0,b.km)(d))})).finally((()=>v(!1)))})(t.uuid,s):n&&((e,t)=>{const a={status_note:t.status_note,status:"accept"===t.status?"approved":"canceled"};P.A.changeStatus(e,a).then((()=>{l(),x.oR.success(c("successfully.updated")),r((0,O.uj)(B)),r((0,b.km)(d))})).finally((()=>v(!1)))})(t.id,s)},initialValues:"product"===n?{status:t.status,status_note:t.status_note}:{status:"accept",status_note:t.status_note},children:(0,T.jsx)(I.A,{gutter:12,children:(0,T.jsxs)(M.A,{span:24,children:[(0,T.jsx)(z.A.Item,{label:c("status"),name:"status",rules:[{required:!0,message:c("required")}],children:(0,T.jsx)(V.A,{onChange:e=>g(e),children:m.map(((e,t)=>(0,T.jsx)(V.A.Option,{value:e,children:c(e)},e+t)))})}),("unpublished"===h||"decline"===h)&&(0,T.jsx)(z.A.Item,{name:"status_note",label:c("note"),rules:[{validator:(e,t)=>t?t&&""===(null===t||void 0===t?void 0:t.trim())?Promise.reject(new Error(c("no.empty.space"))):t&&(null===t||void 0===t?void 0:t.trim().length)<2?Promise.reject(new Error(c("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(c("required")))}],children:(0,T.jsx)(H.A.TextArea,{maxLength:250,showCount:!0})})]})})})})}var D=l(28645),E=l(22875),F=l(21777),K=l(1201),X=l(14382),W=l(65820),Y=l(88810),Z=l(8297),Q=l(80905),L=l(58547),G=l(62572),J=l(37963),U=l(13700),ee=l(36790);const te=()=>{const{t:e}=(0,s.B)(),t=(0,W.s)(),{loading:l}=(0,f.d4)((e=>e.product),f.bN),[a,n]=(0,i.useState)({shop:!1,category:!1,brand:!1,kitchen:!1}),[d,o]=(0,i.useState)({shop:void 0,category:void 0,brand:void 0,kitchen:void 0}),r=(e,l)=>{const a="search"===e;(a?!(null!==l&&void 0!==l&&l.length):!(null!==l&&void 0!==l&&l.value))?(t.reset(e),a||o({...d,[e]:void 0})):(t.set(e,a?l:null===l||void 0===l?void 0:l.value),a||o({...d,[e]:l}))};return(0,T.jsx)(g.A,{children:(0,T.jsxs)(u.A,{children:[(0,T.jsx)(Z.A,{placeholder:e("search"),handleChange:e=>r("search",e),defaultValue:t.get("search")||"",resetSearch:()=>t.reset("search"),style:{width:200},loading:l}),(0,T.jsx)(Q.j,{placeholder:e("select.shop"),hasMore:a.shop,fetchOptions:t=>{let{search:l,page:s=1}=t;const i={search:null!==l&&void 0!==l&&l.length?l:void 0,status:"approved",page:s};return L.A.search(i).then((t=>{var l,s,i;return n({...a,shop:(null===t||void 0===t||null===(l=t.meta)||void 0===l?void 0:l.current_page)<(null===t||void 0===t||null===(s=t.meta)||void 0===s?void 0:s.last_page)}),null===t||void 0===t||null===(i=t.data)||void 0===i?void 0:i.map((t=>{var l;return{label:(null===t||void 0===t||null===(l=t.translation)||void 0===l?void 0:l.title)||(null===t||void 0===t?void 0:t.id)||e("N/A"),value:null===t||void 0===t?void 0:t.id,key:null===t||void 0===t?void 0:t.id}}))}))},style:{minWidth:200},onChange:e=>r("shop",e),onClear:()=>t.reset("shop"),loading:l,value:d.shop}),(0,T.jsx)(Q.j,{placeholder:e("select.category"),hasMore:a.category,fetchOptions:l=>{let{search:s,page:i=1}=l;const d={type:"main",search:null!==s&&void 0!==s&&s.length?s:void 0,page:i,shop_id:t.get("shop")||void 0};return G.A.search(d).then((t=>{var l,s,i;return n({...a,category:(null===t||void 0===t||null===(l=t.meta)||void 0===l?void 0:l.current_page)<(null===t||void 0===t||null===(s=t.meta)||void 0===s?void 0:s.last_page)}),null===t||void 0===t||null===(i=t.data)||void 0===i?void 0:i.map((t=>{var l;return{label:(null===t||void 0===t||null===(l=t.translation)||void 0===l?void 0:l.title)||(null===t||void 0===t?void 0:t.id)||e("N/A"),value:null===t||void 0===t?void 0:t.id,key:null===t||void 0===t?void 0:t.id}}))}))},style:{minWidth:200},onChange:e=>r("category",e),onClear:()=>t.reset("category"),refetchOnFocus:!!t.get("shop"),loading:l,value:d.category}),(0,T.jsx)(Q.j,{placeholder:e("select.brand"),hasMore:a.brand,fetchOptions:t=>{let{search:l,page:s=1}=t;const i={search:null!==l&&void 0!==l&&l.length?l:void 0,page:s};return J.A.search(i).then((t=>{var l,s,i;return n({...a,brand:(null===t||void 0===t||null===(l=t.meta)||void 0===l?void 0:l.current_page)<(null===t||void 0===t||null===(s=t.meta)||void 0===s?void 0:s.last_page)}),null===t||void 0===t||null===(i=t.data)||void 0===i?void 0:i.map((t=>({label:(null===t||void 0===t?void 0:t.title)||(null===t||void 0===t?void 0:t.id)||e("N/A"),value:null===t||void 0===t?void 0:t.id,key:null===t||void 0===t?void 0:t.id})))}))},style:{minWidth:200},onChange:e=>r("brand",e),onClear:()=>t.reset("brand"),refetchOnFocus:!!t.get("brand"),loading:l,value:d.brand}),(0,T.jsx)(Q.j,{placeholder:e("select.kitchen"),hasMore:a.kitchen,fetchOptions:t=>{let{search:l,page:s=1}=t;const i={search:null!==l&&void 0!==l&&l.length?l:void 0,page:s,active:1};return ee.A.getAll(i).then((t=>{var l,s,i;return n({...a,kitchen:(null===t||void 0===t||null===(l=t.meta)||void 0===l?void 0:l.current_page)<(null===t||void 0===t||null===(s=t.meta)||void 0===s?void 0:s.last_page)}),null===t||void 0===t||null===(i=t.data)||void 0===i?void 0:i.map((t=>{var l;return{label:(null===t||void 0===t||null===(l=t.translation)||void 0===l?void 0:l.title)||(null===t||void 0===t?void 0:t.id)||e("N/A"),value:null===t||void 0===t?void 0:t.id,key:null===t||void 0===t?void 0:t.id}}))}))},style:{minWidth:200},onChange:e=>r("kitchen",e),onClear:()=>t.reset("kitchen"),refetchOnFocus:!!t.get("kitchen"),loading:l,value:d.kitchen}),(0,T.jsx)(p.A,{icon:(0,T.jsx)(U.A,{}),onClick:()=>{t.resetMultiple(["search","shop","category","brand"]),o({shop:void 0,category:void 0,brand:void 0})},children:e("reset.filters")})]})})},le=["blue","red","gold","volcano","cyan","lime"],ae=["all","pending","published","unpublished","deleted_at"],{TabPane:se}=a.A,ne=()=>{const{t:e}=(0,s.B)(),t=(0,f.wA)(),l=(0,n.Zp)(),z=(0,W.s)(),{activeMenu:N}=(0,f.d4)((e=>e.menu),f.bN),{products:I,meta:M,loading:V,params:H}=(0,f.d4)((e=>e.product),f.bN),{setIsModalVisible:P}=(0,i.useContext)(j.o),[O,q]=(0,i.useState)(null),[R,B]=(0,i.useState)(null),[Z,Q]=(0,i.useState)(null),[L,G]=(0,i.useState)(null),[J,U]=(0,i.useState)(null),[ee,ne]=(0,i.useState)(!1),[ie,de]=(0,i.useState)(!1),[oe,re]=(0,i.useState)([{title:e("id"),dataIndex:"id",is_show:!0,sorter:(e,t)=>e.id-t.id},{title:e("image"),dataIndex:"img",is_show:!0,render:(e,t)=>(0,T.jsx)(Y.A,{row:t,image:e})},{title:e("name"),dataIndex:"name",is_show:!0},{title:e("translations"),dataIndex:"locales",is_show:!0,render:(e,t)=>{var l;return(0,T.jsx)(u.A,{children:null===(l=t.locales)||void 0===l?void 0:l.map(((e,t)=>(0,T.jsx)(v.A,{className:"text-uppercase",color:[le[t]],children:e})))})}},{title:e("shop"),dataIndex:"shop",key:"shop",is_show:!0,render:t=>{var l;return(null===t||void 0===t||null===(l=t.translation)||void 0===l?void 0:l.title)||(null===t||void 0===t?void 0:t.id)||e("N/A")}},{title:e("category"),dataIndex:"category",key:"category",is_show:!0,render:t=>{var l;return(null===t||void 0===t||null===(l=t.translation)||void 0===l?void 0:l.title)||(null===t||void 0===t?void 0:t.id)||e("N/A")}},{title:e("kitchen"),dataIndex:"kitchen",key:"kitchen",is_show:!0,render:t=>{var l;return(null===t||void 0===t||null===(l=t.translation)||void 0===l?void 0:l.title)||(null===t||void 0===t?void 0:t.id)||e("N/A")}},{title:e("active"),dataIndex:"active",is_show:!0,render:(e,t)=>(0,T.jsx)(h.A,{onChange:()=>{P(!0),U(t.uuid),B(!0)},disabled:null===t||void 0===t?void 0:t.deleted_at,checked:!!e})},{title:e("status"),is_show:!0,dataIndex:"status",key:"status",render:(t,l)=>(0,T.jsxs)("div",{children:["pending"===t?(0,T.jsx)(v.A,{color:"blue",children:e(t)}):"unpublished"===t?(0,T.jsx)(v.A,{color:"red",children:e(t)}):(0,T.jsx)(v.A,{color:"cyan",children:e(t)}),!(null!==l&&void 0!==l&&l.deleted_at)&&(0,T.jsx)(d.A,{onClick:()=>q(l)})]})},{title:e("options"),dataIndex:"options",is_show:!0,render:(e,t)=>(0,T.jsxs)(u.A,{children:[(0,T.jsx)(p.A,{type:"primary",icon:(0,T.jsx)(d.A,{}),onClick:()=>ge(t.uuid),disabled:t.deleted_at}),(0,T.jsx)(p.A,{icon:(0,T.jsx)(o.A,{}),onClick:()=>me(t.uuid),disabled:t.deleted_at}),(0,T.jsx)(S.A,{icon:(0,T.jsx)(r.A,{}),onClick:()=>{P(!0),U([t.id]),Q(!0),B(!1)},disabled:t.deleted_at})]})}]),ce=N.data,ue=z.get("status"),ve={search:z.get("search")||void 0,brand_id:z.get("brand")||void 0,category_id:z.get("category")||void 0,shop_id:z.get("shop")||void 0,kitchen_id:z.get("kitchen")||void 0,status:"deleted_at"!==ue?ue:void 0,deleted_at:"deleted_at"===ue?"deleted_at":void 0,sort:null===ce||void 0===ce?void 0:ce.sort,column:null===ce||void 0===ce?void 0:ce.column,perPage:null===ce||void 0===ce?void 0:ce.perPage,page:null===ce||void 0===ce?void 0:ce.page};(0,i.useEffect)((()=>{const e={...ve,page:1,perPage:(null===M||void 0===M?void 0:M.perPage)||10};he(e)}),[null===ve||void 0===ve?void 0:ve.search,null===ve||void 0===ve?void 0:ve.brand_id,null===ve||void 0===ve?void 0:ve.category_id,null===ve||void 0===ve?void 0:ve.shop_id,null===ve||void 0===ve?void 0:ve.kitchen_id,null===ve||void 0===ve?void 0:ve.sort,null===ve||void 0===ve?void 0:ve.status]),(0,w.A)((()=>{if(N.refetch){const e={...ve,page:1,perPage:(null===M||void 0===M?void 0:M.perPage)||10};he(e)}}),[N.refetch]);const he=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t((0,k.j0)(e)),t((0,b.km)(N))},pe=()=>{t((0,b.Ok)({activeMenu:N,data:null}))},ge=a=>{t((0,b.X4)({id:"product-edit",url:`product/${a}`,name:e("edit.product")})),pe(),l(`/product/${a}`)},me=a=>{t((0,b.X4)({id:"product-clone",url:`product-clone/${a}`,name:e("clone.product")})),pe(),l(`/product-clone/${a}`)},xe={selectedRowKeys:J,onChange:e=>{U(e)}};return(0,T.jsxs)(i.Fragment,{children:[(0,T.jsx)(te,{}),(0,T.jsx)(g.A,{className:"p-0",children:(0,T.jsxs)(u.A,{wrap:!0,size:[14,20],children:[(0,T.jsxs)(p.A,{onClick:()=>{t((0,b.X4)({id:"product-import",url:"catalog/product/import",name:e("product.import")})),l("/catalog/product/import")},children:[(0,T.jsx)(X.I8R,{className:"mr-2"}),e("import")]}),"deleted_at"!==ue&&(0,T.jsxs)(p.A,{loading:ie,onClick:()=>{const e={...ve,...Object.assign({},...J.map(((e,t)=>({[`ids[${t}]`]:e||void 0}))))};de(!0),_.A.export(e).then((e=>{var t;window.location.href=A.bb+(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.file_name)})).finally((()=>de(!1)))},children:[(0,T.jsx)(X.$tV,{className:"mr-2"}),e("export")]}),(0,T.jsx)(D.A,{columns:oe,setColumns:re}),"deleted_at"!==ue&&(0,T.jsx)(S.A,{size:"",onClick:()=>{null===J||0===J.length?x.oR.warning(e("select.the.product")):(P(!0),Q(!1))},children:e("delete.selected")}),"deleted_at"!==ue?(0,T.jsx)(S.A,{size:"",onClick:()=>G({delete:!0}),children:e("delete.all")}):(0,T.jsx)(S.A,{icon:(0,T.jsx)(E.DQ9,{className:"mr-2"}),onClick:()=>G({restore:!0}),children:e("restore.all")}),(0,T.jsx)(p.A,{icon:(0,T.jsx)(c.A,{}),type:"primary",onClick:()=>{t((0,b.X4)({id:"product-add",url:"product/add",name:e("add.product")})),pe(),l("/product/add")},children:e("add.product")})]})}),(0,T.jsxs)(g.A,{children:[(0,T.jsx)(a.A,{className:"mt-3",activeKey:ue||"all",onChange:e=>{"all"===e?z.reset("status"):z.set("status",e)},type:"card",children:ae.map((t=>(0,T.jsx)(se,{tab:e(t)},t)))}),(0,T.jsx)(m.A,{locale:{emptyText:(0,T.jsx)(K.A,{})},scroll:{x:!0},rowSelection:xe,loading:V,columns:null===oe||void 0===oe?void 0:oe.filter((e=>e.is_show)),dataSource:I,pagination:{pageSize:(null===H||void 0===H?void 0:H.perPage)||10,page:(null===M||void 0===M?void 0:M.current_page)||1,total:null===M||void 0===M?void 0:M.total,defaultCurrent:(null===M||void 0===M?void 0:M.current_page)||1,current:null===M||void 0===M?void 0:M.current_page},onChange:(e,t,l)=>{const{pageSize:a,current:s}=e,{field:n,order:i}=l,d=(0,C.A)(i),o={...ve,perPage:a,page:s,column:n,sort:d};he(o)},rowKey:e=>e.id})]}),O&&(0,T.jsx)($,{orderDetails:O,handleCancel:()=>q(null),paramsData:ve}),(0,T.jsx)(y.A,{click:R?()=>{ne(!0),_.A.setActive(J).then((()=>{P(!1),t((0,k.j0)(ve)),x.oR.success(e("successfully.updated")),B(!1)})).finally((()=>ne(!1)))}:()=>{ne(!0);const l={...Object.assign({},...J.map(((e,t)=>({[`ids[${t}]`]:e}))))};_.A.delete(l).then((()=>{P(!1),x.oR.success(e("successfully.deleted")),t((0,k.j0)(ve)),Q(null),B(!1)})).finally((()=>ne(!1)))},text:e(R?"set.active.product":Z?"delete":"all.delete"),loading:ee,setText:U,setActive:B}),L&&(0,T.jsx)(F.A,{open:L,handleCancel:()=>G(null),click:L.restore?()=>{ne(!0),_.A.restoreAll().then((()=>{x.oR.success(e("successfully.deleted")),t((0,k.j0)(ve)),G(null)})).finally((()=>ne(!1)))}:()=>{ne(!0),_.A.dropAll().then((()=>{x.oR.success(e("successfully.deleted")),t((0,k.j0)({})),G(null)})).finally((()=>{U(null),ne(!1)}))},text:L.restore?e("restore.modal.text"):e("read.carefully"),subTitle:L.restore?"":e("confirm.deletion"),loading:ee,setText:U,setActive:B})]})};var ie=l(20978),de=l(69554),oe=l(12678),re=l(1669),ce=l(59051),ue=l.n(ce);const ve={type:"product"};function he(e){var t,l,a;let{parentId:o,type:r="main"}=e;const{t:c}=(0,s.B)(),{setIsModalVisible:h}=(0,i.useContext)(j.o),[A,_]=(0,i.useState)(!1),[k,S]=(0,i.useState)(null),[z,N]=(0,i.useState)(null),I=(0,f.wA)(),M=(0,n.Zp)(),{activeMenu:V}=(0,f.d4)((e=>e.menu),f.bN),{data:H,meta:q,loading:R,params:B}=(0,f.d4)((e=>e.requestModels),f.bN),E=V.data,F={search:null===E||void 0===E?void 0:E.search,sort:null===E||void 0===E?void 0:E.sort,column:null===E||void 0===E?void 0:E.column,perPage:null===E||void 0===E?void 0:E.perPage,page:null===E||void 0===E?void 0:E.page,parent_id:o,type:"product"},[K,X]=(0,i.useState)([{title:c("created.by"),dataIndex:"createdBy",key:"createdBy",is_show:!0,render:e=>(0,T.jsxs)("span",{children:[e.firstname," ",null===e||void 0===e?void 0:e.lastname," ",(0,T.jsx)("a",{href:`tel:${null===e||void 0===e?void 0:e.phone}`,children:null===e||void 0===e?void 0:e.phone})]})},{title:c("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0,render:e=>ue()(e).format("YYYY-MM-DD HH:mm")},{title:c("name"),dataIndex:"name",key:"name",is_show:!0,render:(e,t)=>{var l;return(0,T.jsxs)(u.A,{children:[null===(l=t.model.translation)||void 0===l?void 0:l.title," ",(0,T.jsx)(re.Kly,{})," ",t.data[`title[${t.model.translation.locale}]`]]})}},{title:c("image"),dataIndex:"img",key:"img",is_show:!0,render:(e,t)=>{var l,a,s;return(0,T.jsxs)(u.A,{children:[(0,T.jsx)(ie.A,{src:(0,de.A)(t.model.img),alt:"img_gallery",width:100,className:"rounded",preview:!0,placeholder:!0}),(0,T.jsx)(re.Kly,{}),(0,T.jsx)(ie.A,{src:(0,de.A)((null===(l=t.data.images)||void 0===l||null===(a=l.at(0))||void 0===a?void 0:a.url)||(null===(s=t.data.images)||void 0===s?void 0:s.at(0))),alt:"img_gallery",width:100,className:"rounded",preview:!0,placeholder:!0})]})}},{title:c("status"),is_show:!0,dataIndex:"status",key:"status",render:(e,t)=>(0,T.jsx)("div",{children:"pending"===e?(0,T.jsx)(v.A,{color:"blue",children:c(e)}):"canceled"===e?(0,T.jsx)(v.A,{color:"error",children:c(e)}):(0,T.jsx)(v.A,{color:"cyan",children:c(e)})})},{title:c("options"),key:"options",dataIndex:"options",is_show:!0,render:(e,t)=>(0,T.jsxs)(u.A,{children:[(0,T.jsx)(p.A,{icon:(0,T.jsx)(d.A,{}),onClick:()=>(e=>{I((0,b.X4)({url:`product-request/${e.id}`,id:"product_request_edit",name:c("product.request.edit")})),M(`/product-request/${e.id}`)})(t)}),(0,T.jsx)(p.A,{icon:(0,T.jsx)(oe.A,{}),onClick:e=>{e.stopPropagation(),(e=>{I((0,b.X4)({url:`product-request-details/${e.id}`,id:"product_request_details",name:c("product.request.details")})),M(`/product-request-details/${e.id}`)})(t)}}),(0,T.jsx)(p.A,{onClick:()=>N(t),children:c("change.status")})]})}]);(0,i.useEffect)((()=>{I((0,O.uj)(F)),I((0,b.km)(V))}),[V.refetch]),(0,w.A)((()=>{I((0,O.uj)(F))}),[V.data]);const W={selectedRowKeys:k,onChange:e=>{S(e)}};return(0,T.jsxs)(g.A,{title:c("requests"),extra:(0,T.jsx)(u.A,{wrap:!0,children:(0,T.jsx)(D.A,{columns:K,setColumns:X})}),children:[(0,T.jsx)(m.A,{scroll:{x:!0},rowSelection:W,columns:null===K||void 0===K?void 0:K.filter((e=>e.is_show)),dataSource:H,pagination:{pageSize:B.perPage,page:(null===(t=V.data)||void 0===t?void 0:t.page)||1,total:q.total,defaultCurrent:null===(l=V.data)||void 0===l?void 0:l.page,current:null===(a=V.data)||void 0===a?void 0:a.page},rowKey:e=>e.key,onChange:function(e,t,l){const{pageSize:a,current:s}=e,{field:n,order:i}=l,d=(0,C.A)(i);I((0,b.Ok)({activeMenu:V,data:{...V.data,perPage:a,page:s,column:n,sort:d}}))},loading:R}),z&&(0,T.jsx)($,{orderDetails:z,handleCancel:()=>N(null),paramsData:F,listType:"request"}),(0,T.jsx)(y.A,{click:()=>{_(!0);const e={status:null===k||void 0===k?void 0:k.at(0).status};P.A.changeStatus(null===k||void 0===k?void 0:k.at(0).id,e).then((()=>{x.oR.success(c("successfully.changed")),I((0,O.uj)(ve)),h(!1),S(null)})).finally((()=>_(!1)))},text:c("change.status"),setText:S,loading:A})]})}function pe(){var e;const{t:t}=(0,s.B)(),l=(0,n.zy)();return(0,T.jsxs)(a.A,{defaultActiveKey:(null===(e=l.state)||void 0===e?void 0:e.tab)||"list",destroyInactiveTabPane:!0,children:[(0,T.jsx)(a.A.TabPane,{tab:t("product.list"),children:(0,T.jsx)(ne,{})},"list"),(0,T.jsx)(a.A.TabPane,{tab:t("requests"),children:(0,T.jsx)(he,{})},"request")]})}},80905:(e,t,l)=>{"use strict";l.d(t,{j:()=>r});var a=l(9950),s=l(95491),n=l.n(s),i=l(99674),d=l(90650),o=l(44414);const r=e=>{let{fetchOptions:t,debounceTimeout:l=400,hasMore:s,refetchOnFocus:r=!1,...c}=e;const[u,v]=(0,a.useState)(!1),[h,p]=(0,a.useState)([]),[g,m]=(0,a.useState)(!1),[x,A]=(0,a.useState)(null),[j,y]=(0,a.useState)(1),f=(0,a.useMemo)((()=>n()((e=>{p([]),A(e),v(!0),t({search:e}).then((e=>{p(e),y(2),v(!1)})).finally((()=>m(!1)))}),l)),[t,l,j]);return(0,o.jsxs)(i.A,{showSearch:!0,allowClear:!0,onPopupScroll:async e=>{const l=e.target;g||l.scrollTop+l.offsetHeight!==l.scrollHeight||s&&(m(!0),t({search:x,page:j}).then((e=>{y((e=>e+1)),p([...h,...e])})).finally((()=>m(!1))))},labelInValue:!0,filterOption:!1,onSearch:f,notFoundContent:u?(0,o.jsx)(d.A,{size:"small"}):"no results",onFocus:()=>{r?f(""):null!==h&&void 0!==h&&h.length||f("")},...c,children:[h.map(((e,t)=>(0,o.jsx)(i.A.Option,{value:e.value,children:e.label},t))),g&&(0,o.jsx)(i.A.Option,{children:(0,o.jsx)(d.A,{size:"small"})})]})}},88810:(e,t,l)=>{"use strict";l.d(t,{A:()=>n});var a=l(20978),s=l(44414);const n=e=>{let{image:t,row:l,size:n=100}=e;return(0,s.jsx)(a.A,{src:t||"https://via.placeholder.com/150",alt:"img_gallery",width:n,height:n,className:"rounded border",preview:!0,placeholder:!t,style:{objectFit:"contain"}},t+(null===l||void 0===l?void 0:l.id))}},89323:(e,t,l)=>{"use strict";l.d(t,{A:()=>o});var a=l(89379),s=l(9950);const n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var i=l(25085),d=function(e,t){return s.createElement(i.A,(0,a.A)((0,a.A)({},e),{},{ref:t,icon:n}))};d.displayName="TableOutlined";const o=s.forwardRef(d)}}]);