"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[955],{62019:(e,t,a)=>{function i(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["title"];if(null===t||void 0===t||!t.translations)return{};const{translations:i}=t,l=(e,t)=>{const a=null===i||void 0===i?void 0:i.find((t=>(null===t||void 0===t?void 0:t.locale)===(null===e||void 0===e?void 0:e.locale)));return a||{[t]:""}},n=e.flatMap((e=>a.flatMap((t=>({[`${t}[${null===e||void 0===e?void 0:e.locale}]`]:l(e,t)[t]})))));return Object.assign({},...n)}a.d(t,{Z:()=>i})},70955:(e,t,a)=>{a.r(t),a.d(t,{default:()=>w});var i=a(47313),l=a(10976),n=a(77181),s=a(72652),d=a(23560),r=a(97890),o=a(73431),c=a(2717),u=a(90954),v=a(30763),f=a(24511),g=a(80349),p=a(8550),h=a(62019),m=a(75336),y=a(10582),Z=a(46417);const w=()=>{const{t:e}=(0,f.$)(),t=(0,r.s0)(),a=(0,c.I0)(),{activeMenu:w}=(0,c.v9)((e=>e.menu),c.wU),[b,j]=(0,i.useState)(!1),[k]=l.Z.useForm(),[x,M]=(0,i.useState)(null),{uuid:U}=(0,r.UO)(),{params:C}=(0,c.v9)((e=>e.careerCategory),c.wU),{languages:$}=(0,c.v9)((e=>e.formLang),c.wU);(0,i.useEffect)((()=>()=>{const e=k.getFieldsValue(!0);a((0,u.nc)({activeMenu:w,data:e}))}),[]);return(0,i.useEffect)((()=>{var e;w.refetch&&(e=U,j(!0),v.Z.getById(e).then((e=>{var t;let i=e.data;const l={...i,...(0,h.Z)($,i,["title","description"]),image:null!==i&&void 0!==i&&null!==(t=i.img)&&void 0!==t&&t.length?[(0,p.Z)(null===i||void 0===i?void 0:i.img)]:[],keywords:i.keywords.split(",")};k.setFieldsValue(l),a((0,u.nc)({activeMenu:w,data:l}))})).finally((()=>{j(!1),a((0,u.A_)(w))})))}),[w.refetch]),(0,Z.jsx)(n.Z,{title:e("edit.career.category"),extra:(0,Z.jsx)(o.Z,{}),children:b?(0,Z.jsx)("div",{className:"d-flex justify-content-center align-items-center py-5",children:(0,Z.jsx)(s.Z,{size:"large",className:"mt-5 pt-5"})}):(0,Z.jsx)(y.Z,{form:k,handleSubmit:(i,l)=>{var n;const s={title:(0,m.Z)($,i),description:(0,m.Z)($,i,"description"),keywords:null===i||void 0===i||null===(n=i.keywords)||void 0===n?void 0:n.join(","),images:null===l||void 0===l?void 0:l.map((e=>null===e||void 0===e?void 0:e.name)),active:null!==i&&void 0!==i&&i.active?1:0,parent_id:void 0,type:"career"},r="catalog/career-categories";return v.Z.update(U,s).then((()=>{d.Am.success(e("successfully.updated")),(0,c.dC)((()=>{a((0,u.ph)({...w,nextUrl:r})),a((0,g.X)(C))})),t(`/${r}`)})).catch((e=>M(e.response.data.params)))},error:x})})}}}]);