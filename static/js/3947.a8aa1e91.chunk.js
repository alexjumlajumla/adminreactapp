(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[3947],{33834:(t,e,i)=>{"use strict";i.d(e,{K:()=>o});var l=i(97890),n=i(74776),a=i.n(n);const o=()=>{const t=(0,l.s0)(),e=(0,l.TH)(),i=a().parse(e.search,{ignoreQueryPrefix:!0});return{values:i,set:(e,l)=>t({search:a().stringify({...i,[e]:l})}),reset:e=>{const l={...i};l[e]&&delete l[e],t({search:a().stringify({...l})})},clear:()=>t({search:a().stringify({})}),merge:e=>t({search:a().stringify({...i,...e})}),get:t=>i[t],setMultiple:e=>{const l={...i,...e};t({search:a().stringify(l)})},resetMultiple:e=>{const l={...i};e.forEach((t=>{l[t]&&delete l[t]})),t({search:a().stringify(l)})}}}},89355:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>j});var l=i(47313),n=i(83999),a=i(77181),o=i(72652),s=i(73431),d=i(97890),r=i(18333),v=i(2717),u=i(90954),c=i(24511),p=i(33834),h=i(82494),f=i(32723),x=i(1939),g=i(33072),y=i(46417);const{Step:m}=n.Z,j=()=>{var t;const{t:e}=(0,c.$)(),{uuid:i}=(0,d.UO)(),j=(0,p.K)(),{activeMenu:b}=(0,v.v9)((t=>t.menu),v.wU),{languages:k}=(0,v.v9)((t=>t.formLang),v.wU),Z=(0,v.I0)(),S=Number((null===(t=j.values)||void 0===t?void 0:t.step)||0),[$,_]=(0,l.useState)(b.refetch),M=()=>{const t=S+1;j.set("step",t)},w=()=>{const t=S-1;j.set("step",t)},N=t=>{var e;return t?{label:null!==t&&void 0!==t&&t.translation?null===t||void 0===t||null===(e=t.translation)||void 0===e?void 0:e.title:null===t||void 0===t?void 0:t.title,value:null===t||void 0===t?void 0:t.id}:null};function C(t){if(null===t||void 0===t||!t.translations)return{};const{translations:e}=t,i=k.map((t=>{var i,l;return{[`title[${t.locale}]`]:null===(i=e.find((e=>e.locale===t.locale)))||void 0===i?void 0:i.title,[`description[${t.locale}]`]:null===(l=e.find((e=>e.locale===t.locale)))||void 0===l?void 0:l.description}}));return Object.assign({},...i)}(0,l.useEffect)((()=>{b.refetch&&function(t){_(!0),r.Z.getById(t).then((t=>{var e,i,l,n,a,o,s,d,r,v,c;const p={...null===t||void 0===t?void 0:t.data,...C(null===t||void 0===t?void 0:t.data),shop:N(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.shop),unit:N(null===t||void 0===t||null===(i=t.data)||void 0===i?void 0:i.unit),extras:null===t||void 0===t||null===(l=t.data)||void 0===l||null===(n=l.stocks[0])||void 0===n?void 0:n.extras.map((t=>null===t||void 0===t?void 0:t.extra_group_id)),stocks:null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.stocks.map((t=>({...t,...Object.assign({},...t.extras.map(((t,e)=>({[`extras[${e}]`]:t.id})))),quantity:(null===t||void 0===t?void 0:t.quantity)||0,extras:void 0}))),properties:null===t||void 0===t||null===(o=t.data)||void 0===o||null===(s=o.properties)||void 0===s?void 0:s.map(((t,e)=>({id:e,[`key[${null===t||void 0===t?void 0:t.locale}]`]:null===t||void 0===t?void 0:t.key,[`value[${t.locale}]`]:null===t||void 0===t?void 0:t.value}))),translation:void 0,translations:void 0,interval:null!==(d=null===t||void 0===t||null===(r=t.data)||void 0===r?void 0:r.interval)&&void 0!==d?d:1,tax:null!==(v=null===t||void 0===t||null===(c=t.data)||void 0===c?void 0:c.tax)&&void 0!==v?v:0};Z((0,u.nc)({activeMenu:b,data:p}))})).finally((()=>{_(!1),Z((0,u.A_)(b))}))}(i)}),[b.refetch]);return(0,y.jsxs)(a.Z,{title:e("addon.edit"),extra:(0,y.jsx)(s.Z,{}),children:[(0,y.jsx)(n.Z,{current:S,onChange:t=>{Z((0,u.nc)({activeMenu:b,data:{...b.data,step:t}})),j.set("step",t)},children:h.S.map((t=>(0,y.jsx)(m,{title:e(t.title)},t.title)))}),$?(0,y.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,y.jsx)(o.Z,{size:"large",className:"py-5"})}):(0,y.jsxs)("div",{className:"steps-content",children:["First-content"===h.S[S].content&&(0,y.jsx)(g.Z,{next:M,action_type:"edit"}),"Third-content"===h.S[S].content&&(0,y.jsx)(x.Z,{next:M,prev:w,current:S}),"Finish-content"===h.S[S].content&&(0,y.jsx)(f.Z,{prev:w})]})]})}},24654:()=>{}}]);