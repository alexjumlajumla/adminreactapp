(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[1532],{92855:(e,t,l)=>{"use strict";l.d(t,{Z:()=>n});var a=l(26824),s=l(46417);const n=e=>{let{image:t,row:l,size:n=100}=e;return(0,s.jsx)(a.Z,{src:t||"https://via.placeholder.com/150",alt:"img_gallery",width:n,height:n,className:"rounded border",preview:!0,placeholder:!t,style:{objectFit:"contain"}},t+(null===l||void 0===l?void 0:l.id))}},55940:(e,t,l)=>{"use strict";l.d(t,{Z:()=>r});l(47313);var a=l(59491),s=l(47515),n=l(23560),i=l(24511),d=l(79492),o=l(46417);function r(e){let{size:t="",onClick:l,type:r="default",...c}=e;const{t:u}=(0,i.$)(),{isDemo:v}=(0,d.Z)();return(0,o.jsx)(a.Z,{size:t,icon:(0,o.jsx)(s.Z,{}),onClick:e=>{v?n.Am.warning(u("cannot.work.demo")):l(e)},type:r,...c})}},53233:(e,t,l)=>{"use strict";l.d(t,{Z:()=>g});var a=l(47313),s=l(56140),n=l(67251),i=l(45705),d=l(86345),o=l(78267),r=l(37388),c=l(59491),u=l(99587),v=l(24511),h=l(46417);const{Text:p}=s.Z,g=e=>{let{columns:t=[],setColumns:l,style:s,size:g="",iconOnly:m}=e;const{t:x}=(0,v.$)(),[Z,j]=(0,a.useState)(!1),y=(0,h.jsx)(n.Z,{children:null===t||void 0===t?void 0:t.map(((e,a)=>(0,h.jsx)(n.Z.Item,{children:(0,h.jsxs)(i.Z,{className:"d-flex justify-content-between",children:[(0,h.jsx)(p,{children:e.title}),(0,h.jsx)(d.Z,{defaultChecked:!0,onClick:()=>function(e){const a=null===t||void 0===t?void 0:t.map((t=>(t.dataIndex===e.dataIndex&&(t.is_show=!(null!==t&&void 0!==t&&t.is_show)),t)));l(a)}(e),disabled:1===a})]})},e+a)))});return(0,h.jsx)(o.Z,{overlay:y,trigger:["click"],onVisibleChange:e=>{j(e)},visible:Z,children:(0,h.jsx)(r.Z,{title:x("change.columns"),children:(0,h.jsx)(c.Z,{style:{...s},size:g,icon:(0,h.jsx)(u.Z,{}),children:m?null:x("Columns")})})})}},49655:(e,t,l)=>{"use strict";l.d(t,{_:()=>r});var a=l(47313),s=l(12279),n=l.n(s),i=l(74294),d=l(72652),o=l(46417);const r=e=>{let{fetchOptions:t,debounceTimeout:l=400,hasMore:s,refetchOnFocus:r=!1,...c}=e;const[u,v]=(0,a.useState)(!1),[h,p]=(0,a.useState)([]),[g,m]=(0,a.useState)(!1),[x,Z]=(0,a.useState)(null),[j,y]=(0,a.useState)(1),f=(0,a.useMemo)((()=>n()((e=>{p([]),Z(e),v(!0),t({search:e}).then((e=>{p(e),y(2),v(!1)})).finally((()=>m(!1)))}),l)),[t,l,j]);return(0,o.jsxs)(i.Z,{showSearch:!0,allowClear:!0,onPopupScroll:async e=>{const l=e.target;g||l.scrollTop+l.offsetHeight!==l.scrollHeight||s&&(m(!0),t({search:x,page:j}).then((e=>{y((e=>e+1)),p([...h,...e])})).finally((()=>m(!1))))},labelInValue:!0,filterOption:!1,onSearch:f,notFoundContent:u?(0,o.jsx)(d.Z,{size:"small"}):"no results",onFocus:()=>{r?f(""):null!==h&&void 0!==h&&h.length||f("")},...c,children:[h.map(((e,t)=>(0,o.jsx)(i.Z.Option,{value:e.value,children:e.label},t))),g&&(0,o.jsx)(i.Z.Option,{children:(0,o.jsx)(d.Z,{size:"small"})})]})}},48008:(e,t,l)=>{"use strict";l.d(t,{Z:()=>o});l(47313);var a=l(9274),s=l(87569),n=l(59491),i=l(24511),d=l(46417);const o=e=>{let{open:t,handleCancel:l,text:o,click:r,loading:c,subTitle:u}=e;const{t:v}=(0,i.$)();return(0,d.jsxs)(a.Z,{closable:!1,visible:t,footer:null,centered:!0,children:[(0,d.jsx)(s.ZP,{status:"warning",title:o,subTitle:u}),(0,d.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,d.jsx)(n.Z,{type:"primary",className:"mr-2",onClick:r,loading:c,children:v("yes")}),(0,d.jsx)(n.Z,{onClick:()=>l(),children:v("no")})]})]})}},51988:(e,t,l)=>{"use strict";l.d(t,{Z:()=>r});l(47313);var a=l(24511),s=l(66188);const n=l.p+"static/media/noproductsfound.1cec73868b5fd048b865.riv",i=l.p+"static/media/noresult.ac4af107751f94856a9c.riv",d=l.p+"static/media/nosell.32cb2c2cc548a15c820d.riv";var o=l(46417);const r=function(e){let{id:t="noresult",text:l=""}=e;const{t:r}=(0,a.$)(),c={src:{noproductsfound:n,noresult:i,nosell:d}[t],artboard:"New Artboard",autoplay:!0},{RiveComponent:u}=(0,s.useRive)(c);return(0,o.jsxs)("div",{className:"animation-canvas",children:[(0,o.jsx)("div",{style:{width:"100%",height:200},children:(0,o.jsx)(u,{})}),(0,o.jsx)("div",{className:"text text-center",children:r(l)})]})}},41481:(e,t,l)=>{"use strict";l.d(t,{Z:()=>o});var a=l(47313),s=l(66672),n=l(16031),i=l(40765),d=l(46417);function o(e){let{handleChange:t,defaultValue:l,resetSearch:o,...r}=e;const[c,u]=(0,a.useState)(l),v=(0,a.useMemo)((()=>(0,n.debounce)((e=>{t(e)}),800)),[t]);return(0,a.useEffect)((()=>{u(l)}),[o,l]),(0,d.jsx)(s.Z,{value:c,onChange:e=>{u(e.target.value),v(e.target.value)},prefix:(0,d.jsx)(i.Z,{}),...r})}},13945:(e,t,l)=>{"use strict";function a(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}l.d(t,{Z:()=>a})},33834:(e,t,l)=>{"use strict";l.d(t,{K:()=>i});var a=l(97890),s=l(74776),n=l.n(s);const i=()=>{const e=(0,a.s0)(),t=(0,a.TH)(),l=n().parse(t.search,{ignoreQueryPrefix:!0});return{values:l,set:(t,a)=>e({search:n().stringify({...l,[t]:a})}),reset:t=>{const a={...l};a[t]&&delete a[t],e({search:n().stringify({...a})})},clear:()=>e({search:n().stringify({})}),merge:t=>e({search:n().stringify({...l,...t})}),get:e=>l[e],setMultiple:t=>{const a={...l,...t};e({search:n().stringify(a)})},resetMultiple:t=>{const a={...l};t.forEach((e=>{a[e]&&delete a[e]})),e({search:n().stringify(a)})}}}},28358:(e,t,l)=>{"use strict";l.d(t,{Z:()=>s});var a=l(34344);const s={getAll:e=>a.Z.get("dashboard/admin/kitchen",{params:e})}},27178:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>pe});var a=l(73591),s=l(24511),n=l(97890),i=l(47313),d=l(12019),o=l(66407),r=l(47515),c=l(55768),u=l(45705),v=l(66204),h=l(86345),p=l(59491),g=l(77181),m=l(78508),x=l(23560),Z=l(97421),j=l(74580),y=l(69658),f=l(2717),b=l(90954),_=l(17101),w=l(95882),k=l(80314),C=l(13945),S=l(55940),z=l(10976),A=l(9274),I=l(68197),H=l(59624),M=l(74294),N=l(66672),P=l(14349),V=l(71810),$=l(46417);const O=["published","pending","unpublished"],T=["accept","decline"],q={type:"product"};function F(e){let{orderDetails:t,handleCancel:l,paramsData:a,listType:n="product"}=e;const{activeMenu:d}=(0,f.v9)((e=>e.menu),f.wU),[o]=z.Z.useForm(),r=(0,f.I0)(),{t:c}=(0,s.$)(),[u,v]=(0,i.useState)(!1),[h,g]=(0,i.useState)(null===t||void 0===t?void 0:t.status),m="request"===n?T:O;return(0,$.jsx)(A.Z,{visible:!!t,title:t.title,onCancel:l,footer:[(0,$.jsx)(p.Z,{type:"primary",onClick:()=>o.submit(),loading:u,children:c("save")}),(0,$.jsx)(p.Z,{type:"default",onClick:l,children:c("cancel")})],children:(0,$.jsx)(z.Z,{form:o,layout:"vertical",onFinish:e=>{v(!0);const s={...e};"product"===n?((e,t)=>{_.Z.updateStatus(e,t).then((()=>{l(),x.Am.success(c("successfully.updated")),r((0,w.t2)(a)),r((0,b.A_)(d))})).finally((()=>v(!1)))})(t.uuid,s):n&&((e,t)=>{const a={status_note:t.status_note,status:"accept"===t.status?"approved":"canceled"};P.Z.changeStatus(e,a).then((()=>{l(),x.Am.success(c("successfully.updated")),r((0,V.aw)(q)),r((0,b.A_)(d))})).finally((()=>v(!1)))})(t.id,s)},initialValues:"product"===n?{status:t.status,status_note:t.status_note}:{status:"accept",status_note:t.status_note},children:(0,$.jsx)(I.Z,{gutter:12,children:(0,$.jsxs)(H.Z,{span:24,children:[(0,$.jsx)(z.Z.Item,{label:c("status"),name:"status",rules:[{required:!0,message:c("required")}],children:(0,$.jsx)(M.Z,{onChange:e=>g(e),children:m.map(((e,t)=>(0,$.jsx)(M.Z.Option,{value:e,children:c(e)},e+t)))})}),("unpublished"===h||"decline"===h)&&(0,$.jsx)(z.Z.Item,{name:"status_note",label:c("note"),rules:[{validator:(e,t)=>t?t&&""===(null===t||void 0===t?void 0:t.trim())?Promise.reject(new Error(c("no.empty.space"))):t&&(null===t||void 0===t?void 0:t.trim().length)<2?Promise.reject(new Error(c("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(c("required")))}],children:(0,$.jsx)(N.Z.TextArea,{maxLength:250,showCount:!0})})]})})})})}var E=l(53233),D=l(16044),K=l(48008),L=l(51988),R=l(93129),U=l(33834),W=l(92855),B=l(41481),Y=l(49655),Q=l(53149),G=l(30763),J=l(11216),X=l(15386),ee=l(28358);const te=()=>{const{t:e}=(0,s.$)(),t=(0,U.K)(),{loading:l}=(0,f.v9)((e=>e.product),f.wU),[a,n]=(0,i.useState)({shop:!1,category:!1,brand:!1,kitchen:!1}),[d,o]=(0,i.useState)({shop:void 0,category:void 0,brand:void 0,kitchen:void 0}),r=(e,l)=>{const a="search"===e;(a?!(null!==l&&void 0!==l&&l.length):!(null!==l&&void 0!==l&&l.value))?(t.reset(e),a||o({...d,[e]:void 0})):(t.set(e,a?l:null===l||void 0===l?void 0:l.value),a||o({...d,[e]:l}))};return(0,$.jsx)(g.Z,{children:(0,$.jsxs)(u.Z,{children:[(0,$.jsx)(B.Z,{placeholder:e("search"),handleChange:e=>r("search",e),defaultValue:t.get("search")||"",resetSearch:()=>t.reset("search"),style:{width:200},loading:l}),(0,$.jsx)(Y._,{placeholder:e("select.shop"),hasMore:a.shop,fetchOptions:t=>{let{search:l,page:s=1}=t;const i={search:null!==l&&void 0!==l&&l.length?l:void 0,status:"approved",page:s};return Q.Z.search(i).then((t=>{var l,s,i;return n({...a,shop:(null===t||void 0===t||null===(l=t.meta)||void 0===l?void 0:l.current_page)<(null===t||void 0===t||null===(s=t.meta)||void 0===s?void 0:s.last_page)}),null===t||void 0===t||null===(i=t.data)||void 0===i?void 0:i.map((t=>{var l;return{label:(null===t||void 0===t||null===(l=t.translation)||void 0===l?void 0:l.title)||(null===t||void 0===t?void 0:t.id)||e("N/A"),value:null===t||void 0===t?void 0:t.id,key:null===t||void 0===t?void 0:t.id}}))}))},style:{minWidth:200},onChange:e=>r("shop",e),onClear:()=>t.reset("shop"),loading:l,value:d.shop}),(0,$.jsx)(Y._,{placeholder:e("select.category"),hasMore:a.category,fetchOptions:l=>{let{search:s,page:i=1}=l;const d={type:"main",search:null!==s&&void 0!==s&&s.length?s:void 0,page:i,shop_id:t.get("shop")||void 0};return G.Z.search(d).then((t=>{var l,s,i;return n({...a,category:(null===t||void 0===t||null===(l=t.meta)||void 0===l?void 0:l.current_page)<(null===t||void 0===t||null===(s=t.meta)||void 0===s?void 0:s.last_page)}),null===t||void 0===t||null===(i=t.data)||void 0===i?void 0:i.map((t=>{var l;return{label:(null===t||void 0===t||null===(l=t.translation)||void 0===l?void 0:l.title)||(null===t||void 0===t?void 0:t.id)||e("N/A"),value:null===t||void 0===t?void 0:t.id,key:null===t||void 0===t?void 0:t.id}}))}))},style:{minWidth:200},onChange:e=>r("category",e),onClear:()=>t.reset("category"),refetchOnFocus:!!t.get("shop"),loading:l,value:d.category}),(0,$.jsx)(Y._,{placeholder:e("select.brand"),hasMore:a.brand,fetchOptions:t=>{let{search:l,page:s=1}=t;const i={search:null!==l&&void 0!==l&&l.length?l:void 0,page:s};return J.Z.search(i).then((t=>{var l,s,i;return n({...a,brand:(null===t||void 0===t||null===(l=t.meta)||void 0===l?void 0:l.current_page)<(null===t||void 0===t||null===(s=t.meta)||void 0===s?void 0:s.last_page)}),null===t||void 0===t||null===(i=t.data)||void 0===i?void 0:i.map((t=>({label:(null===t||void 0===t?void 0:t.title)||(null===t||void 0===t?void 0:t.id)||e("N/A"),value:null===t||void 0===t?void 0:t.id,key:null===t||void 0===t?void 0:t.id})))}))},style:{minWidth:200},onChange:e=>r("brand",e),onClear:()=>t.reset("brand"),refetchOnFocus:!!t.get("brand"),loading:l,value:d.brand}),(0,$.jsx)(Y._,{placeholder:e("select.kitchen"),hasMore:a.kitchen,fetchOptions:t=>{let{search:l,page:s=1}=t;const i={search:null!==l&&void 0!==l&&l.length?l:void 0,page:s,active:1};return ee.Z.getAll(i).then((t=>{var l,s,i;return n({...a,kitchen:(null===t||void 0===t||null===(l=t.meta)||void 0===l?void 0:l.current_page)<(null===t||void 0===t||null===(s=t.meta)||void 0===s?void 0:s.last_page)}),null===t||void 0===t||null===(i=t.data)||void 0===i?void 0:i.map((t=>{var l;return{label:(null===t||void 0===t||null===(l=t.translation)||void 0===l?void 0:l.title)||(null===t||void 0===t?void 0:t.id)||e("N/A"),value:null===t||void 0===t?void 0:t.id,key:null===t||void 0===t?void 0:t.id}}))}))},style:{minWidth:200},onChange:e=>r("kitchen",e),onClear:()=>t.reset("kitchen"),refetchOnFocus:!!t.get("kitchen"),loading:l,value:d.kitchen}),(0,$.jsx)(p.Z,{icon:(0,$.jsx)(X.Z,{}),onClick:()=>{t.resetMultiple(["search","shop","category","brand"]),o({shop:void 0,category:void 0,brand:void 0})},children:e("reset.filters")})]})})},le=["blue","red","gold","volcano","cyan","lime"],ae=["all","pending","published","unpublished","deleted_at"],{TabPane:se}=a.Z,ne=()=>{const{t:e}=(0,s.$)(),t=(0,f.I0)(),l=(0,n.s0)(),z=(0,U.K)(),{activeMenu:A}=(0,f.v9)((e=>e.menu),f.wU),{products:I,meta:H,loading:M,params:N}=(0,f.v9)((e=>e.product),f.wU),{setIsModalVisible:P}=(0,i.useContext)(j._),[V,O]=(0,i.useState)(null),[T,q]=(0,i.useState)(null),[B,Y]=(0,i.useState)(null),[Q,G]=(0,i.useState)(null),[J,X]=(0,i.useState)(null),[ee,ne]=(0,i.useState)(!1),[ie,de]=(0,i.useState)(!1),[oe,re]=(0,i.useState)([{title:e("id"),dataIndex:"id",is_show:!0,sorter:(e,t)=>e.id-t.id},{title:e("image"),dataIndex:"img",is_show:!0,render:(e,t)=>(0,$.jsx)(W.Z,{row:t,image:e})},{title:e("name"),dataIndex:"name",is_show:!0},{title:e("translations"),dataIndex:"locales",is_show:!0,render:(e,t)=>{var l;return(0,$.jsx)(u.Z,{children:null===(l=t.locales)||void 0===l?void 0:l.map(((e,t)=>(0,$.jsx)(v.Z,{className:"text-uppercase",color:[le[t]],children:e})))})}},{title:e("shop"),dataIndex:"shop",key:"shop",is_show:!0,render:t=>{var l;return(null===t||void 0===t||null===(l=t.translation)||void 0===l?void 0:l.title)||(null===t||void 0===t?void 0:t.id)||e("N/A")}},{title:e("category"),dataIndex:"category",key:"category",is_show:!0,render:t=>{var l;return(null===t||void 0===t||null===(l=t.translation)||void 0===l?void 0:l.title)||(null===t||void 0===t?void 0:t.id)||e("N/A")}},{title:e("kitchen"),dataIndex:"kitchen",key:"kitchen",is_show:!0,render:t=>{var l;return(null===t||void 0===t||null===(l=t.translation)||void 0===l?void 0:l.title)||(null===t||void 0===t?void 0:t.id)||e("N/A")}},{title:e("active"),dataIndex:"active",is_show:!0,render:(e,t)=>(0,$.jsx)(h.Z,{onChange:()=>{P(!0),X(t.uuid),q(!0)},disabled:null===t||void 0===t?void 0:t.deleted_at,checked:!!e})},{title:e("status"),is_show:!0,dataIndex:"status",key:"status",render:(t,l)=>(0,$.jsxs)("div",{children:["pending"===t?(0,$.jsx)(v.Z,{color:"blue",children:e(t)}):"unpublished"===t?(0,$.jsx)(v.Z,{color:"red",children:e(t)}):(0,$.jsx)(v.Z,{color:"cyan",children:e(t)}),!(null!==l&&void 0!==l&&l.deleted_at)&&(0,$.jsx)(d.Z,{onClick:()=>O(l)})]})},{title:e("options"),dataIndex:"options",is_show:!0,render:(e,t)=>(0,$.jsxs)(u.Z,{children:[(0,$.jsx)(p.Z,{type:"primary",icon:(0,$.jsx)(d.Z,{}),onClick:()=>ge(t.uuid),disabled:t.deleted_at}),(0,$.jsx)(p.Z,{icon:(0,$.jsx)(o.Z,{}),onClick:()=>me(t.uuid),disabled:t.deleted_at}),(0,$.jsx)(S.Z,{icon:(0,$.jsx)(r.Z,{}),onClick:()=>{P(!0),X([t.id]),Y(!0),q(!1)},disabled:t.deleted_at})]})}]),ce=A.data,ue=z.get("status"),ve={search:z.get("search")||void 0,brand_id:z.get("brand")||void 0,category_id:z.get("category")||void 0,shop_id:z.get("shop")||void 0,kitchen_id:z.get("kitchen")||void 0,status:"deleted_at"!==ue?ue:void 0,deleted_at:"deleted_at"===ue?"deleted_at":void 0,sort:null===ce||void 0===ce?void 0:ce.sort,column:null===ce||void 0===ce?void 0:ce.column,perPage:null===ce||void 0===ce?void 0:ce.perPage,page:null===ce||void 0===ce?void 0:ce.page};(0,i.useEffect)((()=>{const e={...ve,page:1,perPage:(null===H||void 0===H?void 0:H.perPage)||10};he(e)}),[null===ve||void 0===ve?void 0:ve.search,null===ve||void 0===ve?void 0:ve.brand_id,null===ve||void 0===ve?void 0:ve.category_id,null===ve||void 0===ve?void 0:ve.shop_id,null===ve||void 0===ve?void 0:ve.kitchen_id,null===ve||void 0===ve?void 0:ve.sort,null===ve||void 0===ve?void 0:ve.status]),(0,k.Z)((()=>{if(A.refetch){const e={...ve,page:1,perPage:(null===H||void 0===H?void 0:H.perPage)||10};he(e)}}),[A.refetch]);const he=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t((0,w.t2)(e)),t((0,b.A_)(A))},pe=()=>{t((0,b.nc)({activeMenu:A,data:null}))},ge=a=>{t((0,b.bL)({id:"product-edit",url:`product/${a}`,name:e("edit.product")})),pe(),l(`/product/${a}`)},me=a=>{t((0,b.bL)({id:"product-clone",url:`product-clone/${a}`,name:e("clone.product")})),pe(),l(`/product-clone/${a}`)},xe={selectedRowKeys:J,onChange:e=>{X(e)}};return(0,$.jsxs)(i.Fragment,{children:[(0,$.jsx)(te,{}),(0,$.jsx)(g.Z,{className:"p-0",children:(0,$.jsxs)(u.Z,{wrap:!0,size:[14,20],children:[(0,$.jsxs)(p.Z,{onClick:()=>{t((0,b.bL)({id:"product-import",url:"catalog/product/import",name:e("product.import")})),l("/catalog/product/import")},children:[(0,$.jsx)(R.o5r,{className:"mr-2"}),e("import")]}),"deleted_at"!==ue&&(0,$.jsxs)(p.Z,{loading:ie,onClick:()=>{const e={...ve,...Object.assign({},...J.map(((e,t)=>({[`ids[${t}]`]:e||void 0}))))};de(!0),_.Z.export(e).then((e=>{var t;window.location.href=Z.S0+(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.file_name)})).finally((()=>de(!1)))},children:[(0,$.jsx)(R.bwQ,{className:"mr-2"}),e("export")]}),(0,$.jsx)(E.Z,{columns:oe,setColumns:re}),"deleted_at"!==ue&&(0,$.jsx)(S.Z,{size:"",onClick:()=>{null===J||0===J.length?x.Am.warning(e("select.the.product")):(P(!0),Y(!1))},children:e("delete.selected")}),"deleted_at"!==ue?(0,$.jsx)(S.Z,{size:"",onClick:()=>G({delete:!0}),children:e("delete.all")}):(0,$.jsx)(S.Z,{icon:(0,$.jsx)(D.uOc,{className:"mr-2"}),onClick:()=>G({restore:!0}),children:e("restore.all")}),(0,$.jsx)(p.Z,{icon:(0,$.jsx)(c.Z,{}),type:"primary",onClick:()=>{t((0,b.bL)({id:"product-add",url:"product/add",name:e("add.product")})),pe(),l("/product/add")},children:e("add.product")})]})}),(0,$.jsxs)(g.Z,{children:[(0,$.jsx)(a.Z,{className:"mt-3",activeKey:ue||"all",onChange:e=>{"all"===e?z.reset("status"):z.set("status",e)},type:"card",children:ae.map((t=>(0,$.jsx)(se,{tab:e(t)},t)))}),(0,$.jsx)(m.Z,{locale:{emptyText:(0,$.jsx)(L.Z,{})},scroll:{x:!0},rowSelection:xe,loading:M,columns:null===oe||void 0===oe?void 0:oe.filter((e=>e.is_show)),dataSource:I,pagination:{pageSize:(null===N||void 0===N?void 0:N.perPage)||10,page:(null===H||void 0===H?void 0:H.current_page)||1,total:null===H||void 0===H?void 0:H.total,defaultCurrent:(null===H||void 0===H?void 0:H.current_page)||1,current:null===H||void 0===H?void 0:H.current_page},onChange:(e,t,l)=>{const{pageSize:a,current:s}=e,{field:n,order:i}=l,d=(0,C.Z)(i),o={...ve,perPage:a,page:s,column:n,sort:d};he(o)},rowKey:e=>e.id})]}),V&&(0,$.jsx)(F,{orderDetails:V,handleCancel:()=>O(null),paramsData:ve}),(0,$.jsx)(y.Z,{click:T?()=>{ne(!0),_.Z.setActive(J).then((()=>{P(!1),t((0,w.t2)(ve)),x.Am.success(e("successfully.updated")),q(!1)})).finally((()=>ne(!1)))}:()=>{ne(!0);const l={...Object.assign({},...J.map(((e,t)=>({[`ids[${t}]`]:e}))))};_.Z.delete(l).then((()=>{P(!1),x.Am.success(e("successfully.deleted")),t((0,w.t2)(ve)),Y(null),q(!1)})).finally((()=>ne(!1)))},text:e(T?"set.active.product":B?"delete":"all.delete"),loading:ee,setText:X,setActive:q}),Q&&(0,$.jsx)(K.Z,{open:Q,handleCancel:()=>G(null),click:Q.restore?()=>{ne(!0),_.Z.restoreAll().then((()=>{x.Am.success(e("successfully.deleted")),t((0,w.t2)(ve)),G(null)})).finally((()=>ne(!1)))}:()=>{ne(!0),_.Z.dropAll().then((()=>{x.Am.success(e("successfully.deleted")),t((0,w.t2)({})),G(null)})).finally((()=>{X(null),ne(!1)}))},text:Q.restore?e("restore.modal.text"):e("read.carefully"),subTitle:Q.restore?"":e("confirm.deletion"),loading:ee,setText:X,setActive:q})]})};var ie=l(26824),de=l(45464),oe=l(31741),re=l(47677),ce=l(70816),ue=l.n(ce);const ve={type:"product"};function he(e){var t,l,a;let{parentId:o,type:r="main"}=e;const{t:c}=(0,s.$)(),{setIsModalVisible:h}=(0,i.useContext)(j._),[Z,_]=(0,i.useState)(!1),[w,S]=(0,i.useState)(null),[z,A]=(0,i.useState)(null),I=(0,f.I0)(),H=(0,n.s0)(),{activeMenu:M}=(0,f.v9)((e=>e.menu),f.wU),{data:N,meta:O,loading:T,params:q}=(0,f.v9)((e=>e.requestModels),f.wU),D=M.data,K={search:null===D||void 0===D?void 0:D.search,sort:null===D||void 0===D?void 0:D.sort,column:null===D||void 0===D?void 0:D.column,perPage:null===D||void 0===D?void 0:D.perPage,page:null===D||void 0===D?void 0:D.page,parent_id:o,type:"product"},[L,R]=(0,i.useState)([{title:c("created.by"),dataIndex:"createdBy",key:"createdBy",is_show:!0,render:e=>(0,$.jsxs)("span",{children:[e.firstname," ",null===e||void 0===e?void 0:e.lastname," ",(0,$.jsx)("a",{href:`tel:${null===e||void 0===e?void 0:e.phone}`,children:null===e||void 0===e?void 0:e.phone})]})},{title:c("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0,render:e=>ue()(e).format("YYYY-MM-DD HH:mm")},{title:c("name"),dataIndex:"name",key:"name",is_show:!0,render:(e,t)=>{var l;return(0,$.jsxs)(u.Z,{children:[null===(l=t.model.translation)||void 0===l?void 0:l.title," ",(0,$.jsx)(re.WFu,{})," ",t.data[`title[${t.model.translation.locale}]`]]})}},{title:c("image"),dataIndex:"img",key:"img",is_show:!0,render:(e,t)=>{var l,a,s;return(0,$.jsxs)(u.Z,{children:[(0,$.jsx)(ie.Z,{src:(0,de.Z)(t.model.img),alt:"img_gallery",width:100,className:"rounded",preview:!0,placeholder:!0}),(0,$.jsx)(re.WFu,{}),(0,$.jsx)(ie.Z,{src:(0,de.Z)((null===(l=t.data.images)||void 0===l||null===(a=l.at(0))||void 0===a?void 0:a.url)||(null===(s=t.data.images)||void 0===s?void 0:s.at(0))),alt:"img_gallery",width:100,className:"rounded",preview:!0,placeholder:!0})]})}},{title:c("status"),is_show:!0,dataIndex:"status",key:"status",render:(e,t)=>(0,$.jsx)("div",{children:"pending"===e?(0,$.jsx)(v.Z,{color:"blue",children:c(e)}):"canceled"===e?(0,$.jsx)(v.Z,{color:"error",children:c(e)}):(0,$.jsx)(v.Z,{color:"cyan",children:c(e)})})},{title:c("options"),key:"options",dataIndex:"options",is_show:!0,render:(e,t)=>(0,$.jsxs)(u.Z,{children:[(0,$.jsx)(p.Z,{icon:(0,$.jsx)(d.Z,{}),onClick:()=>(e=>{I((0,b.bL)({url:`product-request/${e.id}`,id:"product_request_edit",name:c("product.request.edit")})),H(`/product-request/${e.id}`)})(t)}),(0,$.jsx)(p.Z,{icon:(0,$.jsx)(oe.Z,{}),onClick:e=>{e.stopPropagation(),(e=>{I((0,b.bL)({url:`product-request-details/${e.id}`,id:"product_request_details",name:c("product.request.details")})),H(`/product-request-details/${e.id}`)})(t)}}),(0,$.jsx)(p.Z,{onClick:()=>A(t),children:c("change.status")})]})}]);(0,i.useEffect)((()=>{I((0,V.aw)(K)),I((0,b.A_)(M))}),[M.refetch]),(0,k.Z)((()=>{I((0,V.aw)(K))}),[M.data]);const U={selectedRowKeys:w,onChange:e=>{S(e)}};return(0,$.jsxs)(g.Z,{title:c("requests"),extra:(0,$.jsx)(u.Z,{wrap:!0,children:(0,$.jsx)(E.Z,{columns:L,setColumns:R})}),children:[(0,$.jsx)(m.Z,{scroll:{x:!0},rowSelection:U,columns:null===L||void 0===L?void 0:L.filter((e=>e.is_show)),dataSource:N,pagination:{pageSize:q.perPage,page:(null===(t=M.data)||void 0===t?void 0:t.page)||1,total:O.total,defaultCurrent:null===(l=M.data)||void 0===l?void 0:l.page,current:null===(a=M.data)||void 0===a?void 0:a.page},rowKey:e=>e.key,onChange:function(e,t,l){const{pageSize:a,current:s}=e,{field:n,order:i}=l,d=(0,C.Z)(i);I((0,b.nc)({activeMenu:M,data:{...M.data,perPage:a,page:s,column:n,sort:d}}))},loading:T}),z&&(0,$.jsx)(F,{orderDetails:z,handleCancel:()=>A(null),paramsData:K,listType:"request"}),(0,$.jsx)(y.Z,{click:()=>{_(!0);const e={status:null===w||void 0===w?void 0:w.at(0).status};P.Z.changeStatus(null===w||void 0===w?void 0:w.at(0).id,e).then((()=>{x.Am.success(c("successfully.changed")),I((0,V.aw)(ve)),h(!1),S(null)})).finally((()=>_(!1)))},text:c("change.status"),setText:S,loading:Z})]})}function pe(){var e;const{t:t}=(0,s.$)(),l=(0,n.TH)();return(0,$.jsxs)(a.Z,{defaultActiveKey:(null===(e=l.state)||void 0===e?void 0:e.tab)||"list",destroyInactiveTabPane:!0,children:[(0,$.jsx)(a.Z.TabPane,{tab:t("product.list"),children:(0,$.jsx)(ne,{})},"list"),(0,$.jsx)(a.Z.TabPane,{tab:t("requests"),children:(0,$.jsx)(he,{})},"request")]})}},15386:(e,t,l)=>{"use strict";l.d(t,{Z:()=>o});var a=l(1413),s=l(47313);const n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6a25.95 25.95 0 0025.6 30.4h723c1.5 0 3-.1 4.4-.4a25.88 25.88 0 0021.2-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"}}]},name:"clear",theme:"outlined"};var i=l(17469),d=function(e,t){return s.createElement(i.Z,(0,a.Z)((0,a.Z)({},e),{},{ref:t,icon:n}))};d.displayName="ClearOutlined";const o=s.forwardRef(d)},55768:(e,t,l)=>{"use strict";l.d(t,{Z:()=>o});var a=l(1413),s=l(47313);const n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};var i=l(17469),d=function(e,t){return s.createElement(i.Z,(0,a.Z)((0,a.Z)({},e),{},{ref:t,icon:n}))};d.displayName="PlusCircleOutlined";const o=s.forwardRef(d)},99587:(e,t,l)=>{"use strict";l.d(t,{Z:()=>o});var a=l(1413),s=l(47313);const n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var i=l(17469),d=function(e,t){return s.createElement(i.Z,(0,a.Z)((0,a.Z)({},e),{},{ref:t,icon:n}))};d.displayName="TableOutlined";const o=s.forwardRef(d)},24654:()=>{}}]);