"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[9102],{25513:(e,s,t)=>{t.d(s,{Z:()=>k});var a=t(47313),d=t(68197),r=t(66204),n=t(59624),i=t(45705),o=t(59491),l=t(10976),m=t(16124),c=t(77181),h=t(25050),p=t(86345),u=t(24511),x=t(70816),y=t.n(x),Z=t(59713),f=t(43681),b=t(11829),g=t(65919),j=t(46417);const k=e=>{let{onFinish:s,form:t,lines:x,loadingBtn:k,days:H,setDays:w,setLines:v,weeks:_}=e;const{t:S}=(0,u.$)(),D=[{from:new Date(1900,4,18),to:new Date}],[N,C]=(0,a.useState)(!0),P=H&&H.length>0?(0,j.jsxs)(d.Z,{children:[(0,j.jsx)(r.Z,{style:{fontSize:14,padding:"4px 10px",width:"100%",marginTop:"10px"},children:S("Your.existing.vacations")}),(0,j.jsxs)(n.Z,{span:24,className:"mt-2",children:[H.slice(0,N?1:H.length).map(((e,s)=>(0,j.jsxs)(i.Z,{className:"d-flex justify-content-between",style:{borderBottom:"1px solid #4D5B75"},children:[(0,j.jsx)(n.Z,{span:24,style:{fontSize:14,marginTop:"8px"},children:y()(e).format("YYYY-MM-DD")}),(0,j.jsx)(n.Z,{span:24,children:(0,j.jsx)(r.Z,{color:"red",className:"cursor-pointer mt-3 mb-2",style:{fontSize:14},onClick:()=>{return s=e,w(H.filter((e=>e!==s)));var s},children:S("remove")})})]},s))),(0,j.jsx)(o.Z,{className:"mt-3 w-100",onClick:()=>{C(!N)},children:N?(0,j.jsx)(Z.ahe,{}):(0,j.jsx)(Z.dMq,{})})]})]}):(0,j.jsx)(r.Z,{style:{fontSize:14,padding:"4px 10px",width:"100%"},children:"Please pick one or more days."}),Y=(e,s)=>{const t=[];for(let a=e;a<s;a++)t.push(a);return t},F=()=>({disabledHours:()=>Y(0,1),disabledMinutes:()=>Y(0,0),disabledSeconds:()=>Y(0,60)});return(0,j.jsx)(l.Z,{form:t,layout:"vertical",onFinish:s,children:(0,j.jsxs)(d.Z,{gutter:12,children:[(0,j.jsx)(n.Z,{span:12,children:(0,j.jsx)(l.Z.Item,{label:S("max.time"),name:"max_time",rules:[{required:!0,message:S("required")},{type:"number",min:1,max:24,message:S("must.be.between.1.and.24")}],children:(0,j.jsx)(m.Z,{className:"w-100"})})}),(0,j.jsx)(n.Z,{span:12}),(0,j.jsx)(n.Z,{span:12,children:(0,j.jsx)(c.Z,{title:S("booking.working.days"),children:(0,j.jsx)(d.Z,{gutter:8,children:(0,j.jsx)(n.Z,{span:24,children:(0,j.jsx)(l.Z.List,{name:"working_days",children:e=>(0,j.jsx)("div",{children:e.map(((e,s)=>(0,j.jsxs)(d.Z,{gutter:12,align:"center",children:[(0,j.jsx)(n.Z,{span:7,children:(0,j.jsx)(l.Z.Item,{name:[s,"day"],children:(0,j.jsx)("span",{children:S(_[s].title)})})}),x[e.key]?(0,j.jsx)(n.Z,{span:13,className:"mt-2",children:(0,j.jsx)("span",{children:S("shop.closed")})}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(n.Z,{span:7,children:(0,j.jsx)(l.Z.Item,{rules:[{required:!1===x[e.key]}],name:[s,"from"],children:(0,j.jsx)(h.Z,{disabledTime:F,picker:"time",placeholder:S("start.time")})})}),(0,j.jsx)(n.Z,{span:6,children:(0,j.jsx)(l.Z.Item,{rules:[{required:!1===x[e.key]}],name:[s,"to"],children:(0,j.jsx)(h.Z,{disabledTime:F,picker:"time",placeholder:S("end.time")})})})]}),(0,j.jsx)(n.Z,{span:4,children:(0,j.jsx)(l.Z.Item,{name:[s,"disabled"],valuePropName:"checked",children:(0,j.jsx)(p.Z,{checkedChildren:(0,j.jsx)(f.Z,{}),unCheckedChildren:(0,j.jsx)(b.Z,{}),checked:x[e.key],onChange:()=>(e=>{const s=[...x];s[e]=!x[e],v(s)})(e.key)})})})]},e.key)))})})})})})}),(0,j.jsx)(n.Z,{span:12,children:(0,j.jsxs)(c.Z,{title:S("booking.closed.days"),children:[(0,j.jsx)("p",{children:S("booking.closed.days.text")}),(0,j.jsx)(l.Z.Item,{rules:[{required:!1,message:S("required")}],children:(0,j.jsx)(g._W,{className:"datepicker",mode:"multiple",disabled:D,min:1,selected:H,onSelect:w,footer:P,showOutsideDays:!0})})]})}),(0,j.jsx)(n.Z,{span:24,children:(0,j.jsx)(i.Z,{children:(0,j.jsx)(o.Z,{type:"primary",htmlType:"submit",loading:k,children:S("save")})})})]})})}},21429:(e,s,t)=>{t.d(s,{P:()=>r});var a=t(70816),d=t.n(a);const r=[{title:"monday",disabled:!1,from:d()("01:00:00","HH:mm:ss"),to:d()("23:00:00","HH:mm:ss")},{title:"tuesday",disabled:!1,from:d()("01:00:00","HH:mm:ss"),to:d()("23:00:00","HH:mm:ss")},{title:"wednesday",disabled:!1,from:d()("01:00:00","HH:mm:ss"),to:d()("23:00:00","HH:mm:ss")},{title:"thursday",disabled:!1,from:d()("01:00:00","HH:mm:ss"),to:d()("23:00:00","HH:mm:ss")},{title:"friday",disabled:!1,from:d()("01:00:00","HH:mm:ss"),to:d()("23:00:00","HH:mm:ss")},{title:"saturday",disabled:!1,from:d()("01:00:00","HH:mm:ss"),to:d()("23:00:00","HH:mm:ss")},{title:"sunday",disabled:!1,from:d()("01:00:00","HH:mm:ss"),to:d()("23:00:00","HH:mm:ss")}]},31872:(e,s,t)=>{t.d(s,{Z:()=>d});var a=t(34344);const d={getById:e=>a.Z.get(`dashboard/seller/booking/shop-closed-dates/${e}`),create:e=>a.Z.post("dashboard/seller/booking/shop-closed-dates",e,{}),update:(e,s)=>a.Z.put(`dashboard/seller/booking/shop-closed-dates/${e}`,s,{}),delete:e=>a.Z.delete("dashboard/seller/booking/shop-closed-dates/delete",{params:e})}},61887:(e,s,t)=>{t.d(s,{Z:()=>d});var a=t(34344);const d={getById:e=>a.Z.get(`dashboard/seller/booking/shop-working-days/${e}`),create:e=>a.Z.post("dashboard/seller/booking/shop-working-day",e,{}),update:(e,s)=>a.Z.put(`dashboard/seller/booking/shop-working-days/${e}`,s,{}),delete:e=>a.Z.delete("dashboard/seller/booking/shop-working-days",{params:e})}},34830:(e,s,t)=>{t.r(s),t.d(s,{default:()=>g});var a=t(47313),d=t(51282),r=t(70816),n=t.n(r),i=t(21429),o=t(25513),l=t(10976),m=t(66444),c=t(31872),h=t(2717),p=t(61887),u=t(90954),x=t(23560),y=t(97890),Z=t(24511),f=t(72936),b=t(46417);const g=()=>{const{t:e}=(0,Z.$)(),[s]=l.Z.useForm(),[t,r]=(0,a.useState)([]),[g,j]=(0,a.useState)(new Array(7).fill(!1)),[k,H]=(0,a.useState)(!1),[w,v]=(0,a.useState)(!1),{myShop:_}=(0,h.v9)((e=>e.myShop),h.wU),{activeMenu:S}=(0,h.v9)((e=>e.menu),h.wU),D=(0,h.I0)(),N=(0,y.s0)();return(0,a.useEffect)((()=>{s.setFieldsValue({working_days:i.P})}),[]),(0,a.useEffect)((()=>{S.refetch&&(v(!0),m.Z.getAll().then((e=>{s.setFieldsValue({max_time:e.data.max_time})})).finally((()=>{D((0,u.A_)(S)),v(!1)})),c.Z.getById(_.uuid).then((e=>{r(e.data.booking_shop_closed_date.filter((e=>(null===e||void 0===e?void 0:e.day)>n()(new Date).format("YYYY-MM-DD"))).map((e=>new Date(null===e||void 0===e?void 0:e.day))))})).finally((()=>{D((0,u.A_)(S)),v(!1)})),p.Z.getById(_.uuid).then((e=>{j(0!==e.data.dates.length?e.data.dates.map((e=>e.disabled)):[]),0!==e.data.dates.length&&s.setFieldsValue({working_days:e.data.dates.map((e=>({title:e.day,from:n()(e.from,"HH:mm:ss"),to:n()(e.to,"HH:mm:ss"),disabled:Boolean(e.disabled)})))})})).finally((()=>{D((0,u.A_)(S)),v(!1)})))}),[S.refetch]),(0,b.jsx)(b.Fragment,{children:w?(0,b.jsx)(d.Z,{}):(0,b.jsx)(o.Z,{onFinish:s=>{H(!0);const a={dates:t?t.map((e=>n()(e).format("YYYY-MM-DD"))):void 0},d={dates:s.working_days.map((e=>({day:e.title,from:n()(e.from?e.from:"00").format("HH-mm"),to:n()(e.to?e.to:"00").format("HH-mm"),disabled:e.disabled})))},r={max_time:s.max_time},i="seller/booking/time";Promise.all([m.Z.create(r),c.Z.update(_.uuid,a),0!==s.working_days.length?p.Z.update(_.uuid,d):void 0]).then((()=>{x.Am.success(e("successfully.updated")),D((0,f.R)({})),D((0,u.ph)({...S,nextUrl:i})),N(`/${i}`)}))},form:s,lines:g,loadingBtn:k,days:t,setDays:r,setLines:j,weeks:i.P})})}},25050:(e,s,t)=>{t.d(s,{Z:()=>c});var a=t(87462),d=t(47313),r=t(99096),n=function(e,s){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&s.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var d=0;for(a=Object.getOwnPropertySymbols(e);d<a.length;d++)s.indexOf(a[d])<0&&Object.prototype.propertyIsEnumerable.call(e,a[d])&&(t[a[d]]=e[a[d]])}return t},i=r.Z.TimePicker,o=r.Z.RangePicker,l=d.forwardRef((function(e,s){return d.createElement(o,(0,a.Z)({},e,{dropdownClassName:e.popupClassName,picker:"time",mode:void 0,ref:s}))})),m=d.forwardRef((function(e,s){var t=e.addon,r=e.renderExtraFooter,o=e.popupClassName,l=n(e,["addon","renderExtraFooter","popupClassName"]),m=d.useMemo((function(){return r||(t||void 0)}),[t,r]);return d.createElement(i,(0,a.Z)({},l,{dropdownClassName:o,mode:void 0,ref:s,renderExtraFooter:m}))}));m.displayName="TimePicker",m.RangePicker=l;const c=m}}]);