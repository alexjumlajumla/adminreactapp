(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[1889],{33834:(e,t,s)=>{"use strict";s.d(t,{K:()=>i});var a=s(97890),l=s(74776),n=s.n(l);const i=()=>{const e=(0,a.s0)(),t=(0,a.TH)(),s=n().parse(t.search,{ignoreQueryPrefix:!0});return{values:s,set:(t,a)=>e({search:n().stringify({...s,[t]:a})}),reset:t=>{const a={...s};a[t]&&delete a[t],e({search:n().stringify({...a})})},clear:()=>e({search:n().stringify({})}),merge:t=>e({search:n().stringify({...s,...t})}),get:e=>s[e],setMultiple:t=>{const a={...s,...t};e({search:n().stringify(a)})},resetMultiple:t=>{const a={...s};t.forEach((e=>{a[e]&&delete a[e]})),e({search:n().stringify(a)})}}}},70097:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>w});var a=s(47313),l=s(2717),n=s(73431),i=s(24511),r=s(68668),o=s(83999),d=s(77181),u=s(30008),c=s(84427),m=s(33834),v=s(90954),p=s(49067),h=s(97890),f=s(20131),g=s(51282),x=s(68150),j=s(46417);const{Step:Z}=o.Z,w=()=>{var e;const{t:t}=(0,i.$)(),{activeMenu:s}=(0,l.v9)((e=>e.menu),l.wU),w=(0,m.K)(),y=Number((null===(e=w.values)||void 0===e?void 0:e.step)||0),[_,b]=(0,a.useState)(s.refetch),S=(0,l.I0)(),{uuid:k}=(0,h.UO)(),{languages:q}=(0,l.v9)((e=>e.formLang),l.wU),F=()=>{const e=y+1;w.set("step",e)},I=()=>{const e=y-1;w.set("step",e)},N=e=>({items:e,uid:e,url:e,name:e});function C(e){if(null===e||void 0===e||!e.translations)return{};const{translations:t}=e,s=q.map((e=>{var s,a,l;return{[`title[${e.locale}]`]:null===(s=t.find((t=>t.locale===e.locale)))||void 0===s?void 0:s.title,[`description[${e.locale}]`]:null===(a=t.find((t=>t.locale===e.locale)))||void 0===a?void 0:a.description,[`address[${e.locale}]`]:null===(l=t.find((t=>t.locale===e.locale)))||void 0===l?void 0:l.address}}));return Object.assign({},...s)}return(0,a.useEffect)((()=>{s.refetch&&k&&(e=>{b(!0),p.Z.getById(e).then((e=>{var a,l,n,i,r,o,d,u,c,m,p,h;const f={...e.data,...C(e.data),logo_img:N(e.data.logo_img),background_img:N(e.data.background_img),user:"",delivery_time_from:null===(a=e.data)||void 0===a?void 0:a.delivery_time.from,delivery_time_to:null===(l=e.data)||void 0===l?void 0:l.delivery_time.to,delivery_time_type:null===(n=e.data)||void 0===n?void 0:n.delivery_time.type,recommended:"recommended"===e.data.mark,categories:null===(i=e.data)||void 0===i?void 0:i.categories.map((e=>{var t;return{label:null===e||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title,value:e.id,key:e.id}})),tags:null===(r=e.data)||void 0===r?void 0:r.tags.map((e=>{var t;return{label:null===e||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title,value:e.id,key:e.id}})),price:(null===(o=e.data)||void 0===o?void 0:o.price)||0,price_per_km:(null===(d=e.data)||void 0===d?void 0:d.price_per_km)||0,min_amount:(null===(u=e.data)||void 0===u?void 0:u.min_amount)||0,tax:(null===(c=e.data)||void 0===c?void 0:c.tax)||0,percentage:(null===(m=e.data)||void 0===m?void 0:m.percentage)||0,emailStatuses:null===e||void 0===e||null===(p=e.data)||void 0===p||null===(h=p.email_statuses)||void 0===h?void 0:h.map((e=>({label:t(e),value:e,key:e})))};S((0,v.nc)({activeMenu:s,data:f}))})).finally((()=>{b(!1),S((0,v.A_)(s))}))})(k)}),[s.refetch,y]),(0,j.jsxs)(d.Z,{title:t("shop.clone"),extra:(0,j.jsx)(n.Z,{}),children:[(0,j.jsx)(o.Z,{current:y,onChange:e=>{S((0,v.nc)({activeMenu:s,data:{...s.data,step:e}})),w.set("step",e)},children:r.S.map((e=>(0,j.jsx)(Z,{title:t(e.title)},e.title)))}),_?(0,j.jsx)(g.Z,{}):(0,j.jsxs)("div",{className:"steps-content",children:["First-content"===r.S[y].content&&(0,j.jsx)(u.Z,{next:F,loading:_,user:!0}),"Second-content"===r.S[y].content&&(0,j.jsx)(x.Z,{next:F,prev:I}),"Third-content"===r.S[y].content&&(0,j.jsx)(f.Z,{next:F,prev:I}),"Four-content"===r.S[y].content&&(0,j.jsx)(c.Z,{next:F,prev:I})]})]})}},68668:(e,t,s)=>{"use strict";s.d(t,{S:()=>a});const a=[{title:"shop",content:"First-content"},{title:"map",content:"Second-content"},{title:"delivery",content:"Third-content"},{title:"user",content:"Four-content"}]},84427:(e,t,s)=>{"use strict";s.d(t,{Z:()=>w});var a=s(47313),l=s(10976),n=s(97890),i=s(2717),r=s(49986),o=s(23560),d=s(90954),u=s(24511),c=s(51282),m=s(68197),v=s(59624),p=s(66672),h=s(16124),f=s(45705),g=s(59491),x=s(46417);const j=e=>{let{prev:t,loadingBtn:s,error:a}=e;const{t:n}=(0,u.$)();return(0,x.jsxs)(m.Z,{gutter:12,children:[(0,x.jsx)(v.Z,{span:12,children:(0,x.jsx)(l.Z.Item,{label:n("firstname"),name:"firstname",help:null!==a&&void 0!==a&&a.firstname?a.firstname[0]:null,validateStatus:null!==a&&void 0!==a&&a.firstname?"error":"success",rules:[{required:!0,message:n("required")}],children:(0,x.jsx)(p.Z,{className:"w-100"})})}),(0,x.jsx)(v.Z,{span:12,children:(0,x.jsx)(l.Z.Item,{label:n("lastname"),name:"lastname",help:null!==a&&void 0!==a&&a.lastname?a.lastname[0]:null,validateStatus:null!==a&&void 0!==a&&a.lastname?"error":"success",rules:[{required:!0,message:n("required")}],children:(0,x.jsx)(p.Z,{className:"w-100"})})}),(0,x.jsx)(v.Z,{span:12,children:(0,x.jsx)(l.Z.Item,{label:n("phone"),name:"phone",help:null!==a&&void 0!==a&&a.phone?a.phone[0]:null,validateStatus:null!==a&&void 0!==a&&a.phone?"error":"success",rules:[{required:!0,message:n("required")}],children:(0,x.jsx)(h.Z,{min:0,className:"w-100"})})}),(0,x.jsx)(v.Z,{span:12,children:(0,x.jsx)(l.Z.Item,{label:n("email"),name:"email",help:null!==a&&void 0!==a&&a.email?a.email[0]:null,validateStatus:null!==a&&void 0!==a&&a.email?"error":"success",rules:[{required:!0,message:n("required")}],children:(0,x.jsx)(p.Z,{type:"email",className:"w-100"})})}),(0,x.jsx)(v.Z,{span:12,children:(0,x.jsx)(l.Z.Item,{label:n("password"),name:"password",help:null!==a&&void 0!==a&&a.password?a.password[0]:null,validateStatus:null!==a&&void 0!==a&&a.password?"error":"success",rules:[{required:!1,message:n("required")},{type:"string",min:6,message:n("min.6.letters")}],normalize:e=>""===(null===e||void 0===e?void 0:e.trim())?null===e||void 0===e?void 0:e.trim():e,children:(0,x.jsx)(p.Z.Password,{type:"password",className:"w-100",autoComplete:"off"})})}),(0,x.jsx)(v.Z,{span:12,children:(0,x.jsx)(l.Z.Item,{label:n("password.confirmation"),help:null!==a&&void 0!==a&&a.password_confirmation?a.password_confirmation[0]:null,validateStatus:null!==a&&void 0!==a&&a.password_confirmation?"error":"success",name:"password_confirmation",dependencies:["password"],hasFeedback:!0,rules:[{required:!1,message:n("required")},e=>{let{getFieldValue:t}=e;return{validator:(e,s)=>s&&t("password")!==s?Promise.reject(n("passwords.do.not.match")):Promise.resolve()}}],normalize:e=>""===(null===e||void 0===e?void 0:e.trim())?null===e||void 0===e?void 0:e.trim():e,children:(0,x.jsx)(p.Z.Password,{type:"password",className:"w-100",autoComplete:"off"})})}),(0,x.jsx)(v.Z,{span:24,children:(0,x.jsxs)(f.Z,{children:[(0,x.jsx)(g.Z,{type:"primary",htmlType:"submit",loading:s,children:n("save")}),(0,x.jsx)(g.Z,{htmlType:"submit",onClick:()=>t(),children:n("prev")})]})})]})};var Z=s(44528);function w(e){let{prev:t}=e;const{t:s}=(0,u.$)(),{activeMenu:m}=(0,i.v9)((e=>e.menu),i.wU),v=(0,i.I0)(),p=(0,n.s0)(),[h,f]=(0,a.useState)(null),[g,w]=(0,a.useState)(!1),[y,_]=(0,a.useState)(!1),[b]=l.Z.useForm();return(0,a.useEffect)((()=>{var e,t,s;return(s=null===m||void 0===m||null===(e=m.data)||void 0===e||null===(t=e.seller)||void 0===t?void 0:t.uuid)&&(_(!0),r.Z.getById(s).then((e=>{const t=e.data;b.setFieldsValue({firstname:t.firstname,lastname:t.lastname,email:t.email,phone:t.phone,password_confirmation:t.password_confirmation,password:t.password})})).finally((()=>_(!1)))),()=>{_(!1),w(!1)}}),[]),(0,x.jsx)(x.Fragment,{children:y?(0,x.jsx)(c.Z,{}):(0,x.jsx)(l.Z,{form:b,layout:"vertical",initialValues:{...m.data},onFinish:e=>{var t,a;w(!0);const l={firstname:e.firstname,lastname:e.lastname,email:e.email,phone:e.phone,password_confirmation:e.password_confirmation,password:e.password},n="shops";r.Z.update(null===m||void 0===m||null===(t=m.data)||void 0===t||null===(a=t.seller)||void 0===a?void 0:a.uuid,l).then((()=>{o.Am.success(s("successfully.updated")),p("/shops"),v((0,Z.N)({perPage:10,page:1})),v((0,d.ph)({...m,nextUrl:n}))})).catch((e=>f(e.response.data.params))).finally((()=>w(!1)))},className:"py-4",children:(0,x.jsx)(j,{error:h,loadingBtn:g})})})}},24654:()=>{}}]);