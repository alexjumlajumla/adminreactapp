"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[8874],{38874:(e,t,a)=>{a.r(t),a.d(t,{default:()=>y});var l=a(47313),i=a(10976),d=a(77181),n=a(72652),s=a(23560),c=a(97890),o=a(73431),r=a(2717),u=a(90954),v=a(57481),f=a(24511),p=a(85191),g=a(75336),h=a(16747),m=a(46417);const y=()=>{const{t:e}=(0,f.$)(),t=(0,c.s0)(),a=(0,r.I0)(),{activeMenu:y}=(0,r.v9)((e=>e.menu),r.wU),[b,Z]=(0,l.useState)(!1),[x]=i.Z.useForm(),{id:j}=(0,c.UO)(),{languages:_}=(0,r.v9)((e=>e.formLang),r.wU);function $(e){if(!e)return{};const{translations:t}=e,a=_.map((e=>{var a,l,i;return{[`title[${e.locale}]`]:null===(a=t.find((t=>t.locale===e.locale)))||void 0===a?void 0:a.title,[`description[${e.locale}]`]:null===(l=t.find((t=>t.locale===e.locale)))||void 0===l?void 0:l.description,[`address[${e.locale}]`]:null===(i=t.find((t=>t.locale===e.locale)))||void 0===i?void 0:i.address}}));return Object.assign({},...a)}(0,l.useEffect)((()=>()=>{const e=x.getFieldsValue(!0);a((0,u.nc)({activeMenu:y,data:e}))}),[]);return(0,l.useEffect)((()=>{var e;y.refetch&&(e=j,Z(!0),v.Z.getById(e).then((e=>{var t,l,i,d,n;let s=e.data;const c={...s,...$(s),category_id:{label:null===s||void 0===s||null===(t=s.category)||void 0===t||null===(l=t.translation)||void 0===l?void 0:l.title,value:null===s||void 0===s||null===(i=s.category)||void 0===i?void 0:i.id},active:!(null===e||void 0===e||null===(d=e.data)||void 0===d||!d.active)&&(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.active)};x.setFieldsValue(c),a((0,u.nc)({activeMenu:y,data:c}))})).finally((()=>{Z(!1),a((0,u.A_)(y))})))}),[y.refetch]),(0,m.jsx)(d.Z,{title:e("edit.career"),extra:(0,m.jsx)(o.Z,{}),children:b?(0,m.jsx)("div",{className:"d-flex justify-content-center align-items-center py-5",children:(0,m.jsx)(n.Z,{size:"large",className:"mt-5 pt-5"})}):(0,m.jsx)(h.Z,{form:x,handleSubmit:l=>{const i={...l,active:Number(l.active),category_id:l.category_id.value,type:l.type,title:(0,g.Z)(_,l,"title"),description:(0,g.Z)(_,l,"description"),address:(0,g.Z)(_,l,"address")},d="catalog/career";return v.Z.update(j,i).then((()=>{s.Am.success(e("successfully.updated")),(0,r.dC)((()=>{a((0,u.ph)({...y,nextUrl:d})),a((0,p.a)({}))})),t(`/${d}`)})).catch((e=>console.error(e.response.data.params)))}})})}}}]);