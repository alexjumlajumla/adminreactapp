"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[9096],{75336:(e,t,i)=>{function l(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"title";const l=null===e||void 0===e?void 0:e.map((e=>({[null===e||void 0===e?void 0:e.locale]:t[`${i}[${null===e||void 0===e?void 0:e.locale}]`]?t[`${i}[${null===e||void 0===e?void 0:e.locale}]`]:void 0})));return Object.assign({},...l)}i.d(t,{Z:()=>l})},9096:(e,t,i)=>{i.r(t),i.d(t,{default:()=>Z});var l=i(47313),n=i(97890),s=i(23560),o=i(10976),c=i(77181),a=i(72652),d=i(2717),u=i(90954),r=i(80337),f=i(56078),v=i(73431),h=i(75336),p=i(24511),g=i(6604),m=i(46417);function Z(){const{t:e}=(0,p.$)(),{activeMenu:t}=(0,d.v9)((e=>e.menu),d.wU),{languages:i}=(0,d.v9)((e=>e.formLang),d.wU),Z=(0,d.I0)(),[b]=o.Z.useForm(),$=(0,n.s0)(),{uuid:j}=(0,n.UO)(),[x,_]=(0,l.useState)(!1);(0,l.useEffect)((()=>()=>{const e=b.getFieldsValue(!0);Z((0,u.nc)({activeMenu:t,data:e}))}),[]);function y(e){if(!e)return{};const{translations:t}=e,l=i.map((e=>{var i,l,n;return{[`title[${e.locale}]`]:null===(i=t.find((t=>t.locale===e.locale)))||void 0===i?void 0:i.title,[`description[${e.locale}]`]:null===(l=t.find((t=>t.locale===e.locale)))||void 0===l?void 0:l.description,[`short_desc[${e.locale}]`]:null===(n=t.find((t=>t.locale===e.locale)))||void 0===n?void 0:n.short_desc}}));return Object.assign({},...l)}return(0,l.useEffect)((()=>{t.refetch&&(e=>{_(!0),f.Z.getById(e).then((e=>{let t=e.data;b.setFieldsValue({...t,...y(t)})})).finally((()=>{_(!1),Z((0,u.A_)(t))}))})(j)}),[t.refetch]),(0,m.jsx)(c.Z,{title:e("edit.notification"),extra:(0,m.jsx)(v.Z,{}),children:x?(0,m.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,m.jsx)(a.Z,{size:"large",className:"py-5"})}):(0,m.jsx)(g.Z,{form:b,handleSubmit:l=>{const n={type:"notification",title:(0,h.Z)(i,l),description:(0,h.Z)(i,l,"description"),short_desc:(0,h.Z)(i,l,"short_desc")},o="notifications";return f.Z.update(j,n).then((()=>{s.Am.success(e("successfully.updated")),(0,d.dC)((()=>{Z((0,u.ph)({...t,nextUrl:o})),Z((0,r.n)({}))})),$(`/${o}`)}))}})})}}}]);