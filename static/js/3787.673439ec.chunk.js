"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[3787],{83787:(e,l,i)=>{i.r(l),i.d(l,{default:()=>y});var n=i(47313),t=i(83999),d=i(77181),r=i(73431),o=i(2717),s=i(24511),a=i(8163),u=i(16848),c=i(88708),v=i(44902),p=i(89904),x=i(32937),m=i(46417);const{Step:h}=t.Z,y=()=>{var e;const{t:l}=(0,s.$)(),{activeMenu:i}=(0,o.v9)((e=>e.menu),o.wU),[y,j]=(0,n.useState)((null===(e=i.data)||void 0===e?void 0:e.step)||0),Z=()=>{j(y+1)},g=()=>{j(y-1)};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(d.Z,{title:l("add.food"),extra:(0,m.jsx)(r.Z,{}),children:(0,m.jsx)(t.Z,{current:y,children:u.S.map((e=>(0,m.jsx)(h,{title:l(e.title)},e.title)))})}),(0,m.jsxs)("div",{children:["First-content"===u.S[y].content&&(0,m.jsx)(x.Z,{next:Z}),"Second-content"===u.S[y].content&&(0,m.jsx)(p.Z,{next:Z,prev:g}),"Third-content"===u.S[y].content&&(0,m.jsx)(a.Z,{next:Z,prev:g,userRole:"seller"}),"Fourth-content"===u.S[y].content&&(0,m.jsx)(c.Z,{next:Z,prev:g}),"Finish-content"===u.S[y].content&&(0,m.jsx)(v.Z,{prev:g})]})]})}},88708:(e,l,i)=>{i.d(l,{Z:()=>q});var n=i(2717),t=i(47313),d=i(49873),r=i(9274),o=i(77181),s=i(45705),a=i(59491),u=i(24511),c=i(18333),v=i(23560),p=i(97890),x=i(90954),m=i(78508),h=i(12019),y=i(47515),j=i(55940),Z=i(46417);const g=e=>{let{properties:l,editSelectedProperty:i,deleteProperty:n,loading:t=!1}=e;const{t:d}=(0,u.$)(),r=[{title:d("key"),dataIndex:"key",key:"key"},{title:d("value"),dataIndex:"value",key:"value"},{title:d("options"),key:"options",render:(e,l)=>(0,Z.jsxs)(s.Z,{children:[(0,Z.jsx)(a.Z,{type:"primary",icon:(0,Z.jsx)(h.Z,{}),onClick:()=>i(l)}),(0,Z.jsx)(j.Z,{type:"primary",danger:!0,icon:(0,Z.jsx)(y.Z,{}),onClick:()=>n(null===l||void 0===l?void 0:l.id)})]})}];return(0,Z.jsx)(o.Z,{loading:t,children:(0,Z.jsx)(m.Z,{dataSource:l,columns:r,pagination:!1})})};var k=i(10976),f=i(68197),b=i(59624),S=i(66672);const $=e=>{let{addNewProperty:l,loading:i=!1}=e;const{t:t}=(0,u.$)(),[r]=k.Z.useForm(),{defaultLang:s,languages:c}=(0,n.v9)((e=>e.formLang),n.wU);return(0,Z.jsx)(o.Z,{loading:i,children:(0,Z.jsx)(k.Z,{form:r,layout:"vertical",onFinish:e=>{const i={key:null===e||void 0===e?void 0:e[`key[${s}]`],value:null===e||void 0===e?void 0:e[`value[${s}]`]},n=c.map((l=>({id:(0,d.R)(),locale:null===l||void 0===l?void 0:l.locale,key:(null===e||void 0===e?void 0:e[`key[${null===l||void 0===l?void 0:l.locale}]`])||(null===i||void 0===i?void 0:i.key),value:(null===e||void 0===e?void 0:e[`value[${l.locale}]`])||(null===i||void 0===i?void 0:i.value)})));l(n),r.resetFields()},children:(0,Z.jsxs)(f.Z,{gutter:12,children:[(0,Z.jsx)(b.Z,{span:8,children:c.map((e=>(0,Z.jsx)(k.Z.Item,{label:t("key"),name:`key[${(null===e||void 0===e?void 0:e.locale)||"en"}]`,hidden:(null===e||void 0===e?void 0:e.locale)!==s,rules:[{required:(null===e||void 0===e?void 0:e.locale)===s,message:t("required")},{type:"string",min:2,max:200,message:t("min.2.max.200.chars")}],children:(0,Z.jsx)(S.Z,{})},null===e||void 0===e?void 0:e.locale)))}),(0,Z.jsx)(b.Z,{span:8,children:c.map((e=>(0,Z.jsx)(k.Z.Item,{label:t("value"),name:`value[${(null===e||void 0===e?void 0:e.locale)||"en"}]`,hidden:(null===e||void 0===e?void 0:e.locale)!==s,rules:[{required:(null===e||void 0===e?void 0:e.locale)===s,message:t("required")},{type:"string",min:2,max:200,message:t("min.2.max.200.chars")}],children:(0,Z.jsx)(S.Z,{})},null===e||void 0===e?void 0:e.locale)))}),(0,Z.jsx)(b.Z,{children:(0,Z.jsx)(k.Z.Item,{label:" ",children:(0,Z.jsx)(a.Z,{type:"primary",htmlType:"submit",children:t("add")})})})]})})})},F=e=>{let{property:l,editProperty:i}=e;const{t:n}=(0,u.$)(),[t]=k.Z.useForm();return(0,Z.jsx)(o.Z,{children:(0,Z.jsx)(k.Z,{form:t,layout:"vertical",onFinish:e=>{i({...l,...e})},initialValues:{key:null===l||void 0===l?void 0:l.key,value:null===l||void 0===l?void 0:l.value},children:(0,Z.jsxs)(f.Z,{gutter:12,children:[(0,Z.jsx)(b.Z,{span:24,children:(0,Z.jsx)(k.Z.Item,{label:n("key"),name:"key",rules:[{required:!0,message:n("required")},{type:"string",min:2,max:200,message:n("min.2.max.200.chars")}],children:(0,Z.jsx)(S.Z,{})})}),(0,Z.jsx)(b.Z,{span:24,children:(0,Z.jsx)(k.Z.Item,{label:n("value"),name:"value",rules:[{required:!0,message:n("required")},{type:"string",min:2,max:200,message:n("min.2.max.200.chars")}],children:(0,Z.jsx)(S.Z,{})})}),(0,Z.jsx)(b.Z,{span:24,children:(0,Z.jsx)(a.Z,{type:"primary",htmlType:"submit",className:"w-100",children:n("edit")})})]})})})},q=e=>{var l;let{prev:i,next:m,isRequest:h=!1}=e;const{t:y}=(0,u.$)(),{uuid:j}=(0,p.UO)(),k=(0,n.I0)(),{defaultLang:f}=(0,n.v9)((e=>e.formLang),n.wU),{activeMenu:b}=(0,n.v9)((e=>e.menu),n.wU),[S,q]=(0,t.useState)(h&&(null===(l=b.data)||void 0===l?void 0:l.properties)||[]),[w,I]=(0,t.useState)(null),[P,C]=(0,t.useState)(!1),[U,L]=(0,t.useState)(!1);(0,t.useEffect)((()=>{h||R(j)}),[]);const R=e=>{C(!0),c.Z.getById(e).then((e=>{var l,i;q(null===e||void 0===e||null===(l=e.data)||void 0===l||null===(i=l.properties)||void 0===i?void 0:i.map((e=>({...e,id:(0,d.R)()}))))})).finally((()=>{C(!1)}))};return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)($,{loading:P,addNewProperty:e=>{q([...S,...e])}}),(0,Z.jsx)(g,{loading:P,properties:null===S||void 0===S?void 0:S.filter((e=>(null===e||void 0===e?void 0:e.locale)===f)),editSelectedProperty:I,deleteProperty:e=>{r.Z.confirm({title:y("are.you.sure?"),okText:y("yes"),onOk:()=>{q((l=>l.filter((l=>l.id!==e))))}})}}),(0,Z.jsx)(o.Z,{children:(0,Z.jsxs)(s.Z,{children:[(0,Z.jsx)(a.Z,{onClick:i,disabled:P,children:y("prev")}),(0,Z.jsx)(a.Z,{type:"primary",onClick:()=>{const e={key:[],value:[]};if(null===S||void 0===S||S.map((l=>{e.key.push({[null===l||void 0===l?void 0:l.locale]:null===l||void 0===l?void 0:l.key}),e.value.push({[null===l||void 0===l?void 0:l.locale]:null===l||void 0===l?void 0:l.value})})),h)return k((0,x.nc)({activeMenu:b,data:{...b.data,properties:S,props:e}})),void m();L(!0),c.Z.properties(j,e).then((()=>{v.Am.success(y("successfully.updated")),m()})).finally((()=>{L(!1)}))},disabled:P,loading:U,children:y("next")})]})}),!!w&&(0,Z.jsx)(r.Z,{visible:!!w,onCancel:()=>{I(null)},footer:!1,children:(0,Z.jsx)(F,{property:w,editProperty:e=>{q((l=>l.map((l=>l.id===e.id?e:l)))),I(null)}})})]})}}}]);