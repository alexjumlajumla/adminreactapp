"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[3055],{92855:(e,l,i)=>{i.d(l,{Z:()=>d});var n=i(26824),s=i(46417);const d=e=>{let{image:l,row:i,size:d=100}=e;return(0,s.jsx)(n.Z,{src:l||"https://via.placeholder.com/150",alt:"img_gallery",width:d,height:d,className:"rounded border",preview:!0,placeholder:!l,style:{objectFit:"contain"}},l+(null===i||void 0===i?void 0:i.id))}},4014:(e,l,i)=>{function n(e){var l,i;let n=null===e||void 0===e?void 0:e.slice(0,1),s=null===e||void 0===e?void 0:e.lastIndexOf("@"),d=null===e||void 0===e?void 0:e.slice(1,s-1);d=null===(l=d)||void 0===l?void 0:l.replace(/./g,"*");let o=null===e||void 0===e?void 0:e.slice(s-1,e.length);return null===n||void 0===n||null===(i=n.concat(d))||void 0===i?void 0:i.concat(o)}i.d(l,{Z:()=>n})},89281:(e,l,i)=>{i.d(l,{h:()=>r});var n=i(47313),s=i(12279),d=i.n(s),o=i(74294),t=i(72652),a=i(46417);const r=e=>{let{fetchOptions:l,debounceTimeout:i=400,onClear:s,...r}=e;const[c,u]=(0,n.useState)(!1),[v,x]=(0,n.useState)([]),m=(0,n.useMemo)((()=>d()((e=>{x([]),u(!0),l(e).then((e=>{x(e),u(!1)}))}),i)),[l,i]);return(0,a.jsx)(o.Z,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:m,onClear:()=>{m(""),s&&s()},notFoundContent:c?(0,a.jsx)(t.Z,{size:"small"}):"no results",...r,options:v,onFocus:()=>{m("")}})}},98501:(e,l,i)=>{i.d(l,{CM:()=>d,Km:()=>r,OT:()=>t,Q1:()=>n,Sp:()=>a,a5:()=>c,gN:()=>s,qO:()=>o});const n={new:[1,2,3,4,5],accepted:[1,2,3,4,5],ready:[1,2,3,4,5],on_a_way:[1,2,3,4,5],delivered:[1,2,3,4,5],canceled:[1,2,3,4,5],cooking:[1,2,3,4,5]},s=["progress","paid","canceled","rejected","refund"],d=["before","after"],o=["blue","red","gold","volcano","cyan","lime"],t=["new","accepted","cooking","ready","ended"],a=["new","accepted","cooking","ready","on_a_way","delivered","canceled"],r=["dine_in","delivery","pickup"],c=["male","female"]},17649:(e,l,i)=>{i.d(l,{Z:()=>n});i(97421);function n(e){if(null===e||void 0===e||!e.location)return{lat:47.4143302506288,lng:8.532059477976883};const l=e.location.split(", ");return{lat:Number(null===l||void 0===l?void 0:l[0]),lng:Number(null===l||void 0===l?void 0:l[1])}}},84017:(e,l,i)=>{i.d(l,{Z:()=>s});var n=i(67968);function s(){var e,l;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1?arguments[1]:void 0,d=arguments.length>2?arguments[2]:void 0;const o=null===(e=n.h.getState())||void 0===e||null===(l=e.currency)||void 0===l?void 0:l.defaultCurrency,t=Number(i).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),a=s||(null===o||void 0===o?void 0:o.symbol)||"$",r=d||(null===o||void 0===o?void 0:o.position)||"before";return"after"===r?`${t} ${a}`:`${a} ${t}`}},43055:(e,l,i)=>{i.r(l),i.d(l,{default:()=>J});var n=i(47313),s=i(45705),d=i(66204),o=i(77181),t=i(59491),a=i(68197),r=i(59624),c=i(56140),u=i(14133),v=i(83999),x=i(72652),m=i(78508),h=i(26824),j=i(45334),p=i(41068),Z=i(9274),y=i(12019),g=i(89720),f=i(29466),b=i(97890),N=i(7370),_=i(2717),k=i(90954),w=i(7920),C=i(24077),I=i(24511),S=i(84017),Y=i(73270),D=i(94443),$=i(80355),q=i(51473),M=i(97421),F=i(59713),z=i(59392),T=i(70816),A=i.n(T),B=i(12258),H=i(40197),U=i(79492),V=i(4014),O=i(92855),L=i(10976),G=i(74294),P=i(46155),Q=i(98501),E=i(46417);const K=e=>{let{orderDetailId:l,status:i,handleCancel:d}=e;const{t:o}=(0,I.$)(),[c]=L.Z.useForm(),u=(0,_.I0)(),{activeMenu:v}=(0,_.v9)((e=>e.menu),_.wU),[x,m]=(0,n.useState)(!1),h=Q.OT.map((e=>({label:o(e),value:e,key:e})));return(0,E.jsxs)(L.Z,{layout:"vertical",form:c,initialValues:{status:h.find((e=>(null===e||void 0===e?void 0:e.value)===i))},onFinish:e=>{var i;const n={status:null===e||void 0===e||null===(i=e.status)||void 0===i?void 0:i.value};m(!0),N.Z.updateOrderDetailStatus(l,n).then((()=>{d(),u((0,k.xo)(v))})).finally((()=>{m(!1)}))},children:[(0,E.jsx)(a.Z,{gutter:12,children:(0,E.jsx)(r.Z,{span:24,children:(0,E.jsx)(L.Z.Item,{name:"status",label:o("status"),rules:[{required:!0,message:o("required")}],children:(0,E.jsx)(G.Z,{labelInValue:!0,options:h})})})}),(0,E.jsx)(P.Z,{}),(0,E.jsxs)(s.Z,{children:[(0,E.jsx)(t.Z,{onClick:d,children:o("cancel")}),(0,E.jsx)(t.Z,{type:"primary",htmlType:"submit",loading:x,children:o("save")})]})]})};var R=i(22103);function J(){var e,l,i,T,L,G,P,Q,J,W,X,ee,le,ie,ne,se,de,oe,te,ae,re,ce,ue,ve,xe,me,he,je,pe,Ze,ye,ge,fe,be,Ne,_e,ke,we,Ce,Ie;const{activeMenu:Se}=(0,_.v9)((e=>e.menu),_.wU),{defaultCurrency:Ye}=(0,_.v9)((e=>e.currency),_.wU),De=Se.data,{t:$e}=(0,I.$)(),{id:qe}=(0,b.UO)(),Me=(0,_.I0)(),Fe=(0,b.s0)(),ze=(0,n.useRef)(),Te=(0,n.useRef)(),{isDemo:Ae}=(0,U.Z)(),[Be,He]=(0,n.useState)(null),[Ue,Ve]=(0,n.useState)(!1),[Oe,Le]=(0,n.useState)(null),[Ge,Pe]=(0,n.useState)(null),[Qe,Ee]=(0,n.useState)(null),[Ke,Re]=(0,n.useState)(null),{statusList:Je}=(0,_.v9)((e=>e.orderStatus),_.wU),We=[{title:$e("id"),dataIndex:"id",key:"id",render:(e,l)=>{var i;return null===(i=l.stock)||void 0===i?void 0:i.id}},{title:$e("product.name"),dataIndex:"product",key:"product",render:(e,l)=>{var i,n,o,t,a,r;return(0,E.jsxs)(s.Z,{direction:"vertical",className:"relative",children:[null===l||void 0===l||null===(i=l.stock)||void 0===i||null===(n=i.product)||void 0===n||null===(o=n.translation)||void 0===o?void 0:o.title,null===l||void 0===l||null===(t=l.stock)||void 0===t||null===(a=t.extras)||void 0===a?void 0:a.map((e=>(0,E.jsx)(d.Z,{children:null===e||void 0===e?void 0:e.value},null===e||void 0===e?void 0:e.id))),null===(r=l.addons)||void 0===r?void 0:r.map((e=>{var l,i,n;return(0,E.jsxs)(d.Z,{children:[null===(l=e.stock)||void 0===l||null===(i=l.product)||void 0===i||null===(n=i.translation)||void 0===n?void 0:n.title," x ",e.quantity]},e.id)}))]})}},{title:$e("image"),dataIndex:"stock",key:"stock",render:(e,l)=>{var i;return(0,E.jsx)(O.Z,{image:null===e||void 0===e||null===(i=e.product)||void 0===i?void 0:i.img,row:l})}},{title:$e("kitchen"),dataIndex:"kitchen",key:"kitchen",render:e=>{var l;return(null===e||void 0===e||null===(l=e.translation)||void 0===l?void 0:l.title)||$e("N/A")}},{title:$e("status"),dataIndex:"status",key:"status",is_show:!0,render:(e,l)=>(0,E.jsxs)(s.Z,{children:["new"===e?(0,E.jsx)(d.Z,{color:"blue",children:$e(e)}):"ended"===e?(0,E.jsx)(d.Z,{color:"red",children:$e(e)}):"cooking"===e?(0,E.jsx)(d.Z,{color:"yellow",children:$e(e)}):(0,E.jsx)(d.Z,{color:"green",children:$e(e)}),(0,E.jsx)(y.Z,{onClick:()=>Ee(l)})]})},{title:$e("price"),dataIndex:"origin_price",key:"origin_price",render:e=>(0,S.Z)(null!==e&&void 0!==e?e:0,null===Ye||void 0===Ye?void 0:Ye.symbol,null===Ye||void 0===Ye?void 0:Ye.position)},{title:$e("quantity"),dataIndex:"quantity",key:"quantity",render:(e,l)=>{var i,n,s,d,o,t,a,r;return(0,E.jsxs)("span",{children:[(null!==(i=null===l||void 0===l?void 0:l.quantity)&&void 0!==i?i:1)*(null!==(n=null===l||void 0===l||null===(s=l.stock)||void 0===s||null===(d=s.product)||void 0===d?void 0:d.interval)&&void 0!==n?n:1),null===l||void 0===l||null===(o=l.stock)||void 0===o||null===(t=o.product)||void 0===t||null===(a=t.unit)||void 0===a||null===(r=a.translation)||void 0===r?void 0:r.title]})}},{title:$e("discount"),dataIndex:"discount",key:"discount",render:function(){var e;let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1?arguments[1]:void 0;return(0,S.Z)((null!==l&&void 0!==l?l:0)/(null!==(e=null===i||void 0===i?void 0:i.quantity)&&void 0!==e?e:1),null===Ye||void 0===Ye?void 0:Ye.symbol,null===Ye||void 0===Ye?void 0:Ye.position)}},{title:$e("tax"),dataIndex:"tax",key:"tax",render:(e,l)=>{var i;return(0,S.Z)((null!==e&&void 0!==e?e:0)/(null!==(i=null===l||void 0===l?void 0:l.quantity)&&void 0!==i?i:1),null===Ye||void 0===Ye?void 0:Ye.symbol,null===Ye||void 0===Ye?void 0:Ye.position)}},{title:$e("total.price"),dataIndex:"total_price",key:"total_price",render:(e,l)=>{var i;const n=(null!==e&&void 0!==e?e:0)+(null===l||void 0===l||null===(i=l.addons)||void 0===i?void 0:i.reduce(((e,l)=>{var i;return e+(null!==(i=null===l||void 0===l?void 0:l.total_price)&&void 0!==i?i:0)}),0));return(0,S.Z)(n,null===Ye||void 0===Ye?void 0:Ye.symbol,null===Ye||void 0===Ye?void 0:Ye.position)}},{title:$e("payment.status"),dataIndex:"transaction_status",key:"transaction_status",is_show:!0,render:e=>(0,E.jsx)(d.Z,{color:"paid"===e?"green":"progress"===e?"yellow":"red",children:$e(e||"N/A")})},{title:$e("note"),dataIndex:"note",key:"note",render:e=>e||$e("N/A")}],Xe=[{title:$e("type"),key:"payment_type",render:e=>{var l;return(0,E.jsx)("span",{children:$e((null===(l=e.payment_system)||void 0===l?void 0:l.tag)||"N/A")})}},{title:$e("amount"),key:"amount",render:e=>(0,E.jsx)("span",{children:(0,S.Z)(e.price,null===Ye||void 0===Ye?void 0:Ye.symbol)})},{title:$e("status"),key:"status",render:e=>(0,E.jsxs)("span",{children:[(0,E.jsx)(d.Z,{children:$e(e.status||"N/A")}),!!e&&"split"!==e.status&&(0,E.jsx)(y.Z,{onClick:()=>Re(e)})]})}],el=[{title:$e("date"),dataIndex:"date",key:"date",render:(e,l)=>null!==l&&void 0!==l&&l.date?A()(null===l||void 0===l?void 0:l.date).format("YYYY-MM-DD HH:mm"):$e("N/A")},{title:$e("document"),dataIndex:"document",key:"document"},{title:$e("number"),dataIndex:"number",key:"number"},{title:$e("total.price"),dataIndex:"price",key:"price"}],ll=[{price:(0,S.Z)(null===De||void 0===De?void 0:De.total_price,null===Ye||void 0===Ye?void 0:Ye.symbol,null===Ye||void 0===Ye?void 0:Ye.position),number:(0,E.jsxs)(f.rU,{to:`/orders/generate-invoice/${null===De||void 0===De?void 0:De.id}`,children:["#",null===De||void 0===De?void 0:De.id]}),document:$e("invoice"),date:A()(null===De||void 0===De||null===(e=De.transaction)||void 0===e?void 0:e.created_at).format("YYYY-MM-DD HH:mm")},{price:"-",number:(0,E.jsxs)(f.rU,{to:`/orders/generate-invoice/${null===De||void 0===De?void 0:De.id}`,children:["#",null===De||void 0===De?void 0:De.id]}),document:$e("delivery.reciept"),date:A()(null===De||void 0===De||null===(l=De.transaction)||void 0===l?void 0:l.created_at).format("YYYY-MM-DD HH:mm")}],il=()=>{Le(null),Pe(null),He(null)};(0,n.useEffect)((()=>{Se.refetch&&(Ve(!0),N.Z.getById(qe).then((e=>{let{data:l}=e;Me((0,k.nc)({activeMenu:Se,data:l}))})).finally((()=>{Ve(!1),Me((0,k.A_)(Se))})),0===Je.length&&Me((0,H.dX)({})))}),[Se.refetch]);return(0,E.jsxs)("div",{className:"order_details",children:[(0,E.jsx)(o.Z,{className:"order-details-info",title:(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(q.Qyq,{className:"mr-2 icon"}),`${$e("order")} ${null!==De&&void 0!==De&&De.id?`#${null===De||void 0===De?void 0:De.id} `:""}`," ",$e("from.order")," ",null===De||void 0===De||null===(i=De.user)||void 0===i?void 0:i.firstname," ",(null===De||void 0===De||null===(T=De.user)||void 0===T?void 0:T.lastname)||""]}),extra:"delivered"!==(null===De||void 0===De?void 0:De.status)&&"canceled"!==(null===De||void 0===De?void 0:De.status)?(0,E.jsxs)(s.Z,{children:["delivered"!==(null===De||void 0===De?void 0:De.status)&&"canceled"!==(null===De||void 0===De?void 0:De.status)?(0,E.jsx)(t.Z,{type:"primary",onClick:()=>Le(De),children:$e("change.status")}):null,(0,E.jsx)(t.Z,{type:"primary",icon:(0,E.jsx)(y.Z,{}),onClick:()=>{Me((0,Y.bn)()),Me((0,k.bL)({url:`order/${qe}`,id:"order_edit",name:$e("edit.order")})),Fe(`/order/${qe}`)},children:$e("edit")})]}):""}),(0,E.jsxs)(a.Z,{gutter:24,children:[(0,E.jsx)(r.Z,{span:24,children:(0,E.jsx)(o.Z,{children:(0,E.jsxs)(s.Z,{className:"justify-content-between w-100",children:[(0,E.jsxs)(s.Z,{className:"align-items-start",children:[(0,E.jsx)(g.Z,{className:"order-card-icon"}),(0,E.jsxs)("div",{className:"d-flex flex-column",children:[(0,E.jsx)(c.Z.Text,{children:$e("delivery.date")}),Ue?(0,E.jsx)(u.Z.Button,{size:16}):(0,E.jsxs)(c.Z.Text,{className:"order-card-title",children:[null===De||void 0===De?void 0:De.delivery_date," ",null===De||void 0===De?void 0:De.delivery_time]})]})]}),(0,E.jsxs)(s.Z,{className:"align-items-start",onClick:()=>Te.current.scrollIntoView({behavior:"smooth"}),children:[(0,E.jsx)(z.iFN,{className:"order-card-icon"}),(0,E.jsxs)("div",{className:"d-flex flex-column",children:[(0,E.jsx)(c.Z.Text,{children:$e("total.price")}),Ue?(0,E.jsx)(u.Z.Button,{size:16,loading:Ue}):(0,E.jsx)(c.Z.Text,{className:"order-card-title",children:(0,S.Z)(null===De||void 0===De?void 0:De.total_price,null===Ye||void 0===Ye?void 0:Ye.symbol,null===Ye||void 0===Ye?void 0:Ye.position)})]})]}),(0,E.jsxs)(s.Z,{className:"align-items-start",children:[(0,E.jsx)(z.Dij,{className:"order-card-icon"}),(0,E.jsxs)("div",{className:"d-flex flex-column",children:[(0,E.jsx)(c.Z.Text,{children:$e("messages")}),Ue?(0,E.jsx)(u.Z.Button,{size:16}):(0,E.jsx)(c.Z.Text,{className:"order-card-title",children:null!==De&&void 0!==De&&De.review?1:0})]})]}),(0,E.jsxs)(s.Z,{className:"align-items-start",onClick:()=>ze.current.scrollIntoView({behavior:"smooth"}),children:[(0,E.jsx)(q.Qyq,{className:"order-card-icon"}),(0,E.jsxs)("div",{className:"d-flex flex-column",children:[(0,E.jsx)(c.Z.Text,{children:$e("products")}),Ue?(0,E.jsx)(u.Z.Button,{size:16}):(0,E.jsx)(c.Z.Text,{className:"order-card-title",children:null===De||void 0===De||null===(L=De.details)||void 0===L?void 0:L.reduce(((e,l)=>e+l.quantity),0)})]})]})]})})}),"canceled"!==(null===De||void 0===De?void 0:De.status)&&(0,E.jsx)(r.Z,{span:24,children:(0,E.jsx)(o.Z,{children:(0,E.jsx)(v.Z,{current:null===Je||void 0===Je?void 0:Je.findIndex((e=>e.name===(null===De||void 0===De?void 0:De.status))),children:null===Je||void 0===Je?void 0:Je.slice(0,-1).map((e=>(0,E.jsx)(v.Z.Step,{title:$e(e.name)},e.id)))})})}),(0,E.jsxs)(r.Z,{span:16,children:[(0,E.jsx)(x.Z,{spinning:Ue,children:(0,E.jsx)(o.Z,{style:{minHeight:"200px"},children:(0,E.jsxs)(a.Z,{hidden:Ue,className:"mb-3 order_detail",children:[(0,E.jsxs)(r.Z,{span:12,children:[(0,E.jsxs)("div",{children:[$e("created.date.&.time"),":",(0,E.jsxs)("span",{className:"ml-2",children:[(0,E.jsx)(F.yoA,{className:"mr-1"})," ",A()(null===De||void 0===De?void 0:De.created_at).format("YYYY-MM-DD HH:mm")," "]})]}),(0,E.jsx)("br",{}),(0,E.jsxs)("div",{children:[$e("delivery.date.&.time"),":",(0,E.jsxs)("span",{className:"ml-2",children:[(0,E.jsx)(F.yoA,{className:"mr-1"})," ",null===De||void 0===De?void 0:De.delivery_date," ",null===De||void 0===De?void 0:De.delivery_time]})]}),(0,E.jsx)("br",{}),(0,E.jsxs)("div",{children:[$e("house"),":",(0,E.jsx)("span",{className:"ml-2",children:$e(null===De||void 0===De||null===(G=De.address)||void 0===G?void 0:G.house)})]}),(0,E.jsx)("br",{}),(0,E.jsxs)("div",{children:[$e("floor"),":",(0,E.jsx)("span",{className:"ml-2",children:$e(null===De||void 0===De||null===(P=De.address)||void 0===P?void 0:P.floor)})]}),(0,E.jsx)("br",{}),(0,E.jsxs)("div",{children:[$e("note"),":",(0,E.jsx)("span",{className:"ml-2",children:$e(null!==De&&void 0!==De&&De.note?null===De||void 0===De?void 0:De.note:"")})]}),(0,E.jsx)("br",{}),(0,E.jsx)("span",{children:$e("payments")}),(0,E.jsx)(m.Z,{columns:Xe,dataSource:null===De||void 0===De?void 0:De.transactions,pagination:!1}),(0,E.jsxs)(d.Z,{className:"map_show mt-3",onClick:()=>He(qe),children:[(0,E.jsx)(D.$0r,{})," ",$e("show.locations")]})]}),(0,E.jsxs)(r.Z,{span:12,children:[(0,E.jsxs)("div",{children:[$e("status"),":",(0,E.jsx)("span",{className:"ml-2",children:"new"===(null===De||void 0===De?void 0:De.status)?(0,E.jsx)(d.Z,{color:"blue",children:$e(null===De||void 0===De?void 0:De.status)}):"canceled"===(null===De||void 0===De?void 0:De.status)?(0,E.jsx)(d.Z,{color:"error",children:$e(null===De||void 0===De?void 0:De.status)}):(0,E.jsx)(d.Z,{color:"cyan",children:$e(null===De||void 0===De?void 0:De.status)})})]}),(0,E.jsx)("br",{}),(0,E.jsxs)("div",{children:[$e("delivery.type"),":",(0,E.jsx)("span",{className:"ml-2",children:null===De||void 0===De?void 0:De.delivery_type})]}),(0,E.jsx)("br",{}),(0,E.jsxs)("div",{children:[$e("payment.type"),":",(0,E.jsx)("span",{className:"ml-2",children:$e(null===De||void 0===De||null===(Q=De.transaction)||void 0===Q||null===(J=Q.payment_system)||void 0===J?void 0:J.tag)})]}),(0,E.jsx)("br",{}),(0,E.jsxs)("div",{children:[$e("address"),":",(0,E.jsx)("span",{className:"ml-2",children:null===De||void 0===De||null===(W=De.address)||void 0===W?void 0:W.address})]}),(0,E.jsx)("br",{}),(0,E.jsxs)("div",{children:[$e("office"),":",(0,E.jsx)("span",{className:"ml-2",children:null===De||void 0===De||null===(X=De.address)||void 0===X?void 0:X.office})]}),(0,E.jsx)("br",{}),"dine_in"===(null===De||void 0===De?void 0:De.delivery_type)&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)("div",{children:[$e("table"),":",(0,E.jsx)("span",{className:"ml-2",children:(null===De||void 0===De||null===(ee=De.table)||void 0===ee?void 0:ee.name)||$e("N/A")})]}),(0,E.jsx)("br",{})]}),(0,E.jsxs)("div",{children:[$e("otp"),":",(0,E.jsx)("span",{className:"ml-2",children:null!==(le=null===De||void 0===De?void 0:De.otp)&&void 0!==le?le:$e("N/A")})]})]})]})})}),!(null===De||void 0===De||!De.image_after_delivered)&&(0,E.jsx)(o.Z,{title:$e("order.image"),children:(0,E.jsx)("div",{style:{width:"200px",height:"200px",overflow:"hidden"},children:(0,E.jsx)(h.Z,{src:null===De||void 0===De?void 0:De.image_after_delivered,style:{objectFit:"contain"},height:"200px"})})}),(0,E.jsx)(o.Z,{title:$e("documents"),children:(0,E.jsx)(m.Z,{columns:el,dataSource:ll,pagination:!1,loading:Ue})}),(0,E.jsxs)(o.Z,{className:"w-100 order-table",children:[(0,E.jsx)(m.Z,{ref:ze,scroll:{x:!0},columns:We,dataSource:(null===(ie=Se.data)||void 0===ie?void 0:ie.details)||[],loading:Ue,rowKey:e=>e.id,pagination:!1}),(0,E.jsxs)(s.Z,{size:100,className:"d-flex justify-content-end w-100 order-table__summary",children:[(0,E.jsxs)("div",{children:[(0,E.jsxs)("span",{children:[$e("delivery.fee"),":"]}),(0,E.jsx)("br",{}),(0,E.jsxs)("span",{children:[$e("order.tax"),":"]}),(0,E.jsx)("br",{}),(0,E.jsxs)("span",{children:[$e("product"),":"]}),(0,E.jsx)("br",{}),(0,E.jsxs)("span",{children:[$e("discount"),":"]}),(0,E.jsx)("br",{}),(null===De||void 0===De?void 0:De.coupon)&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)("span",{children:[$e("coupon"),":"]}),(0,E.jsx)("br",{})]}),(0,E.jsxs)("span",{children:[$e("service.fee"),":"]}),(0,E.jsx)("br",{}),(0,E.jsxs)("span",{children:[$e("tips"),":"]}),(0,E.jsx)("br",{}),(0,E.jsxs)("h3",{children:[$e("total.price"),":"]})]}),(0,E.jsxs)("div",{children:[(0,E.jsx)("span",{children:(0,S.Z)(null===De||void 0===De?void 0:De.delivery_fee,null===Ye||void 0===Ye?void 0:Ye.symbol,null===Ye||void 0===Ye?void 0:Ye.position)}),(0,E.jsx)("br",{}),(0,E.jsx)("span",{children:(0,S.Z)(null===De||void 0===De?void 0:De.tax,null===Ye||void 0===Ye?void 0:Ye.symbol,null===Ye||void 0===Ye?void 0:Ye.position)}),(0,E.jsx)("br",{}),(0,E.jsx)("span",{children:(0,S.Z)(null===De||void 0===De?void 0:De.origin_price,null===Ye||void 0===Ye?void 0:Ye.symbol,null===Ye||void 0===Ye?void 0:Ye.position)}),(0,E.jsx)("br",{}),(0,E.jsx)("span",{children:(0,S.Z)(null===De||void 0===De?void 0:De.total_discount,null===Ye||void 0===Ye?void 0:Ye.symbol,null===Ye||void 0===Ye?void 0:Ye.position)}),(0,E.jsx)("br",{}),(null===De||void 0===De?void 0:De.coupon)&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("span",{children:(0,S.Z)(null===De||void 0===De||null===(ne=De.coupon)||void 0===ne?void 0:ne.price,null===Ye||void 0===Ye?void 0:Ye.symbol,null===Ye||void 0===Ye?void 0:Ye.position)}),(0,E.jsx)("br",{})]}),(0,E.jsx)("span",{children:(0,S.Z)(null===De||void 0===De?void 0:De.service_fee,null===Ye||void 0===Ye?void 0:Ye.symbol,null===Ye||void 0===Ye?void 0:Ye.position)}),(0,E.jsx)("br",{}),(0,E.jsx)("span",{children:(0,S.Z)(null===De||void 0===De?void 0:De.tips,null===Ye||void 0===Ye?void 0:Ye.symbol,null===Ye||void 0===Ye?void 0:Ye.position)}),(0,E.jsx)("br",{}),(0,E.jsx)("h3",{ref:Te,children:(0,S.Z)(null===De||void 0===De?void 0:De.total_price,null===Ye||void 0===Ye?void 0:Ye.symbol,null===Ye||void 0===Ye?void 0:Ye.position)})]})]})]})]}),(0,E.jsxs)(r.Z,{span:8,className:"order_info",children:[(0,E.jsxs)(o.Z,{title:$e("deliveryman"),extra:"ready"===(null===De||void 0===De?void 0:De.status)&&"delivery"===(null===De||void 0===De?void 0:De.delivery_type)&&(0,E.jsxs)(t.Z,{onClick:()=>Pe(De),children:[$e("change"),(0,E.jsx)(y.Z,{})]}),children:["new"===(null===De||void 0===De?void 0:De.status)||"accepted"===(null===De||void 0===De?void 0:De.status)?(0,E.jsx)("p",{children:$e("order_status_ready")}):"","new"===(null===De||void 0===De?void 0:De.status)||"accepted"===(null===De||void 0===De?void 0:De.status)||null!==De&&void 0!==De&&De.deliveryman?"":(0,E.jsx)("p",{children:$e("The supplier is not assigned or delivery type pickup")}),(null===De||void 0===De?void 0:De.deliveryman)&&(0,E.jsxs)(s.Z,{children:[(0,E.jsx)(j.C,{shape:"square",size:64,src:M.bV+(null===De||void 0===De||null===(se=De.deliveryman)||void 0===se?void 0:se.img)}),(0,E.jsxs)("div",{children:[(0,E.jsxs)("h5",{children:[null===De||void 0===De||null===(de=De.deliveryman)||void 0===de?void 0:de.firstname," ",(null===De||void 0===De||null===(oe=De.deliveryman)||void 0===oe?void 0:oe.lastname)||""]}),(0,E.jsxs)("span",{className:"delivery-info",children:[(0,E.jsx)(F.lfG,{}),null===De||void 0===De||null===(te=De.deliveryman)||void 0===te?void 0:te.phone]}),(0,E.jsxs)("div",{className:"delivery-info",children:[(0,E.jsx)("b",{children:(0,E.jsx)(D.ixJ,{size:16})}),(0,E.jsx)("span",{children:Ae?(0,V.Z)(null===De||void 0===De||null===(ae=De.deliveryman)||void 0===ae?void 0:ae.email):null===De||void 0===De||null===(re=De.deliveryman)||void 0===re?void 0:re.email})]})]})]})]}),!(null===De||void 0===De||!De.username)&&(0,E.jsxs)(o.Z,{title:$e("order.receiver"),children:[(0,E.jsxs)("div",{className:"customer-info",children:[(0,E.jsx)("span",{className:"title",children:$e("name")}),(0,E.jsxs)("span",{className:"description",children:[(0,E.jsx)(F.HHm,{}),null===De||void 0===De?void 0:De.username]})]}),(0,E.jsxs)("div",{className:"customer-info",children:[(0,E.jsx)("span",{className:"title",children:$e("phone")}),(0,E.jsxs)("span",{className:"description",children:[(0,E.jsx)(F.lfG,{}),null===De||void 0===De?void 0:De.phone]})]})]}),!(null===De||void 0===De||!De.user)&&(0,E.jsx)(o.Z,{title:(0,E.jsxs)(s.Z,{children:[$e("customer.info"),(0,E.jsx)(y.Z,{onClick:()=>(Me((0,k.bL)({url:`users/user/${null===De||void 0===De?void 0:De.user.uuid}`,id:"user_info",name:$e("user.info")})),void Fe(`/users/user/${null===De||void 0===De?void 0:De.user.uuid}`,{state:{user_id:null===De||void 0===De?void 0:De.user.id}}))})]}),children:(0,E.jsxs)("div",{className:"d-flex w-100 customer-info-container",children:[Ue?(0,E.jsx)(u.Z.Avatar,{size:64,shape:"square"}):(0,E.jsx)(j.C,{shape:"square",size:64,src:null===De||void 0===De||null===(ce=De.user)||void 0===ce?void 0:ce.img}),(0,E.jsx)("h5",{className:"customer-name",children:Ue?(0,E.jsx)(u.Z.Button,{size:20,style:{width:70}}):(null===De||void 0===De||null===(ue=De.user)||void 0===ue?void 0:ue.firstname)+" "+((null===De||void 0===De||null===(ve=De.user)||void 0===ve?void 0:ve.lastname)||"")}),(0,E.jsxs)("div",{className:"customer-info-detail",children:[(0,E.jsxs)("div",{className:"customer-info",children:[(0,E.jsx)("span",{className:"title",children:$e("phone")}),(0,E.jsxs)("span",{className:"description",children:[(0,E.jsx)(F.lfG,{}),Ue?(0,E.jsx)(u.Z.Button,{size:16}):(null===De||void 0===De||null===(xe=De.user)||void 0===xe?void 0:xe.phone)||"none"]})]}),(0,E.jsxs)("div",{className:"customer-info",children:[(0,E.jsx)("span",{className:"title",children:$e("email")}),(0,E.jsxs)("span",{className:"description",children:[(0,E.jsx)(D.ixJ,{}),Ue?(0,E.jsx)(u.Z.Button,{size:16}):Ae?(0,V.Z)(null===De||void 0===De||null===(me=De.user)||void 0===me?void 0:me.email):null===De||void 0===De||null===(he=De.user)||void 0===he?void 0:he.email]})]}),(0,E.jsxs)("div",{className:"customer-info",children:[(0,E.jsx)("span",{className:"title",children:$e("registration.date")}),(0,E.jsxs)("span",{className:"description",children:[(0,E.jsx)(F.yoA,{}),Ue?(0,E.jsx)(u.Z.Button,{size:16}):A()(null===De||void 0===De||null===(je=De.user)||void 0===je?void 0:je.created_at).format("DD-MM-YYYY, HH:mm")]})]}),(0,E.jsxs)("div",{className:"customer-info",children:[(0,E.jsx)("span",{className:"title",children:$e("orders.count")}),(0,E.jsx)("span",{className:"description",children:Ue?(0,E.jsx)(u.Z.Button,{size:16}):(0,E.jsx)(p.Z,{showZero:!0,style:{backgroundColor:"#3d7de3"},count:(null===De||void 0===De||null===(pe=De.user)||void 0===pe?void 0:pe.orders_count)||0})})]}),(0,E.jsxs)("div",{className:"customer-info",children:[(0,E.jsx)("span",{className:"title",children:$e("spent.since.registration")}),(0,E.jsx)("span",{className:"description",children:Ue?(0,E.jsx)(u.Z.Button,{size:16}):(0,E.jsx)(p.Z,{showZero:!0,style:{backgroundColor:"#48e33d"},count:(0,S.Z)(null===De||void 0===De||null===(Ze=De.user)||void 0===Ze?void 0:Ze.orders_sum_price,null===Ye||void 0===Ye?void 0:Ye.symbol,null===Ye||void 0===Ye?void 0:Ye.position)})})]})]})]})}),(null===De||void 0===De?void 0:De.review)&&!Ue&&(0,E.jsx)(o.Z,{title:$e("messages"),children:(0,E.jsxs)("div",{className:"order-message",children:[(0,E.jsx)("span",{className:"message",children:null===De||void 0===De||null===(ye=De.review)||void 0===ye?void 0:ye.comment}),(0,E.jsx)(s.Z,{className:"w-100 justify-content-end",children:(0,E.jsx)("span",{className:"date",children:A()(null===De||void 0===De||null===(ge=De.review)||void 0===ge?void 0:ge.created_at).format("YYYY-MM-DD HH:mm")})})]})}),(0,E.jsx)(o.Z,{title:$e("store.information"),children:Ue?(0,E.jsx)(u.Z,{avatar:!0,shape:"square",paragraph:{rows:2}}):(0,E.jsxs)(s.Z,{className:"w-100",children:[(0,E.jsx)(j.C,{shape:"square",size:64,src:M.bV+(null===De||void 0===De||null===(fe=De.shop)||void 0===fe?void 0:fe.logo_img)}),(0,E.jsxs)("div",{children:[(0,E.jsx)("h5",{children:null===De||void 0===De||null===(be=De.shop)||void 0===be||null===(Ne=be.translation)||void 0===Ne?void 0:Ne.title}),(null===De||void 0===De||null===(_e=De.shop)||void 0===_e?void 0:_e.phone)&&(0,E.jsxs)("div",{className:"delivery-info",children:[(0,E.jsx)("b",{children:(0,E.jsx)(F.lfG,{})}),(0,E.jsx)("span",{children:null===De||void 0===De||null===(ke=De.shop)||void 0===ke?void 0:ke.phone})]}),(0,E.jsxs)("div",{className:"delivery-info my-1",children:[(0,E.jsxs)("strong",{children:[$e("min.delivery.price"),":"]}),(0,E.jsx)("span",{children:(0,S.Z)(null===De||void 0===De||null===(we=De.shop)||void 0===we?void 0:we.price,null===Ye||void 0===Ye?void 0:Ye.symbol,null===Ye||void 0===Ye?void 0:Ye.position)})]}),(0,E.jsxs)("div",{className:"delivery-info",children:[(0,E.jsx)("b",{children:(0,E.jsx)(B.CDT,{size:16})}),(0,E.jsx)("span",{children:null===De||void 0===De||null===(Ce=De.shop)||void 0===Ce||null===(Ie=Ce.translation)||void 0===Ie?void 0:Ie.address})]})]})]})})]})]}),Oe&&(0,E.jsx)(w.Z,{orderDetails:Oe,handleCancel:il,status:Je}),Ge&&(0,E.jsx)(C.Z,{orderDetails:Ge,handleCancel:il}),Be&&(0,E.jsx)($.Z,{id:Be,handleCancel:il}),!!Qe&&(0,E.jsx)(Z.Z,{visible:!!Qe,footer:!1,onCancel:()=>{Ee(null)},children:(0,E.jsx)(K,{orderDetailId:null===Qe||void 0===Qe?void 0:Qe.id,status:null===Qe||void 0===Qe?void 0:Qe.status,handleCancel:()=>{Ee(null)}})}),!!Ke&&(0,E.jsx)(Z.Z,{visible:!!Ke,footer:!1,onCancel:()=>Re(null),children:(0,E.jsx)(R.Z,{data:Ke,onCancel:()=>Re(null)})})]})}},24077:(e,l,i)=>{i.d(l,{Z:()=>Z});var n=i(47313),s=i(10976),d=i(9274),o=i(59491),t=i(68197),a=i(59624),r=i(74294),c=i(2717),u=i(7370),v=i(90954),x=i(24511),m=i(49986),h=i(89281),j=i(98501),p=i(46417);function Z(e){var l,i,Z,y;let{orderDetails:g,handleCancel:f}=e;const{t:b}=(0,x.$)(),{activeMenu:N}=(0,c.v9)((e=>e.menu),c.wU),[_]=s.Z.useForm(),k=(0,c.I0)(),[w,C]=(0,n.useState)(!1),I=j.gN.map((e=>({label:b(e),value:e,key:e})));return(0,p.jsx)(d.Z,{visible:!!g,onCancel:f,footer:[(0,p.jsx)(o.Z,{type:"primary",onClick:()=>_.submit(),loading:w,children:b("save")},"saveBtn"),(0,p.jsx)(o.Z,{type:"default",onClick:f,children:b("cancel")},"cancelBtn")],children:(0,p.jsx)(s.Z,{form:_,layout:"vertical",onFinish:e=>{var l,i;const n={deliveryman:null===e||void 0===e||null===(l=e.deliveryman)||void 0===l?void 0:l.value,transaction_status:(null===e||void 0===e||null===(i=e.transaction_status)||void 0===i?void 0:i.value)||(null===e||void 0===e?void 0:e.transaction_status)||void 0};C(!0),u.Z.updateDelivery(g.id,n).then((()=>{f(),k((0,v.xo)(N))})).finally((()=>C(!1)))},initialValues:{deliveryman:null!==g&&void 0!==g&&g.deliveryman?{label:`${(null===g||void 0===g||null===(l=g.deliveryman)||void 0===l?void 0:l.firstname)||""} ${(null===g||void 0===g||null===(i=g.deliveryman)||void 0===i?void 0:i.lastname)||""}`,value:null===g||void 0===g||null===(Z=g.deliveryman)||void 0===Z?void 0:Z.id}:void 0,transaction_status:null===g||void 0===g||null===(y=g.transaction)||void 0===y?void 0:y.status},children:(0,p.jsxs)(t.Z,{gutter:12,children:[(0,p.jsx)(a.Z,{span:24,children:(0,p.jsx)(s.Z.Item,{label:b("deliveryman"),name:"deliveryman",rules:[{required:!0,message:b("required")}],children:(0,p.jsx)(h.h,{className:"w-100",debounceTimeout:500,placeholder:b("select.deliveryman"),fetchOptions:async e=>{var l,i;const n={search:e.length?e:void 0,page:1,perPage:10,role:"deliveryman",shop_id:g.shop.id,exist_token:1,"address[latitude]":(null===g||void 0===g||null===(l=g.location)||void 0===l?void 0:l.latitude)||void 0,"address[longitude]":(null===g||void 0===g||null===(i=g.location)||void 0===i?void 0:i.longitude)||void 0};return m.Z.getAll(n).then((e=>{let{data:l}=e;return l.map((e=>({label:e.firstname+" "+e.lastname||"no name",value:e.id})))}))},allowClear:!0})})}),(null===g||void 0===g?void 0:g.transaction)&&(0,p.jsx)(a.Z,{span:24,children:(0,p.jsx)(s.Z.Item,{label:b("transaction.status"),name:"transaction_status",children:(0,p.jsx)(r.Z,{options:I,labelInValue:!0})})})]})})})}},7920:(e,l,i)=>{i.d(l,{Z:()=>p});var n=i(47313),s=i(10976),d=i(9274),o=i(59491),t=i(68197),a=i(59624),r=i(74294),c=i(2717),u=i(24511),v=i(7370),x=i(90954),m=i(98501),h=i(97890),j=i(46417);function p(e){var l;let{orderDetails:i,handleCancel:p,status:Z}=e;const{t:y}=(0,u.$)(),g=(0,c.I0)(),f=(0,h.s0)(),[b]=s.Z.useForm(),{activeMenu:N}=(0,c.v9)((e=>e.menu),c.wU),_=(0,c.v9)((e=>e.globalSettings.settings),c.wU),[k,w]=(0,n.useState)(!1),[C,I]=(0,n.useState)(Z),S=m.gN.map((e=>({label:y(e),value:e,key:e})));(0,n.useEffect)((()=>{const e=Z.findIndex((e=>e.name===i.status));let l=[Z[e],Z[e+1],{name:"canceled",id:null===Z||void 0===Z?void 0:Z.length,active:!0}];e<0&&(l=[Z[e+1],"canceled"]),I(l)}),[i]);return(0,j.jsx)(d.Z,{visible:!!i,title:i.title,onCancel:p,footer:[(0,j.jsx)(o.Z,{type:"primary",onClick:()=>b.submit(),loading:k,children:y("save")},"save-form"),(0,j.jsx)(o.Z,{type:"default",onClick:p,children:y("cancel")},"cansel-modal")],children:(0,j.jsx)(s.Z,{form:b,layout:"vertical",onFinish:e=>{var l,n;const s={status:(null===e||void 0===e||null===(l=e.status)||void 0===l?void 0:l.value)||(null===e||void 0===e?void 0:e.status),transaction_status:(null===e||void 0===e||null===(n=e.transaction_status)||void 0===n?void 0:n.value)||(null===e||void 0===e?void 0:e.transaction_status)||void 0};w(!0),v.Z.updateStatus(i.id,s).then((e=>{var l,i;"accepted"===(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.status)&&"1"===(null===_||void 0===_?void 0:_.auto_print_order)?(e=>{const l=`orders/generate-invoice/${e}`;g((0,x.bL)({url:l,id:"generate-invoice ",name:y("generate.invoice")})),f(`/${l}?print=true`)})(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.id):(p(),g((0,x.xo)(N)))})).finally((()=>w(!1)))},initialValues:{status:null===i||void 0===i?void 0:i.status,transaction_status:null===i||void 0===i||null===(l=i.transaction)||void 0===l?void 0:l.status},children:(0,j.jsxs)(t.Z,{gutter:12,children:[(0,j.jsx)(a.Z,{span:24,children:(0,j.jsx)(s.Z.Item,{label:y("status"),name:"status",rules:[{required:!0,message:y("required")}],children:(0,j.jsx)(r.Z,{labelInValue:!0,children:null===C||void 0===C?void 0:C.map((e=>(0,j.jsx)(r.Z.Option,{value:null===e||void 0===e?void 0:e.name,children:y(null===e||void 0===e?void 0:e.name)},null===e||void 0===e?void 0:e.name)))})})}),(null===i||void 0===i?void 0:i.transaction)&&(0,j.jsx)(a.Z,{span:24,children:(0,j.jsx)(s.Z.Item,{label:y("transaction.status"),name:"transaction_status",children:(0,j.jsx)(r.Z,{options:S})})})]})})})}},80355:(e,l,i)=>{i.d(l,{Z:()=>$});var n=i(84697),s=i(83999),d=i(9274),o=i(59491),t=i(77181),a=i(68197),r=i(59624),c=i(66204),u=i(47313),v=i(24511),x=i(7370),m=i(51282),h=i(59713),j=i(2717),p=i(97421),Z=i(18478),y=i(84618),g=i(17649),f=i(66461),b=i(94443),N=i(12258),_=i(69965),k=i(70816),w=i.n(k),C=i(46417);const{Step:I}=s.Z,S=()=>(0,C.jsx)("img",{src:Z,width:"50",alt:"Pin"}),Y=()=>(0,C.jsx)("img",{src:y,width:"50",alt:"Pin"}),D=["blue","red","gold","volcano","cyan","lime"],$=e=>{var l,i,Z,y,k,$;let{id:q,handleCancel:M}=e;const{t:F}=(0,v.$)(),[z,T]=(0,u.useState)(null),[A,B]=(0,u.useState)(null),[H,U]=(0,u.useState)(null),{settings:V}=(0,j.v9)((e=>e.globalSettings),j.wU),O=(0,g.Z)(V),[L,G]=(0,u.useState)(0),[P,Q]=(0,u.useState)((0,g.Z)(V)),[E,K]=(0,u.useState)((0,g.Z)(V)),[R,J]=(0,u.useState)([{id:0,name:"new",icon:(0,C.jsx)(f.Z,{})},{id:1,name:"accepted",icon:(0,C.jsx)(h.IQF,{})},{id:2,name:"ready",icon:(0,C.jsx)(b.TkG,{})},{id:3,name:"on_a_way",icon:(0,C.jsx)(N.Akc,{})},{id:4,name:"delivered",icon:(0,C.jsx)(N.kme,{})}]);const{google_map_key:W}=(0,j.v9)((e=>e.globalSettings.settings),j.wU);(0,u.useEffect)((()=>{T(!0),x.Z.getById(q).then((e=>{var l;let{data:i}=e;J("canceled"===i.status?[{id:1,name:"new",icon:(0,C.jsx)(f.Z,{})},{id:5,name:"canceled",icon:(0,C.jsx)(_.SV5,{})}]:R),G("canceled"===i.status?1:null===(l=R.find((e=>e.name===i.status)))||void 0===l?void 0:l.id),U("canceled"===i.status?"error":"success"),B(i),K({lat:i.location.latitude,lng:i.location.longitude}),Q({lat:i.shop.location.latitude,lng:i.shop.location.longitude})})).finally((()=>{T(!1)}))}),[]);return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(d.Z,{visible:!!q,title:F("show.locations"),onCancel:()=>M(),style:{minWidth:"80vw"},footer:[(0,C.jsx)(o.Z,{type:"default",onClick:M,children:F("cancel")},"cancelBtn")],children:z?(0,C.jsx)(m.Z,{}):(0,C.jsxs)(t.Z,{children:[(0,C.jsx)(s.Z,{current:L,status:H,className:"mb-5",children:null===R||void 0===R?void 0:R.map(((e,l)=>(0,C.jsx)(I,{title:F(e.name),icon:null===e||void 0===e?void 0:e.icon},e.id+l)))}),(0,C.jsxs)(a.Z,{gutter:12,children:[(0,C.jsxs)(r.Z,{span:12,children:[(0,C.jsxs)("h3",{children:[F("order.id")," #",null===A||void 0===A?void 0:A.id]}),(0,C.jsxs)("p",{children:[(0,C.jsx)(h.D73,{})," ",w()(null===A||void 0===A?void 0:A.created_at).format("YYYY-MM-DD HH:mm")]}),(0,C.jsxs)("p",{children:[F("schedulet.at")," ",null===A||void 0===A?void 0:A.delivery_date]}),(0,C.jsxs)("span",{children:[(0,C.jsx)("strong",{children:null===A||void 0===A||null===(l=A.shop)||void 0===l||null===(i=l.translation)||void 0===i?void 0:i.title})," ",null===A||void 0===A||null===(Z=A.details)||void 0===Z?void 0:Z.map(((e,l)=>{var i,n,s;return(0,C.jsx)(c.Z,{color:D[l],children:null===e||void 0===e||null===(i=e.stock)||void 0===i||null===(n=i.product)||void 0===n||null===(s=n.translation)||void 0===s?void 0:s.title})}))]})]}),(0,C.jsxs)(r.Z,{span:12,children:[(0,C.jsxs)("p",{children:[F("status")," ","new"===(null===A||void 0===A?void 0:A.status)?(0,C.jsx)(c.Z,{color:"blue",children:F(null===A||void 0===A?void 0:A.status)}):"canceled"===(null===A||void 0===A?void 0:A.status)?(0,C.jsx)(c.Z,{color:"error",children:F(null===A||void 0===A?void 0:A.status)}):(0,C.jsx)(c.Z,{color:"cyan",children:F(null===A||void 0===A?void 0:A.status)})]}),(0,C.jsxs)("p",{children:[F("payment.method")," ",(0,C.jsx)("strong",{children:null===A||void 0===A||null===(y=A.transaction)||void 0===y||null===(k=y.payment_system)||void 0===k?void 0:k.tag})]}),(0,C.jsxs)("p",{children:[F("order.type")," ",(0,C.jsx)("strong",{children:null===A||void 0===A?void 0:A.delivery_type})]}),(0,C.jsxs)("p",{children:[F("payment.type")," ",(0,C.jsx)("strong",{children:null===A||void 0===A||null===($=A.transaction)||void 0===$?void 0:$.status})]})]}),(0,C.jsxs)(r.Z,{span:24,className:"mt-5",children:[(0,C.jsx)("h4",{children:F("map")}),(0,C.jsx)("div",{className:"map-container",style:{height:400,width:"100%"},children:(0,C.jsxs)(n.ZP,{bootstrapURLKeys:{key:p.kr||W},defaultZoom:15,center:O,yesIWantToUseGoogleMapApiInternals:!0,options:{fullscreenControl:!1},onGoogleApiLoaded:e=>{let{map:l,maps:i}=e;const n=[P,E].map((e=>({lat:Number(e.lat||"0"),lng:Number(e.lng||"0")})));let s=new i.LatLngBounds;for(var d=0;d<n.length;d++)s.extend(n[d]);l.fitBounds(s)},children:[(0,C.jsx)(Y,{lat:null===P||void 0===P?void 0:P.lat,lng:null===P||void 0===P?void 0:P.lng}),(0,C.jsx)(S,{lat:null===E||void 0===E?void 0:E.lat,lng:null===E||void 0===E?void 0:E.lng})]})})]})]})]})})})}},22103:(e,l,i)=>{i.d(l,{Z:()=>p});var n=i(10976),s=i(68197),d=i(59624),o=i(74294),t=i(46155),a=i(45705),r=i(59491),c=i(24511),u=i(98501),v=i(47313),x=i(7370),m=i(2717),h=i(90954),j=i(46417);const p=e=>{let{onCancel:l,refreshOrders:i,data:p}=e;const[Z]=n.Z.useForm(),{t:y}=(0,c.$)(),g=(0,m.I0)(),{activeMenu:f}=(0,m.v9)((e=>e.menu),m.wU),[b,N]=(0,v.useState)(!1),_=u.gN.map((e=>({label:y(e),value:e,key:e})));return(0,j.jsx)(n.Z,{form:Z,layout:"vertical",initialValues:{status:p.status},onFinish:e=>{var n;const s={status:null===e||void 0===e||null===(n=e.status)||void 0===n?void 0:n.value,transaction_id:p.id};N(!0),x.Z.updateTransactionStatus(null===p||void 0===p?void 0:p.payable_id,s).finally((()=>{N(!1),l(),i?i():g((0,h.xo)(f))}))},children:(0,j.jsxs)(s.Z,{gutter:12,children:[(0,j.jsx)(d.Z,{span:24,children:(0,j.jsx)(n.Z.Item,{label:y("status"),name:"status",rules:[{required:!0,message:y("required")}],children:(0,j.jsx)(o.Z,{options:_,labelInValue:!0})})}),(0,j.jsx)(t.Z,{}),(0,j.jsx)(d.Z,{span:24,children:(0,j.jsxs)(a.Z,{style:{display:"flex",justifyContent:"end"},children:[(0,j.jsx)(r.Z,{onClick:l,children:y("cancel")}),(0,j.jsx)(r.Z,{type:"primary",htmlType:"submit",loading:b,children:y("save")})]})})]})})}},84618:(e,l,i)=>{e.exports=i.p+"static/media/shop.46d7a94ca800c711764a.png"},18478:(e,l,i)=>{e.exports=i.p+"static/media/user.fbe7078c52acde79652d.jpg"}}]);