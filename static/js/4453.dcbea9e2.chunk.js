(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[4453],{10011:(i,l,e)=>{"use strict";e.r(l),e.d(l,{default:()=>w});var d=e(45705),n=e(66204),o=e(77181),s=e(59491),t=e(78508),r=e(46155),a=e(47313),v=e(24511),c=e(97890),u=e(7370),h=e(2717),x=e(70816),p=e.n(x),j=e(84017),y=e(31774),m=e(43295),g=e(33834),f=e(80314),_=e(51282),b=e(90954),Z=e(46417);const k=i=>{var l,e,d;return((null!==(l=null===i||void 0===i?void 0:i.origin_price)&&void 0!==l?l:0)+(null===i||void 0===i||null===(e=i.addons)||void 0===e?void 0:e.reduce(((i,l)=>{var e;return i+(null!==(e=null===l||void 0===l?void 0:l.origin_price)&&void 0!==e?e:0)}),0)))/(null!==(d=null===i||void 0===i?void 0:i.quantity)&&void 0!==d?d:1)},$=i=>{var l,e;return(null!==(l=null===i||void 0===i?void 0:i.total_price)&&void 0!==l?l:0)+(null===i||void 0===i||null===(e=i.addons)||void 0===e?void 0:e.reduce(((i,l)=>{var e;return i+(null!==(e=null===l||void 0===l?void 0:l.origin_price)&&void 0!==e?e:0)}),0))},w=()=>{var i,l,e,x,w,N,I,B,F,Y;const{t:C}=(0,v.$)(),{id:q}=(0,c.UO)(),A=(0,g.K)(),M=(0,a.useRef)(),S=(0,c.s0)(),D=(0,h.I0)(),{activeMenu:K}=(0,h.v9)((i=>i.menu),h.wU),{settings:P}=(0,h.v9)((i=>i.globalSettings)),{defaultCurrency:U}=(0,h.v9)((i=>i.currency),h.wU),[E,H]=(0,a.useState)(!1),[R,T]=(0,a.useState)(null),O=[{title:C("id"),dataIndex:"stock",key:"stock",render:i=>null===i||void 0===i?void 0:i.id},{title:C("product"),dataIndex:"stock",key:"stock",render:(i,l)=>{var e,o,s,t,r;return(0,Z.jsxs)(d.Z,{wrap:!0,children:[(0,Z.jsx)("span",{children:(null===i||void 0===i||null===(e=i.product)||void 0===e||null===(o=e.translation)||void 0===o?void 0:o.title)||(null===i||void 0===i||null===(s=i.product)||void 0===s?void 0:s.id)||C("N/A")}),(0,Z.jsx)("span",{children:null===i||void 0===i||null===(t=i.extras)||void 0===t?void 0:t.map((i=>(0,Z.jsx)(n.Z,{children:null===i||void 0===i?void 0:i.value},null===i||void 0===i?void 0:i.id)))}),null===l||void 0===l||null===(r=l.addons)||void 0===r?void 0:r.map((i=>{var l,e,d,o;return(0,Z.jsx)(n.Z,{children:`${null===i||void 0===i||null===(l=i.stock)||void 0===l||null===(e=l.product)||void 0===e||null===(d=e.translation)||void 0===d?void 0:d.title} x ${null!==(o=null===i||void 0===i?void 0:i.quantity)&&void 0!==o?o:1}`},null===i||void 0===i?void 0:i.id)}))]})}},{title:C("price"),dataIndex:"origin_price",key:"origin_price",render:(i,l)=>(0,Z.jsx)("p",{style:{width:"max-content"},children:(0,j.Z)(k(l),null===U||void 0===U?void 0:U.symbol)})},{title:C("quantity"),dataIndex:"quantity",key:"quantity",render:(i,l)=>{var e,d,n,o;return(0,Z.jsx)("p",{style:{width:"max-content"},children:`${i} ${null===l||void 0===l||null===(e=l.stock)||void 0===e||null===(d=e.product)||void 0===d||null===(n=d.unit)||void 0===n||null===(o=n.translation)||void 0===o?void 0:o.title}`})}},{title:C("tax"),dataIndex:"tax",key:"tax",render:i=>(0,Z.jsx)("p",{style:{width:"max-content"},children:(0,j.Z)(i,null===U||void 0===U?void 0:U.symbol)})},{title:C("total.price"),dataIndex:"total_price",key:"total_price",render:(i,l)=>(0,Z.jsx)("p",{style:{width:"max-content"},children:(0,j.Z)($(l),null===U||void 0===U?void 0:U.symbol)})}];function Q(){H(!0),u.Z.getById(q).then((i=>{let{data:l}=i;T(l)})).finally((()=>{H(!1),D((0,b.A_)(K))}))}(0,a.useEffect)((()=>{Q()}),[]),(0,f.Z)((()=>{K.refetch&&Q()}),[K.refetch]),(0,f.Z)((()=>{E||"true"!==A.get("print")||W()}),[q,A]);const W=(0,m.useReactToPrint)({content:()=>M.current,onAfterPrint:()=>{"true"===A.get("print")&&A.set("print",!1)}});return(0,Z.jsx)(o.Z,{title:C("invoice"),extra:(0,Z.jsxs)(d.Z,{wrap:!0,children:[(0,Z.jsx)(s.Z,{type:"primary",onClick:()=>{null!==A&&void 0!==A&&A.get("print")?S(-2):S(-1)},children:(0,Z.jsx)("span",{className:"ml-1",children:C("back")})}),(0,Z.jsxs)(s.Z,{type:"primary",onClick:()=>W(),children:[(0,Z.jsx)(y.Z,{type:"printer"}),(0,Z.jsx)("span",{className:"ml-1",children:C("print")})]})]}),children:E?(0,Z.jsx)(_.Z,{}):(0,Z.jsxs)("div",{className:"container_check",ref:M,children:[(0,Z.jsxs)("header",{className:"check_header",children:[(0,Z.jsx)("div",{style:{objectFit:"contain",maxWidth:200,maxHeight:200,overflow:"hidden"},children:(0,Z.jsx)("img",{src:null===P||void 0===P?void 0:P.favicon,alt:"img",className:"check_icon overflow-hidden rounded",width:200,height:200})}),(0,Z.jsx)("h1",{children:"Invoice"}),(0,Z.jsxs)("span",{className:"check_companyInfo",children:[(0,Z.jsx)("h1",{children:null===P||void 0===P?void 0:P.title}),(0,Z.jsx)("h5",{children:null===P||void 0===P?void 0:P.address})]})]}),(0,Z.jsxs)("main",{children:[(0,Z.jsxs)("span",{children:[(0,Z.jsxs)("h4",{children:[C("order.id"),": ",null===R||void 0===R?void 0:R.id]}),!(null===R||void 0===R||!R.created_at)&&(0,Z.jsx)("p",{children:`${C("created.at")}: ${p()(null===R||void 0===R?void 0:R.created_at).format("YYYY-MM-DD")}`}),(0,Z.jsx)("address",{children:(0,Z.jsxs)("p",{className:"d-flex flex-column",style:{gap:"10px"},children:[(0,Z.jsxs)("span",{children:[C("delivery.type"),": ",null===R||void 0===R?void 0:R.delivery_type]}),!(null===R||void 0===R||!R.table)&&(0,Z.jsxs)("span",{children:[C("table"),": ",(null===R||void 0===R||null===(i=R.table)||void 0===i?void 0:i.name)||C("N/A")]}),!(null===R||void 0===R||null===(l=R.address)||void 0===l||!l.address)&&(0,Z.jsxs)("span",{children:[C("delivery.address"),": ",null===R||void 0===R||null===(e=R.address)||void 0===e?void 0:e.address]}),!(null===R||void 0===R||!R.delivery_date_time)&&(0,Z.jsx)("span",{children:`${C("delivery.date")}: ${(null===R||void 0===R?void 0:R.delivery_date)||""}\n                        ${(null===R||void 0===R?void 0:R.delivery_time)||""}`}),(0,Z.jsxs)("span",{children:[C("delivery.fee"),": ",(0,j.Z)(null===R||void 0===R?void 0:R.delivery_fee)]}),(0,Z.jsxs)("span",{children:[C("tax"),": ",(0,j.Z)(null===R||void 0===R?void 0:R.tax)]}),(0,Z.jsxs)("span",{children:[C("status"),": ",(0,Z.jsx)(n.Z,{color:"green",children:null===R||void 0===R?void 0:R.status})]}),(0,Z.jsxs)("span",{children:[C("otp"),": ",null!==(x=null===R||void 0===R?void 0:R.otp)&&void 0!==x?x:C("N/A")]})]})})]}),(0,Z.jsxs)("span",{children:[(0,Z.jsxs)("h3",{className:"shop_data",children:[C("shop.id"),": #",null===R||void 0===R||null===(w=R.shop)||void 0===w?void 0:w.id]}),(0,Z.jsxs)("span",{children:[C("title"),": ",null===R||void 0===R||null===(N=R.shop)||void 0===N||null===(I=N.translation)||void 0===I?void 0:I.title]}),(0,Z.jsx)("br",{}),(0,Z.jsxs)("span",{children:[C("address"),": ",null===R||void 0===R||null===(B=R.shop)||void 0===B||null===(F=B.translation)||void 0===F?void 0:F.address]}),(0,Z.jsx)("br",{}),(0,Z.jsxs)("span",{children:[C("phone"),": ",null===R||void 0===R||null===(Y=R.shop)||void 0===Y?void 0:Y.phone]})]})]}),(0,Z.jsx)(t.Z,{scroll:{x:!0},columns:O,dataSource:(null===R||void 0===R?void 0:R.details)||[],loading:E,rowKey:i=>i.id,pagination:!1,className:"check_table",bordered:!0}),(0,Z.jsxs)("footer",{children:[(0,Z.jsx)("span",{}),(0,Z.jsxs)("span",{children:[(0,Z.jsx)("span",{children:C("origin.price")}),(0,Z.jsx)("h3",{style:{marginBottom:"10px"},children:(0,j.Z)(null===R||void 0===R?void 0:R.origin_price,null===U||void 0===U?void 0:U.symbol)}),(null===R||void 0===R?void 0:R.delivery_fee)&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("span",{children:C("delivery.fee")}),(0,Z.jsx)("h3",{style:{marginBottom:"10px"},children:(0,j.Z)(null===R||void 0===R?void 0:R.delivery_fee,null===U||void 0===U?void 0:U.symbol)})]}),(null===R||void 0===R?void 0:R.service_fee)&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("span",{children:C("service.fee")}),(0,Z.jsx)("h3",{style:{marginBottom:"10px"},children:(0,j.Z)(null===R||void 0===R?void 0:R.service_fee,null===U||void 0===U?void 0:U.symbol)})]}),(null===R||void 0===R?void 0:R.tax)&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("span",{children:C("tax")}),(0,Z.jsx)("h3",{style:{marginBottom:"10px"},children:(0,j.Z)(null===R||void 0===R?void 0:R.tax,null===U||void 0===U?void 0:U.symbol)})]}),!(null===R||void 0===R||!R.tips)&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("span",{children:C("tips")}),(0,Z.jsx)("h3",{style:{marginBottom:"10px"},children:(0,j.Z)(null===R||void 0===R?void 0:R.tips,null===U||void 0===U?void 0:U.symbol)})]}),!(null===R||void 0===R||!R.coupon_price)&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("span",{children:C("coupon")}),(0,Z.jsx)("h3",{style:{marginBottom:"10px"},children:(0,j.Z)(null===R||void 0===R?void 0:R.coupon_price,null===U||void 0===U?void 0:U.symbol)})]}),(null===R||void 0===R?void 0:R.total_discount)&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("span",{children:C("total.discount")}),(0,Z.jsx)("h3",{style:{marginBottom:"10px"},children:(0,j.Z)(null===R||void 0===R?void 0:R.total_discount,null===U||void 0===U?void 0:U.symbol)})]}),(0,Z.jsx)(r.Z,{}),(0,Z.jsx)("span",{children:C("total.price")}),(0,Z.jsx)("h1",{children:(0,j.Z)(null===R||void 0===R?void 0:R.total_price,null===U||void 0===U?void 0:U.symbol)})]})]}),(0,Z.jsxs)("section",{className:"text-center",children:["\xa9 ",p()(new Date).format("YYYY")," ",null===P||void 0===P?void 0:P.title,"."," ",C("all.rights.reserved")]})]})})}},84017:(i,l,e)=>{"use strict";e.d(l,{Z:()=>n});var d=e(67968);function n(){var i,l;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;const s=null===(i=d.h.getState())||void 0===i||null===(l=i.currency)||void 0===l?void 0:l.defaultCurrency,t=Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),r=n||(null===s||void 0===s?void 0:s.symbol)||"$",a=o||(null===s||void 0===s?void 0:s.position)||"before";return"after"===a?`${t} ${r}`:`${r} ${t}`}},33834:(i,l,e)=>{"use strict";e.d(l,{K:()=>s});var d=e(97890),n=e(74776),o=e.n(n);const s=()=>{const i=(0,d.s0)(),l=(0,d.TH)(),e=o().parse(l.search,{ignoreQueryPrefix:!0});return{values:e,set:(l,d)=>i({search:o().stringify({...e,[l]:d})}),reset:l=>{const d={...e};d[l]&&delete d[l],i({search:o().stringify({...d})})},clear:()=>i({search:o().stringify({})}),merge:l=>i({search:o().stringify({...e,...l})}),get:i=>e[i],setMultiple:l=>{const d={...e,...l};i({search:o().stringify(d)})},resetMultiple:l=>{const d={...e};l.forEach((i=>{d[i]&&delete d[i]})),i({search:o().stringify(d)})}}}},24654:()=>{}}]);