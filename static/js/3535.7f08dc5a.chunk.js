"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[3535],{55940:(e,l,a)=>{a.d(l,{Z:()=>d});a(47313);var s=a(59491),t=a(47515),n=a(23560),i=a(24511),r=a(79492),o=a(46417);function d(e){let{size:l="",onClick:a,type:d="default",...c}=e;const{t:u}=(0,i.$)(),{isDemo:m}=(0,r.Z)();return(0,o.jsx)(s.Z,{size:l,icon:(0,o.jsx)(t.Z,{}),onClick:e=>{m?n.Am.warning(u("cannot.work.demo")):a(e)},type:d,...c})}},53233:(e,l,a)=>{a.d(l,{Z:()=>p});var s=a(47313),t=a(56140),n=a(67251),i=a(45705),r=a(86345),o=a(78267),d=a(37388),c=a(59491),u=a(99587),m=a(24511),v=a(46417);const{Text:h}=t.Z,p=e=>{let{columns:l=[],setColumns:a,style:t,size:p="",iconOnly:g}=e;const{t:Z}=(0,m.$)(),[x,j]=(0,s.useState)(!1),f=(0,v.jsx)(n.Z,{children:null===l||void 0===l?void 0:l.map(((e,s)=>(0,v.jsx)(n.Z.Item,{children:(0,v.jsxs)(i.Z,{className:"d-flex justify-content-between",children:[(0,v.jsx)(h,{children:e.title}),(0,v.jsx)(r.Z,{defaultChecked:!0,onClick:()=>function(e){const s=null===l||void 0===l?void 0:l.map((l=>(l.dataIndex===e.dataIndex&&(l.is_show=!(null!==l&&void 0!==l&&l.is_show)),l)));a(s)}(e),disabled:1===s})]})},e+s)))});return(0,v.jsx)(o.Z,{overlay:f,trigger:["click"],onVisibleChange:e=>{j(e)},visible:x,children:(0,v.jsx)(d.Z,{title:Z("change.columns"),children:(0,v.jsx)(c.Z,{style:{...t},size:p,icon:(0,v.jsx)(u.Z,{}),children:g?null:Z("Columns")})})})}},97388:(e,l,a)=>{a.d(l,{Z:()=>g});var s=a(47313),t=a(16609);const n=a.p+"static/media/pin.0e41858db80c699cd8a2.png";var i=a(31881),r=a.n(i),o=a(97421);async function d(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.kr,a={latlng:`${null===e||void 0===e?void 0:e.lat},${null===e||void 0===e?void 0:e.lng}`,key:l};return r().get("https://maps.googleapis.com/maps/api/geocode/json",{params:a}).then((e=>{var l;let{data:a}=e;return null===(l=a.results[0])||void 0===l?void 0:l.formatted_address})).catch((e=>"not found"))}var c=a(59392),u=a(23560),m=a(24511),v=a(307),h=a(46417);const p=(0,v.Z)();const g=(0,t.GoogleApiWrapper)({apiKey:p,libraries:["places","geometry"]})((function(e){var l,a;const[i,r]=(0,s.useState)(),{t:o}=(0,m.$)(),v=async()=>{await navigator.geolocation.getCurrentPosition((function(e){const l={lat:e.coords.latitude,lng:e.coords.longitude};r(l)}),(function(e){u.Am.warning(o("turn.on.gps"))}))};(0,s.useEffect)((()=>{v()}),[]);const g=[{lat:Number(null===e||void 0===e||null===(l=e.location)||void 0===l?void 0:l.lat)||0,lng:Number(null===e||void 0===e||null===(a=e.location)||void 0===a?void 0:a.lng)||0}];for(var Z=new e.google.maps.LatLngBounds,x=0;x<g.length;x++)Z.extend(g[x]);return(0,h.jsxs)("div",{className:"map-container",style:{height:400,width:"100%"},children:[(0,h.jsx)("button",{className:"map-button",type:"button",onClick:()=>{v(),i&&(async l=>{const a={lat:null===l||void 0===l?void 0:l.lat,lng:null===l||void 0===l?void 0:l.lng};e.setLocation(a);const s=await d(a,p);e.setAddress(s)})(i)},children:(0,h.jsx)(c.nDs,{})}),(0,h.jsx)(t.Map,{cursor:"pointer",onClick:async(l,a,s)=>{const{latLng:t}=s,n={lat:t.lat(),lng:t.lng()};e.setLocation(n);const i=await d(n,p);e.setAddress(i)},google:e.google,defaultZoom:12,zoom:10,className:"clickable",initialCenter:e.location,center:e.location,children:(0,h.jsx)(t.Marker,{position:e.location,icon:{url:n,scaledSize:new e.google.maps.Size(32,32)},className:"marker"})})]})}))},89281:(e,l,a)=>{a.d(l,{h:()=>d});var s=a(47313),t=a(12279),n=a.n(t),i=a(74294),r=a(72652),o=a(46417);const d=e=>{let{fetchOptions:l,debounceTimeout:a=400,onClear:t,...d}=e;const[c,u]=(0,s.useState)(!1),[m,v]=(0,s.useState)([]),h=(0,s.useMemo)((()=>n()((e=>{v([]),u(!0),l(e).then((e=>{v(e),u(!1)}))}),a)),[l,a]);return(0,o.jsx)(i.Z,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:h,onClear:()=>{h(""),t&&t()},notFoundContent:c?(0,o.jsx)(r.Z,{size:"small"}):"no results",...d,options:m,onFocus:()=>{h("")}})}},13945:(e,l,a)=>{function s(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}a.d(l,{Z:()=>s})},17649:(e,l,a)=>{a.d(l,{Z:()=>s});a(97421);function s(e){if(null===e||void 0===e||!e.location)return{lat:47.4143302506288,lng:8.532059477976883};const l=e.location.split(", ");return{lat:Number(null===l||void 0===l?void 0:l[0]),lng:Number(null===l||void 0===l?void 0:l[1])}}},307:(e,l,a)=>{a.d(l,{Z:()=>n});var s=a(67968),t=a(97421);const n=()=>{var e,l;const{google_map_key:a}=null===(e=s.h.getState())||void 0===e||null===(l=e.globalSettings)||void 0===l?void 0:l.settings;return a||t.kr}},84017:(e,l,a)=>{a.d(l,{Z:()=>t});var s=a(67968);function t(){var e,l;let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;const i=null===(e=s.h.getState())||void 0===e||null===(l=e.currency)||void 0===l?void 0:l.defaultCurrency,r=Number(a).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),o=t||(null===i||void 0===i?void 0:i.symbol)||"$",d=n||(null===i||void 0===i?void 0:i.position)||"before";return"after"===d?`${r} ${o}`:`${o} ${r}`}},20001:(e,l,a)=>{a.d(l,{Z:()=>n});var s=a(34344);const t="dashboard/admin/tables",n={getAll:e=>s.Z.get(t,{params:e}),getById:e=>s.Z.get(`${t}/${e}`),create:e=>s.Z.post(t,e),update:(e,l)=>s.Z.put(`${t}/${e}`,l),delete:e=>s.Z.delete(`${t}/delete`,{params:e})}},28358:(e,l,a)=>{a.d(l,{Z:()=>t});var s=a(34344);const t={getAll:e=>s.Z.get("dashboard/admin/kitchen",{params:e})}},78067:(e,l,a)=>{a.d(l,{Z:()=>b});var s=a(10976),t=a(68197),n=a(59624),i=a(66672),r=a(74294),o=a(16124),d=a(86345),c=a(59491),u=a(47313),m=a(24511),v=a(45321),h=a(51282),p=a(2717),g=a(75868),Z=a(97388),x=a(17649),j=a(23560),f=a(46417);const w=[{label:"Benzine",value:"benzine"},{label:"Diesel",value:"diesel"},{label:"Gas",value:"gas"},{label:"Motorbike",value:"motorbike"},{label:"Bike",value:"bike"},{label:"Foot",value:"foot"},{label:"Electric",value:"electric"}],b=e=>{let{id:l,data:a}=e;const{t:b}=(0,m.$)(),[y]=s.Z.useForm(),[k,_]=(0,u.useState)(!1),[I,S]=(0,u.useState)(!1),[C,q]=(0,u.useState)([]),{settings:N}=(0,p.v9)((e=>e.globalSettings),p.wU),[P,$]=(0,u.useState)((0,x.Z)(N)),z=e=>e.map((e=>({uid:e.id,name:e.path,url:e.path})));return(0,u.useEffect)((()=>{l&&(e=>{S(!0),v.Z.getById(e).then((e=>{var l,a,s,t,n,i,r,o;const d={...e.data,user_id:{label:e.data.deliveryMan.firstname+" "+e.data.deliveryMan.firstname,value:e.data.deliveryMan.id,images:z(e.data.galleries),location:{lat:null===(l=e.data)||void 0===l||null===(a=l.location)||void 0===a?void 0:a.latitude,lng:null===(s=e.data)||void 0===s||null===(t=s.location)||void 0===t?void 0:t.longitude}}};$({lat:null===(n=e.data)||void 0===n||null===(i=n.location)||void 0===i?void 0:i.latitude,lng:null===(r=e.data)||void 0===r||null===(o=r.location)||void 0===o?void 0:o.longitude}),q(z(e.data.galleries)),y.setFieldsValue(d)})).finally((()=>S(!1)))})(l)}),[]),(0,f.jsx)(s.Z,{name:"basic",layout:"vertical",onFinish:e=>{var s;_(!0);const t={...e,user_id:a.id,images:[null===(s=C[0])||void 0===s?void 0:s.name],location:{latitude:P.lat,longitude:P.lng},online:Number(e.online)};v.Z.update(l,t).then((()=>j.Am.success(b("successfully.updated")))).finally((()=>_(!1)))},form:y,children:I?(0,f.jsx)(h.Z,{}):(0,f.jsxs)(t.Z,{gutter:12,children:[(0,f.jsx)(n.Z,{span:12,children:(0,f.jsx)(s.Z.Item,{label:b("brand"),name:"brand",rules:[{required:!0,message:b("required")}],children:(0,f.jsx)(i.Z,{})})}),(0,f.jsx)(n.Z,{span:12,children:(0,f.jsx)(s.Z.Item,{label:b("model"),name:"model",rules:[{required:!0,message:b("required")}],children:(0,f.jsx)(i.Z,{})})}),(0,f.jsx)(n.Z,{span:12,children:(0,f.jsx)(s.Z.Item,{label:b("type.of.technique"),name:"type_of_technique",rules:[{required:!0,message:b("required")}],children:(0,f.jsx)(r.Z,{options:w})})}),(0,f.jsx)(n.Z,{span:12,children:(0,f.jsx)(s.Z.Item,{label:b("car.number"),name:"number",rules:[{required:!0,message:b("required")}],children:(0,f.jsx)(i.Z,{})})}),(0,f.jsx)(n.Z,{span:12,children:(0,f.jsx)(s.Z.Item,{label:b("car.color"),name:"color",rules:[{required:!0,message:b("required")}],children:(0,f.jsx)(i.Z,{})})}),(0,f.jsx)(n.Z,{span:12,children:(0,f.jsx)(s.Z.Item,{label:b("height"),name:"height",rules:[{validator:(e,l)=>l||0===l?!l||l<1?Promise.reject(new Error(b("min.1"))):Promise.resolve():Promise.reject(new Error(b("required")))}],children:(0,f.jsx)(o.Z,{className:"w-100",addonAfter:"sm"})})}),(0,f.jsx)(n.Z,{span:12,children:(0,f.jsx)(s.Z.Item,{label:b("weight"),name:"kg",rules:[{validator:(e,l)=>l||0===l?!l||l<1?Promise.reject(new Error(b("min.1"))):Promise.resolve():Promise.reject(new Error(b("required")))}],children:(0,f.jsx)(o.Z,{className:"w-100",addonAfter:"kg"})})}),(0,f.jsx)(n.Z,{span:12,children:(0,f.jsx)(s.Z.Item,{label:b("length"),name:"length",rules:[{validator:(e,l)=>l||0===l?!l||l<1?Promise.reject(new Error(b("min.1"))):Promise.resolve():Promise.reject(new Error(b("required")))}],children:(0,f.jsx)(o.Z,{className:"w-100",addonAfter:"sm"})})}),(0,f.jsx)(n.Z,{span:12,children:(0,f.jsx)(s.Z.Item,{label:b("width"),name:"width",rules:[{validator:(e,l)=>l||0===l?!l||l<1?Promise.reject(new Error(b("min.1"))):Promise.resolve():Promise.reject(new Error(b("required")))}],children:(0,f.jsx)(o.Z,{className:"w-100",addonAfter:"sm"})})}),(0,f.jsx)(n.Z,{span:12,children:(0,f.jsx)(s.Z.Item,{label:b("image"),name:"images",children:(0,f.jsx)(g.Z,{type:"deliveryman/settings",imageList:C,setImageList:q,form:y,length:"1",multiple:!0})})}),(0,f.jsx)(n.Z,{span:6,children:(0,f.jsx)(s.Z.Item,{label:b("online"),name:"online",valuePropName:"checked",children:(0,f.jsx)(d.Z,{})})}),(0,f.jsx)(n.Z,{span:24,children:(0,f.jsx)(s.Z.Item,{label:b("map"),name:"location",children:(0,f.jsx)(Z.Z,{location:P,setLocation:$})})}),(0,f.jsx)(n.Z,{span:24,children:(0,f.jsx)(c.Z,{type:"primary",htmlType:"submit",loading:k,children:b("save")})})]})})}},65559:(e,l,a)=>{a.d(l,{Z:()=>N});var s=a(47313),t=a(10976),n=a(68197),i=a(59624),r=a(66672),o=a(16124),d=a(99096),c=a(74294),u=a(86345),m=a(59491),v=a(97890),h=a(2717),p=a(49986),g=a(23560),Z=a(90954),x=a(84304),j=a(70816),f=a.n(j),w=a(24511),b=a(85746),y=a(75868),k=a(89281),_=a(53149),I=a(79492),S=a(28358),C=a(20001),q=a(46417);function N(e){var l,a,j;let{form:N,data:P,image:$,setImage:z,action_type:E=""}=e;const{t:V}=(0,w.$)(),A=(0,h.v9)((e=>e.menu.activeMenu),h.wU),M=(0,h.I0)(),F=(0,v.s0)(),{uuid:H}=(0,v.UO)(),O=(0,v.TH)(),[T,U]=(0,s.useState)(),[L,D]=(0,s.useState)(null),[Y,B]=(0,s.useState)(!1),W=null===A||void 0===A||null===(l=A.data)||void 0===l?void 0:l.role,K=(0,h.v9)((e=>e.user),h.wU),R=(0,h.v9)((e=>e.client),h.wU),{isDemo:G}=(0,I.Z)(),[J,Q]=(0,s.useState)((null===P||void 0===P||null===(a=P.invitations)||void 0===a||null===(j=a[0])||void 0===j?void 0:j.shop_id)||void 0);async function X(e){const l={search:e,status:"approved"};return _.Z.search(l).then((e=>e.data.map((e=>({label:null!==e.translation?e.translation.title:"no name",value:e.id})))))}return(0,q.jsx)(t.Z,{form:N,layout:"vertical",initialValues:{gender:"male",role:"admin",...P,birthday:null!==P&&void 0!==P&&P.birthday?f()(P.birthday):null},onFinish:e=>{var l,a,s,t;B(!0);const n={firstname:e.firstname,lastname:e.lastname,email:G||null===e||void 0===e?void 0:e.email,phone:G||null===e||void 0===e?void 0:e.phone,birthday:f()(T).format("YYYY-MM-DD"),gender:e.gender,images:$[0]?[null===(l=$[0])||void 0===l?void 0:l.name]:void 0,shop_id:null!==e&&void 0!==e&&e.shop_id?void 0!==(null===e||void 0===e?void 0:e.shop_id.length)?null===e||void 0===e||null===(a=e.shop_id)||void 0===a?void 0:a.map((e=>e.value)):[null===e||void 0===e?void 0:e.shop_id.value]:void 0,role:W,kitchen_id:(null===e||void 0===e||null===(s=e.kitchen)||void 0===s?void 0:s.value)||void 0,isWork:"waiter"===(null===P||void 0===P?void 0:P.role)?!(null===e||void 0===e||!e.isWork):void 0,table_ids:"waiter"===(null===P||void 0===P?void 0:P.role)?null===e||void 0===e||null===(t=e.table_ids)||void 0===t?void 0:t.map((e=>e.value)):void 0},i=0===O.pathname.search("/user/delivery/")?"deliveries/list":"user"!==P.role?"users/admin":"users/user",r={...K.params,role:P.role},o={...R.params};"edit"===E?p.Z.update(H,n).then((()=>{g.Am.success(V("successfully.updated")),M((0,Z.ph)({...A,nextUrl:i})),F(`/${i}`),"user"===P.role?M((0,b.Tu)(o)):M((0,x.uh)(r))})).catch((e=>D(e.response.data.params))).finally((()=>B(!1))):p.Z.create(n).then((()=>{g.Am.success(V("successfully.created")),M((0,Z.ph)({...A,nextUrl:i})),F(`/${i}`),"user"===P.role?M((0,b.Tu)(o)):M((0,x.uh)(r))})).catch((e=>D(e.response.data.params))).finally((()=>B(!1)))},className:"px-2",children:(0,q.jsxs)(n.Z,{gutter:12,children:[(0,q.jsx)(i.Z,{span:24,children:(0,q.jsx)(t.Z.Item,{name:"images",label:V("avatar"),rules:[{validator:()=>0===(null===$||void 0===$?void 0:$.length)?Promise.reject(new Error(V("required"))):Promise.resolve()}],children:(0,q.jsx)(y.Z,{type:"restaurant/logo",imageList:$,setImageList:z,form:N,multiple:!1,name:"logo_img"})})}),(0,q.jsx)(i.Z,{span:12,children:(0,q.jsx)(t.Z.Item,{label:V("firstname"),name:"firstname",help:null!==L&&void 0!==L&&L.firstname?L.firstname[0]:null,validateStatus:null!==L&&void 0!==L&&L.firstname?"error":"success",rules:[{validator:(e,l)=>l?l&&""===(null===l||void 0===l?void 0:l.trim())?Promise.reject(new Error(V("no.empty.space"))):l&&(null===l||void 0===l?void 0:l.trim().length)<2?Promise.reject(new Error(V("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(V("required")))}],children:(0,q.jsx)(r.Z,{className:"w-100"})})}),(0,q.jsx)(i.Z,{span:12,children:(0,q.jsx)(t.Z.Item,{label:V("lastname"),name:"lastname",help:null!==L&&void 0!==L&&L.lastname?L.lastname[0]:null,validateStatus:null!==L&&void 0!==L&&L.lastname?"error":"success",rules:[{validator:(e,l)=>l?l&&""===(null===l||void 0===l?void 0:l.trim())?Promise.reject(new Error(V("no.empty.space"))):l&&(null===l||void 0===l?void 0:l.trim().length)<2?Promise.reject(new Error(V("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(V("required")))}],children:(0,q.jsx)(r.Z,{className:"w-100"})})}),(0,q.jsx)(i.Z,{span:12,children:(0,q.jsx)(t.Z.Item,{label:V("phone"),name:"phone",help:null!==L&&void 0!==L&&L.phone?L.phone[0]:null,validateStatus:null!==L&&void 0!==L&&L.phone?"error":"success",rules:[{required:!G,message:V("required")}],children:(0,q.jsx)(o.Z,{min:0,className:"w-100"})})}),(0,q.jsx)(i.Z,{span:12,children:(0,q.jsx)(t.Z.Item,{label:V("birthday"),name:"birthday",rules:[{required:!0,message:V("required")}],children:(0,q.jsx)(d.Z,{onChange:e=>U(e),className:"w-100",disabledDate:e=>f()().add(-18,"years")<=e,defaultPickerValue:f()().add(-18,"years")})})}),(0,q.jsx)(i.Z,{span:12,children:(0,q.jsx)(t.Z.Item,{label:V("gender"),name:"gender",rules:[{required:!0,message:V("required")}],children:(0,q.jsxs)(c.Z,{picker:"dayTime",className:"w-100",children:[(0,q.jsx)(c.Z.Option,{value:"male",children:V("male")}),(0,q.jsx)(c.Z.Option,{value:"female",children:V("female")})]})})}),(0,q.jsx)(i.Z,{span:12,children:(0,q.jsx)(t.Z.Item,{label:V("email"),name:"email",help:null!==L&&void 0!==L&&L.email?L.email[0]:null,validateStatus:null!==L&&void 0!==L&&L.email?"error":"success",rules:[{required:!G,message:V("required")},{type:"email",message:V("invalid.email")}],children:(0,q.jsx)(r.Z,{type:"email",className:"w-100",disabled:G})})}),"admin"!==W&&"manager"!==W&&"moderator"!==W&&"seller"!==W&&"cook"!==W&&"user"!==W&&(0,q.jsx)(i.Z,{span:12,children:(0,q.jsx)(t.Z.Item,{label:V("branches"),name:"shop_id",rules:[{required:!1,message:V("required")}],children:(0,q.jsx)(k.h,{mode:"multiple",fetchOptions:X,className:"w-100",placeholder:V("select.shop"),allowClear:!1,onChange:e=>{N.setFieldsValue({table_ids:void 0})}})})}),"admin"!==W&&"manager"!==W&&"moderator"!==W&&"seller"!==W&&"cook"!==W&&"user"!==W&&"deliveryman"!==W&&(0,q.jsx)(i.Z,{span:12,children:(0,q.jsx)(t.Z.Item,{label:V("tables"),name:"table_ids",rules:[{required:!1,message:V("required")}],children:(0,q.jsx)(k.h,{mode:"multiple",fetchOptions:async function(e){var l;const a=N.getFieldValue("shop_id"),s={search:e,shop_ids:null!==(l=null===a||void 0===a?void 0:a.map((e=>e.value)))&&void 0!==l?l:[]};return C.Z.getAll(s).then((e=>e.data.map((e=>{var l;return{label:null!==(l=e.name)&&void 0!==l?l:"no name",value:e.id}}))))},className:"w-100",placeholder:V("select.table"),allowClear:!1})})}),"cook"===W&&(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(i.Z,{span:12,children:(0,q.jsx)(t.Z.Item,{label:V("shop"),name:"shop_id",rules:[{required:!1,message:V("required")}],children:(0,q.jsx)(k.h,{fetchOptions:X,className:"w-100",placeholder:V("select.shop"),allowClear:!1,onChange:e=>{Q(null===e||void 0===e?void 0:e.value),N.setFieldsValue({kitchen:void 0})}})})}),(0,q.jsx)(i.Z,{span:12,children:(0,q.jsx)(t.Z.Item,{label:V("kitchen"),name:"kitchen",children:(0,q.jsx)(k.h,{fetchOptions:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const l={search:null!==e&&void 0!==e&&e.length?e:void 0,shop_id:J||void 0,active:1};return S.Z.getAll(l).then((e=>{var l;return null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.map((e=>{var l;return{label:null===e||void 0===e||null===(l=e.translation)||void 0===l?void 0:l.title,value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}}))}))},disabled:!J,placeholder:V("select.kitchen")})})})]}),"moderator"===W&&(0,q.jsx)(i.Z,{span:12,children:(0,q.jsx)(t.Z.Item,{label:V("branches"),name:"shop_id",rules:[{required:!1,message:V("required")}],children:(0,q.jsx)(k.h,{fetchOptions:X,className:"w-100",placeholder:V("select.shop"),allowClear:!1})})}),"waiter"===(null===P||void 0===P?void 0:P.role)&&(0,q.jsx)(i.Z,{children:(0,q.jsx)(t.Z.Item,{label:V("is.work"),name:"isWork",valuePropName:"checked",children:(0,q.jsx)(u.Z,{})})}),(0,q.jsx)(i.Z,{span:24,children:(0,q.jsx)(m.Z,{type:"primary",htmlType:"submit",loading:Y,children:V("save")})})]})})}},45713:(e,l,a)=>{a.d(l,{Z:()=>k});var s=a(47313),t=a(45705),n=a(59491),i=a(77181),r=a(78508),o=a(97890),d=a(31741),c=a(47515),u=a(2717),m=a(90954),v=a(24511),h=a(84017),p=a(22054),g=a(13945),Z=a(74580),x=a(23560),j=a(55940),f=a(69658),w=a(7370),b=a(53233),y=a(46417);function k(e){let{data:l}=e;const a=(0,u.I0)(),k=(0,o.s0)(),{t:_}=(0,v.$)(),[I,S]=(0,s.useState)(null),[C,q]=(0,s.useState)(null),{setIsModalVisible:N}=(0,s.useContext)(Z._),[P,$]=(0,s.useState)(!1),{activeMenu:z}=(0,u.v9)((e=>e.menu),u.wU),{orders:E,meta:V,loading:A,params:M}=(0,u.v9)((e=>e.orders),u.wU),{defaultCurrency:F}=(0,u.v9)((e=>e.currency),u.wU),[H,O]=(0,s.useState)([{title:_("id"),is_show:!0,dataIndex:"id",key:"id",sorter:!0},{title:_("client"),is_show:!0,dataIndex:"user",key:"user",render:e=>(0,y.jsxs)("div",{children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})},{title:_("number.of.products"),is_show:!0,dataIndex:"order_details_count",key:"order_details_count",render:e=>(0,y.jsxs)("div",{className:"text-lowercase",children:[e||0," ",_("products")]})},{title:_("amount"),is_show:!0,dataIndex:"total_price",key:"total_price",render:e=>(0,h.Z)(e,null===F||void 0===F?void 0:F.symbol)},{title:_("payment.type"),is_show:!0,dataIndex:"transaction",key:"transaction",render:e=>{var l;return _(null===e||void 0===e||null===(l=e.payment_system)||void 0===l?void 0:l.tag)||"-"}},{title:_("created.at"),is_show:!0,dataIndex:"created_at",key:"created_at"},{title:_("options"),is_show:!0,key:"options",render:(e,l)=>(0,y.jsxs)(t.Z,{children:[(0,y.jsx)(n.Z,{icon:(0,y.jsx)(d.Z,{}),onClick:()=>(e=>{a((0,m.bL)({url:`order/details/${e.id}`,id:"order_details",name:_("order.details")})),k(`/order/details/${e.id}`)})(l)}),(0,y.jsx)(j.Z,{icon:(0,y.jsx)(c.Z,{}),onClick:()=>{S([l.id]),N(!0),q(!0)}})]})}]);(0,s.useEffect)((()=>{const e={user_id:null===l||void 0===l?void 0:l.uuid,page:1,perPage:10};a((0,p.dT)(e))}),[]);const T={selectedRowKeys:I,onChange:e=>{S(e)}};return(0,y.jsx)("div",{children:(0,y.jsxs)(i.Z,{title:_("orders"),extra:(0,y.jsxs)(t.Z,{wrap:!0,children:[(0,y.jsx)(j.Z,{type:"danger",onClick:()=>{null===I||0===I.length?x.Am.warning(_("select.the.product")):(N(!0),q(!1))},children:_("delete.all")}),(0,y.jsx)(b.Z,{setColumns:O,columns:H})]}),children:[(0,y.jsx)(r.Z,{scroll:{x:!0},rowSelection:T,columns:null===H||void 0===H?void 0:H.filter((e=>e.is_show)),dataSource:E,loading:A,pagination:{pageSize:M.perPage,page:M.page,total:V.total,defaultCurrent:M.page},rowKey:e=>e.id,onChange:function(e,l,s){const{pageSize:t,current:n}=e,{field:i,order:r}=s,o=(0,g.Z)(r);a((0,m.nc)({activeMenu:z,data:{...z.data,perPage:t,page:n,column:i,sort:o}}))}}),(0,y.jsx)(f.Z,{click:()=>{$(!0);const e={...Object.assign({},...I.map(((e,l)=>({[`ids[${l}]`]:e}))))};w.Z.delete(e).then((()=>{x.Am.success(_("successfully.deleted")),N(!1),a((0,p.dT)()),q(null)})).finally((()=>$(!1)))},text:_(C?"delete":"all.delete"),loading:P,setText:S})]})})}},94748:(e,l,a)=>{a.d(l,{Z:()=>p});var s=a(47313),t=a(10976),n=a(77181),i=a(68197),r=a(59624),o=a(66672),d=a(59491),c=a(97890),u=a(23560),m=a(49986),v=a(24511),h=a(46417);function p(){const{t:e}=(0,v.$)(),[l]=t.Z.useForm(),[a,p]=(0,s.useState)(null),[g,Z]=(0,s.useState)(!1),{uuid:x}=(0,c.UO)();return(0,h.jsx)(n.Z,{title:e("user.password.change"),children:(0,h.jsx)(t.Z,{form:l,layout:"vertical",onFinish:l=>{Z(!0);const a={password:l.password?l.password:void 0,password_confirmation:l.password_confirmation};m.Z.updatePassword(x,a).then((()=>{u.Am.success(e("successfully.created"))})).catch((e=>p(e.response.data.params))).finally((()=>Z(!1)))},children:(0,h.jsxs)(i.Z,{gutter:12,children:[(0,h.jsx)(r.Z,{span:12,children:(0,h.jsx)(t.Z.Item,{label:e("password"),name:"password",help:null!==a&&void 0!==a&&a.password?a.password[0]:null,validateStatus:null!==a&&void 0!==a&&a.password?"error":"success",rules:[{required:!0,message:e("required")}],children:(0,h.jsx)(o.Z.Password,{type:"password",className:"w-100",placeholder:"********"})})}),(0,h.jsx)(r.Z,{span:12,children:(0,h.jsx)(t.Z.Item,{label:e("password.confirmation"),help:null!==a&&void 0!==a&&a.password_confirmation?a.password_confirmation[0]:null,validateStatus:null!==a&&void 0!==a&&a.password_confirmation?"error":"success",name:"password_confirmation",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:e("required")},l=>{let{getFieldValue:a}=l;return{validator:(l,s)=>s&&a("password")!==s?Promise.reject(e("two.passwords.dont.match")):Promise.resolve()}}],children:(0,h.jsx)(o.Z.Password,{type:"password",placeholder:"********"})})}),(0,h.jsx)(r.Z,{span:24,children:(0,h.jsx)(d.Z,{type:"primary",htmlType:"submit",loading:g,children:e("save")})})]})})})}},92815:(e,l,a)=>{a.d(l,{Z:()=>y});var s=a(47313),t=a(45705),n=a(59491),i=a(78508),r=a(2717),o=a(24511),d=a(84017),c=a(49986),u=a(55768),m=a(10976),v=a(9274),h=a(16124),p=a(66672),g=a(23560),Z=a(90954),x=a(46417);function j(e){let{modal:l,uuid:a,handleCancel:t}=e;const[i,d]=(0,s.useState)(!1),[u]=m.Z.useForm(),{t:j}=(0,o.$)(),f=(0,r.I0)(),{activeMenu:w}=(0,r.v9)((e=>e.menu),r.wU);return(0,x.jsx)(v.Z,{visible:l,title:j("topup.wallet"),onCancel:t,footer:[(0,x.jsx)(n.Z,{type:"default",onClick:t,children:j("cancel")},"cancel-btn"),(0,x.jsx)(n.Z,{type:"primary",onClick:()=>u.submit(),loading:i,children:j("save")},"submit-btn")],children:(0,x.jsxs)(m.Z,{layout:"vertical",form:u,onFinish:e=>{d(!0),c.Z.topupWallet(a,e).then((()=>{g.Am.success(j("successfully.added")),f((0,Z.xo)(w)),t()})).finally((()=>d(!1)))},children:[(0,x.jsx)(m.Z.Item,{label:j("price"),name:"price",rules:[{required:!0,message:j("required")}],children:(0,x.jsx)(h.Z,{min:0,className:"w-100"})}),(0,x.jsx)(m.Z.Item,{label:j("note"),name:"note",children:(0,x.jsx)(p.Z,{})})]})})}var f=a(53233),w=a(70816),b=a.n(w);function y(e){var l;let{data:a}=e;const{t:m}=(0,o.$)(),[v,h]=(0,s.useState)(1),[p,g]=(0,s.useState)(10),[Z,w]=(0,s.useState)(1),[y,k]=(0,s.useState)(!1),[_,I]=(0,s.useState)([]),[S,C]=(0,s.useState)(!1),{defaultCurrency:q}=(0,r.v9)((e=>e.currency),r.wU),[N,P]=(0,s.useState)([{title:m("created.by"),dataIndex:"author",key:"author",is_show:!0,render:e=>(0,x.jsxs)("div",{children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})},{title:m("price"),dataIndex:"price",key:"price",is_show:!0,render:e=>(0,d.Z)(e,null===q||void 0===q?void 0:q.symbol)},{title:m("note"),dataIndex:"note",key:"note",is_show:!0},{title:m("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0,render:e=>b()(e).format("YYYY-MM-DD HH:mm")}]);return(0,s.useEffect)((()=>{!function(){k(!0);const e={pageSize:10,page:v||1};c.Z.walletHistory(a.uuid,e).then((e=>{I(e.data),w(e.meta.total)})).finally((()=>k(!1)))}()}),[v]),(0,x.jsxs)("div",{className:"px-2",children:[(0,x.jsx)("div",{className:"d-flex justify-content-end",children:(0,x.jsxs)(t.Z,{wrap:!0,children:[(0,x.jsx)(n.Z,{type:"primary",icon:(0,x.jsx)(u.Z,{}),onClick:()=>C(!0),children:`${m("wallet")}: ${(0,d.Z)(null===a||void 0===a||null===(l=a.wallet)||void 0===l?void 0:l.price,null===q||void 0===q?void 0:q.symbol)}`}),(0,x.jsx)(f.Z,{columns:N,setColumns:P})]})}),(0,x.jsx)(i.Z,{scroll:{x:!0},columns:null===N||void 0===N?void 0:N.filter((e=>e.is_show)),dataSource:_,loading:y,pagination:{pageSize:p,page:v,total:Z},rowKey:e=>e.id,onChange:function(e,l,a){const{pageSize:s,current:t}=e;h(t),g(s)}}),S&&(0,x.jsx)(j,{modal:S,uuid:a.uuid,handleCancel:()=>C(!1)})]})}},55768:(e,l,a)=>{a.d(l,{Z:()=>o});var s=a(1413),t=a(47313);const n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};var i=a(17469),r=function(e,l){return t.createElement(i.Z,(0,s.Z)((0,s.Z)({},e),{},{ref:l,icon:n}))};r.displayName="PlusCircleOutlined";const o=t.forwardRef(r)},99587:(e,l,a)=>{a.d(l,{Z:()=>o});var s=a(1413),t=a(47313);const n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var i=a(17469),r=function(e,l){return t.createElement(i.Z,(0,s.Z)((0,s.Z)({},e),{},{ref:l,icon:n}))};r.displayName="TableOutlined";const o=t.forwardRef(r)}}]);