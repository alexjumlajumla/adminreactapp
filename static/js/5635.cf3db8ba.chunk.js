"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[5635],{55940:(e,t,l)=>{l.d(t,{Z:()=>o});l(47313);var s=l(59491),n=l(47515),d=l(23560),a=l(24511),i=l(79492),r=l(46417);function o(e){let{size:t="",onClick:l,type:o="default",...c}=e;const{t:u}=(0,a.$)(),{isDemo:h}=(0,i.Z)();return(0,r.jsx)(s.Z,{size:t,icon:(0,r.jsx)(n.Z,{}),onClick:e=>{h?d.Am.warning(u("cannot.work.demo")):l(e)},type:o,...c})}},53233:(e,t,l)=>{l.d(t,{Z:()=>f});var s=l(47313),n=l(56140),d=l(67251),a=l(45705),i=l(86345),r=l(78267),o=l(37388),c=l(59491),u=l(99587),h=l(24511),v=l(46417);const{Text:x}=n.Z,f=e=>{let{columns:t=[],setColumns:l,style:n,size:f="",iconOnly:m}=e;const{t:Z}=(0,h.$)(),[g,p]=(0,s.useState)(!1),j=(0,v.jsx)(d.Z,{children:null===t||void 0===t?void 0:t.map(((e,s)=>(0,v.jsx)(d.Z.Item,{children:(0,v.jsxs)(a.Z,{className:"d-flex justify-content-between",children:[(0,v.jsx)(x,{children:e.title}),(0,v.jsx)(i.Z,{defaultChecked:!0,onClick:()=>function(e){const s=null===t||void 0===t?void 0:t.map((t=>(t.dataIndex===e.dataIndex&&(t.is_show=!(null!==t&&void 0!==t&&t.is_show)),t)));l(s)}(e),disabled:1===s})]})},e+s)))});return(0,v.jsx)(r.Z,{overlay:j,trigger:["click"],onVisibleChange:e=>{p(e)},visible:g,children:(0,v.jsx)(o.Z,{title:Z("change.columns"),children:(0,v.jsx)(c.Z,{style:{...n},size:f,icon:(0,v.jsx)(u.Z,{}),children:m?null:Z("Columns")})})})}},48008:(e,t,l)=>{l.d(t,{Z:()=>r});l(47313);var s=l(9274),n=l(87569),d=l(59491),a=l(24511),i=l(46417);const r=e=>{let{open:t,handleCancel:l,text:r,click:o,loading:c,subTitle:u}=e;const{t:h}=(0,a.$)();return(0,i.jsxs)(s.Z,{closable:!1,visible:t,footer:null,centered:!0,children:[(0,i.jsx)(n.ZP,{status:"warning",title:r,subTitle:u}),(0,i.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,i.jsx)(d.Z,{type:"primary",className:"mr-2",onClick:o,loading:c,children:h("yes")}),(0,i.jsx)(d.Z,{onClick:()=>l(),children:h("no")})]})]})}},41481:(e,t,l)=>{l.d(t,{Z:()=>r});var s=l(47313),n=l(66672),d=l(16031),a=l(40765),i=l(46417);function r(e){let{handleChange:t,defaultValue:l,resetSearch:r,...o}=e;const[c,u]=(0,s.useState)(l),h=(0,s.useMemo)((()=>(0,d.debounce)((e=>{t(e)}),800)),[t]);return(0,s.useEffect)((()=>{u(l)}),[r,l]),(0,i.jsx)(n.Z,{value:c,onChange:e=>{u(e.target.value),h(e.target.value)},prefix:(0,i.jsx)(a.Z,{}),...o})}},13945:(e,t,l)=>{function s(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}l.d(t,{Z:()=>s})},15635:(e,t,l)=>{l.r(t),l.d(t,{default:()=>I});var s=l(47313),n=l(73591),d=l(66204),a=l(45705),i=l(59491),r=l(77181),o=l(78508),c=l(97890),u=l(31741),h=l(69658),v=l(74580),x=l(2717),f=l(90954),m=l(23560),Z=l(24511),g=l(55940),p=l(53233),j=l(74198),y=l(49319),b=l(48008),w=l(41481),_=l(80314),k=l(13945),C=l(70816),z=l.n(C),S=l(46417);const{TabPane:V}=n.Z,H=["pending","accepted","canceled","deleted_at"],I=()=>{var e,t,l,C,I,M;const{t:A}=(0,Z.$)(),T=(0,x.I0)(),N=(0,c.s0)(),{refund_delete:R}=(0,x.v9)((e=>e.globalSettings.settings),x.wU),[$,P]=(0,s.useState)([{title:A("id"),is_show:!0,dataIndex:"id",key:"id",sorter:!0},{title:A("order.id"),is_show:!0,dataIndex:"order.id",key:"order.id",render:(e,t)=>(0,S.jsx)("div",{children:t.order.id})},{title:A("client"),is_show:!0,dataIndex:"user",key:"user",render:(e,t)=>{var l,s;return(0,S.jsxs)("div",{children:[null===(l=t.order.user)||void 0===l?void 0:l.firstname," ",null===(s=t.order.user)||void 0===s?void 0:s.lastname]})}},{title:A("shop"),is_show:!0,dataIndex:"shop",key:"shop",render:(e,t)=>{var l,s;return(0,S.jsx)("div",{children:null===(l=t.order.shop)||void 0===l||null===(s=l.translation)||void 0===s?void 0:s.title})}},{title:A("status"),is_show:!0,dataIndex:"status",key:"status",render:e=>(0,S.jsx)("div",{children:"new"===e?(0,S.jsx)(d.Z,{color:"blue",children:A(e)}):"canceled"===e?(0,S.jsx)(d.Z,{color:"error",children:A(e)}):(0,S.jsx)(d.Z,{color:"cyan",children:A(e)})})},{title:A("created.at"),is_show:!0,dataIndex:"created_at",key:"created_at",render:(e,t)=>z()(null===t||void 0===t?void 0:t.created_at).format("YYYY-MM-DD HH:mm")},{title:A("options"),is_show:!0,key:"options",render:(e,t)=>(0,S.jsxs)(a.Z,{children:[(0,S.jsx)(i.Z,{disabled:t.deleted_at,icon:(0,S.jsx)(u.Z,{}),onClick:()=>(e=>{T((0,f.bL)({url:`refund/details/${e}`,id:"refund_details",name:A("refund.details")})),N(`/refund/details/${e}`)})(t.id)}),"0"===R?null:(0,S.jsx)(g.Z,{disabled:t.deleted_at,onClick:()=>{E([t.id]),Y(!0),B(!0)}})]})}]),{setIsModalVisible:Y}=(0,s.useContext)(v._),[D,E]=(0,s.useState)(null),[K,O]=(0,s.useState)(!1),[U,B]=(0,s.useState)(null),[L,q]=(0,s.useState)(null),[F,G]=(0,s.useState)("pending"),{activeMenu:J}=(0,x.v9)((e=>e.menu),x.wU),{refund:Q,meta:W,loading:X,params:ee}=(0,x.v9)((e=>e.refund),x.wU),te=(null===(e=J.data)||void 0===e?void 0:e.role)||F,le=J.data,se={search:null===le||void 0===le?void 0:le.search,pageSize:W.per_page,page:null===le||void 0===le?void 0:le.page,status:"deleted_at"===te?void 0:te||"published",deleted_at:"deleted_at"===te?te:void 0};(0,s.useEffect)((()=>{J.refetch&&(T((0,j.yR)(se)),T((0,f.A_)(J)))}),[J.refetch]),(0,_.Z)((()=>{T((0,j.yR)(se))}),[J.data]);const ne={selectedRowKeys:D,onChange:e=>{E(e)}},de=e=>{const t=J.data;T((0,f.nc)({activeMenu:J,data:{...t,...e}}))};return(0,S.jsxs)(r.Z,{title:A("refunds"),extra:(0,S.jsxs)(a.Z,{children:["0"===R||"deleted_at"===te?null:(0,S.jsx)(a.Z,{children:(0,S.jsx)(g.Z,{size:"",onClick:()=>{null===D||0===D.length?m.Am.warning(A("select.the.product")):(Y(!0),B(!1))},children:A("delete.selected")})}),(0,S.jsx)(p.Z,{columns:$,setColumns:P})]}),children:[(0,S.jsx)("div",{className:"d-flex justify-content-between",children:(0,S.jsx)(w.Z,{placeholder:A("search"),className:"w-25",handleChange:e=>de({search:e}),resetSearch:!(null!==(t=J.data)&&void 0!==t&&t.search),defaultValue:null===(l=J.data)||void 0===l?void 0:l.search})}),(0,S.jsx)(n.Z,{className:"mt-3",activeKey:te,onChange:e=>{de({role:e,page:1}),G(e)},type:"card",children:H.map((e=>(0,S.jsx)(V,{tab:A(e)},e)))}),(0,S.jsx)(o.Z,{scroll:{x:!0},rowSelection:ne,columns:null===$||void 0===$?void 0:$.filter((e=>e.is_show)),dataSource:Q,pagination:{pageSize:ee.perPage,page:(null===(C=J.data)||void 0===C?void 0:C.page)||1,total:W.total,defaultCurrent:null===(I=J.data)||void 0===I?void 0:I.page,current:null===(M=J.data)||void 0===M?void 0:M.page},rowKey:e=>e.id,loading:X,onChange:function(e,t,l){const{pageSize:s,current:n}=e,{field:d,order:a}=l,i=(0,k.Z)(a);T((0,f.nc)({activeMenu:J,data:{...J.data,perPage:s,page:n,column:d,sort:i}}))}}),(0,S.jsx)(h.Z,{click:()=>{O(!0);const e={...Object.assign({},...D.map(((e,t)=>({[`ids[${t}]`]:e}))))};y.Z.delete(e).then((()=>{T((0,j.yR)(se)),m.Am.success(A("successfully.deleted"))})).finally((()=>{Y(!1),O(!1),E(null)}))},text:A(U?"delete":"all.delete"),loading:K,setText:E}),L&&(0,S.jsx)(b.Z,{open:L,handleCancel:()=>q(null),click:L.restore?()=>{O(!0),y.Z.restoreAll().then((()=>{m.Am.success(A("successfully.deleted")),T((0,j.yR)(se)),q(null)})).finally((()=>O(!1)))}:()=>{O(!0),y.Z.dropAll().then((()=>{m.Am.success(A("successfully.deleted")),T((0,j.yR)()),q(null)})).finally((()=>O(!1)))},text:L.restore?A("restore.modal.text"):A("read.carefully"),subTitle:L.restore?"":A("confirm.deletion"),loading:K,setText:E})]})}},99587:(e,t,l)=>{l.d(t,{Z:()=>r});var s=l(1413),n=l(47313);const d={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var a=l(17469),i=function(e,t){return n.createElement(a.Z,(0,s.Z)((0,s.Z)({},e),{},{ref:t,icon:d}))};i.displayName="TableOutlined";const r=n.forwardRef(i)}}]);